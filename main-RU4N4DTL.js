var Oy=Object.defineProperty,ky=Object.defineProperties;var Fy=Object.getOwnPropertyDescriptors;var Ef=Object.getOwnPropertySymbols;var Py=Object.prototype.hasOwnProperty,Ly=Object.prototype.propertyIsEnumerable;var If=(t,e,n)=>e in t?Oy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w=(t,e)=>{for(var n in e||={})Py.call(e,n)&&If(t,n,e[n]);if(Ef)for(var n of Ef(e))Ly.call(e,n)&&If(t,n,e[n]);return t},z=(t,e)=>ky(t,Fy(e));function xf(t,e){return Object.is(t,e)}var we=null,_i=!1,Lo=1,Tt=Symbol("SIGNAL");function Z(t){let e=we;return we=t,e}function Mf(){return we}function Vy(){return _i}var mr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function jo(t){if(_i)throw new Error("");if(we===null)return;we.consumerOnSignalRead(t);let e=we.nextProducerIndex++;if(zo(we),e<we.producerNode.length&&we.producerNode[e]!==t&&Ei(we)){let n=we.producerNode[e];Ho(n,we.producerIndexOfThis[e])}we.producerNode[e]!==t&&(we.producerNode[e]=t,we.producerIndexOfThis[e]=Ei(we)?Rf(t,we,e):0),we.producerLastReadVersion[e]=t.version}function jy(){Lo++}function Sf(t){if(!(Ei(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Lo)){if(!t.producerMustRecompute(t)&&!Bo(t)){t.dirty=!1,t.lastCleanEpoch=Lo;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Lo}}function Tf(t){if(t.liveConsumerNode===void 0)return;let e=_i;_i=!0;try{for(let n of t.liveConsumerNode)n.dirty||Nf(n)}finally{_i=e}}function Af(){return we?.consumerAllowSignalWrites!==!1}function Nf(t){t.dirty=!0,Tf(t),t.consumerMarkedDirty?.(t)}function Ii(t){return t&&(t.nextProducerIndex=0),Z(t)}function $o(t,e){if(Z(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ei(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ho(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Bo(t){zo(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Sf(n),r!==n.version))return!0}return!1}function Uo(t){if(zo(t),Ei(t))for(let e=0;e<t.producerNode.length;e++)Ho(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Rf(t,e,n){if(Of(t),t.liveConsumerNode.length===0&&kf(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Rf(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Ho(t,e){if(Of(t),t.liveConsumerNode.length===1&&kf(t))for(let r=0;r<t.producerNode.length;r++)Ho(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];zo(i),i.producerIndexOfThis[r]=e}}function Ei(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function zo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Of(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function kf(t){return t.producerNode!==void 0}function Ff(t){let e=Object.create($y);e.computation=t;let n=()=>{if(Sf(e),jo(e),e.value===Vo)throw e.error;return e.value};return n[Tt]=e,n}var Hc=Symbol("UNSET"),zc=Symbol("COMPUTING"),Vo=Symbol("ERRORED"),$y=z(w({},mr),{value:Hc,dirty:!0,error:null,equal:xf,producerMustRecompute(t){return t.value===Hc||t.value===zc},producerRecomputeValue(t){if(t.value===zc)throw new Error("Detected cycle in computations.");let e=t.value;t.value=zc;let n=Ii(t),r;try{r=t.computation()}catch(i){r=Vo,t.error=i}finally{$o(t,n)}if(e!==Hc&&e!==Vo&&r!==Vo&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function By(){throw new Error}var Pf=By;function Lf(){Pf()}function Vf(t){Pf=t}var Uy=null;function jf(t){let e=Object.create(Gc);e.value=t;let n=()=>(jo(e),e.value);return n[Tt]=e,n}function qo(t,e){Af()||Lf(),t.equal(t.value,e)||(t.value=e,Hy(t))}function $f(t,e){Af()||Lf(),qo(t,e(t.value))}var Gc=z(w({},mr),{equal:xf,value:void 0});function Hy(t){t.version++,jy(),Tf(t),Uy?.()}function Bf(t,e,n){let r=Object.create(zy);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function o(c){return c.fn===null&&c.schedule===null}function s(c){o(c)||(Uo(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=qc)}let a=()=>{if(r.fn===null)return;if(Vy())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!Bo(r))return;r.hasRun=!0;let c=Ii(r);try{r.cleanupFn(),r.cleanupFn=qc,r.fn(i)}finally{$o(r,c)}};return r.ref={notify:()=>Nf(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[Tt]:r},r.ref}var qc=()=>{},zy=z(w({},mr),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:qc});function T(t){return typeof t=="function"}function gr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Go=gr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function $n(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var me=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(T(r))try{r()}catch(o){e=o instanceof Go?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Uf(o)}catch(s){e=e??[],s instanceof Go?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Go(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Uf(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&$n(n,e)}remove(e){let{_finalizers:n}=this;n&&$n(n,e),e instanceof t&&e._removeParent(this)}};me.EMPTY=(()=>{let t=new me;return t.closed=!0,t})();var Wc=me.EMPTY;function Wo(t){return t instanceof me||t&&"closed"in t&&T(t.remove)&&T(t.add)&&T(t.unsubscribe)}function Uf(t){T(t)?t():t.unsubscribe()}var yt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var vr={setTimeout(t,e,...n){let{delegate:r}=vr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=vr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Zo(t){vr.setTimeout(()=>{let{onUnhandledError:e}=yt;if(e)e(t);else throw t})}function Qt(){}var Hf=Zc("C",void 0,void 0);function zf(t){return Zc("E",void 0,t)}function qf(t){return Zc("N",t,void 0)}function Zc(t,e,n){return{kind:t,value:e,error:n}}var Bn=null;function yr(t){if(yt.useDeprecatedSynchronousErrorHandling){let e=!Bn;if(e&&(Bn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Bn;if(Bn=null,n)throw r}}else t()}function Gf(t){yt.useDeprecatedSynchronousErrorHandling&&Bn&&(Bn.errorThrown=!0,Bn.error=t)}var Un=class extends me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Wo(e)&&e.add(this)):this.destination=Wy}static create(e,n,r){return new Cr(e,n,r)}next(e){this.isStopped?Yc(qf(e),this):this._next(e)}error(e){this.isStopped?Yc(zf(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Yc(Hf,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},qy=Function.prototype.bind;function Qc(t,e){return qy.call(t,e)}var Kc=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Qo(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Qo(r)}else Qo(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Qo(n)}}},Cr=class extends Un{constructor(e,n,r){super();let i;if(T(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&yt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Qc(e.next,o),error:e.error&&Qc(e.error,o),complete:e.complete&&Qc(e.complete,o)}):i=e}this.destination=new Kc(i)}};function Qo(t){yt.useDeprecatedSynchronousErrorHandling?Gf(t):Zo(t)}function Gy(t){throw t}function Yc(t,e){let{onStoppedNotification:n}=yt;n&&vr.setTimeout(()=>n(t,e))}var Wy={closed:!0,next:Qt,error:Gy,complete:Qt};var Dr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function et(t){return t}function Jc(...t){return Xc(t)}function Xc(t){return t.length===0?et:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var $=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Qy(n)?n:new Cr(n,r,i);return yr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Wf(r),new r((i,o)=>{let s=new Cr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Dr](){return this}pipe(...n){return Xc(n)(this)}toPromise(n){return n=Wf(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Wf(t){var e;return(e=t??yt.Promise)!==null&&e!==void 0?e:Promise}function Zy(t){return t&&T(t.next)&&T(t.error)&&T(t.complete)}function Qy(t){return t&&t instanceof Un||Zy(t)&&Wo(t)}function el(t){return T(t?.lift)}function q(t){return e=>{if(el(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function G(t,e,n,r,i){return new tl(t,e,n,r,i)}var tl=class extends Un{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function wr(){return q((t,e)=>{let n=null;t._refCount++;let r=G(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ln=class extends ${constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,el(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new me;let n=this.getSubject();e.add(this.source.subscribe(G(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=me.EMPTY)}return e}refCount(){return wr()(this)}};var Zf=gr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=(()=>{class t extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Yo(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Zf}next(n){yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Wc:(this.currentObservers=null,o.push(n),new me(()=>{this.currentObservers=null,$n(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new $;return n.source=this,n}}return t.create=(e,n)=>new Yo(e,n),t})(),Yo=class extends ce{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Wc}};var Ie=class extends ce{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var xi={now(){return(xi.delegate||Date).now()},delegate:void 0};var Mi=class extends ce{constructor(e=1/0,n=1/0,r=xi){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Ko=class extends me{constructor(e,n){super()}schedule(e,n=0){return this}};var Si={setInterval(t,e,...n){let{delegate:r}=Si;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Si;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Jo=class extends Ko{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Si.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Si.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,$n(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var br=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};br.now=xi.now;var Xo=class extends br{constructor(e,n=br.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ti=new Xo(Jo),Qf=Ti;var Ne=new $(t=>t.complete());function es(t){return t&&T(t.schedule)}function nl(t){return t[t.length-1]}function ts(t){return T(nl(t))?t.pop():void 0}function At(t){return es(nl(t))?t.pop():void 0}function Yf(t,e){return typeof nl(t)=="number"?t.pop():e}function Jf(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(h){s(h)}}function c(u){try{l(r.throw(u))}catch(h){s(h)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Kf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hn(t){return this instanceof Hn?(this.v=t,this):new Hn(t)}function Xf(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(D){return Promise.resolve(D).then(m,h)}}function a(m,D){r[m]&&(i[m]=function(P){return new Promise(function(X,J){o.push([m,P,X,J])>1||c(m,P)})},D&&(i[m]=D(i[m])))}function c(m,D){try{l(r[m](D))}catch(P){g(o[0][3],P)}}function l(m){m.value instanceof Hn?Promise.resolve(m.value.v).then(u,h):g(o[0][2],m)}function u(m){c("next",m)}function h(m){c("throw",m)}function g(m,D){m(D),o.shift(),o.length&&c(o[0][0],o[0][1])}}function eh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Kf=="function"?Kf(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var _r=t=>t&&typeof t.length=="number"&&typeof t!="function";function ns(t){return T(t?.then)}function rs(t){return T(t[Dr])}function is(t){return Symbol.asyncIterator&&T(t?.[Symbol.asyncIterator])}function os(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Yy(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ss=Yy();function as(t){return T(t?.[ss])}function cs(t){return Xf(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Hn(n.read());if(i)return yield Hn(void 0);yield yield Hn(r)}}finally{n.releaseLock()}})}function ls(t){return T(t?.getReader)}function ie(t){if(t instanceof $)return t;if(t!=null){if(rs(t))return Ky(t);if(_r(t))return Jy(t);if(ns(t))return Xy(t);if(is(t))return th(t);if(as(t))return e0(t);if(ls(t))return t0(t)}throw os(t)}function Ky(t){return new $(e=>{let n=t[Dr]();if(T(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Jy(t){return new $(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Xy(t){return new $(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Zo)})}function e0(t){return new $(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function th(t){return new $(e=>{n0(t,e).catch(n=>e.error(n))})}function t0(t){return th(cs(t))}function n0(t,e){var n,r,i,o;return Jf(this,void 0,void 0,function*(){try{for(n=eh(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ue(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function us(t,e=0){return q((n,r)=>{n.subscribe(G(r,i=>Ue(r,t,()=>r.next(i),e),()=>Ue(r,t,()=>r.complete(),e),i=>Ue(r,t,()=>r.error(i),e)))})}function ds(t,e=0){return q((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function nh(t,e){return ie(t).pipe(ds(e),us(e))}function rh(t,e){return ie(t).pipe(ds(e),us(e))}function ih(t,e){return new $(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function oh(t,e){return new $(n=>{let r;return Ue(n,e,()=>{r=t[ss](),Ue(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>T(r?.return)&&r.return()})}function fs(t,e){if(!t)throw new Error("Iterable cannot be null");return new $(n=>{Ue(n,e,()=>{let r=t[Symbol.asyncIterator]();Ue(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function sh(t,e){return fs(cs(t),e)}function ah(t,e){if(t!=null){if(rs(t))return nh(t,e);if(_r(t))return ih(t,e);if(ns(t))return rh(t,e);if(is(t))return fs(t,e);if(as(t))return oh(t,e);if(ls(t))return sh(t,e)}throw os(t)}function oe(t,e){return e?ah(t,e):ie(t)}function O(...t){let e=At(t);return oe(t,e)}function un(t,e){let n=T(t)?t:()=>t,r=i=>i.error(n());return new $(e?i=>e.schedule(r,0,i):r)}function rl(t){return!!t&&(t instanceof $||T(t.lift)&&T(t.subscribe))}var Yt=gr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ch(t){return t instanceof Date&&!isNaN(t)}function V(t,e){return q((n,r)=>{let i=0;n.subscribe(G(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:r0}=Array;function i0(t,e){return r0(e)?t(...e):t(e)}function Er(t){return V(e=>i0(t,e))}var{isArray:o0}=Array,{getPrototypeOf:s0,prototype:a0,keys:c0}=Object;function hs(t){if(t.length===1){let e=t[0];if(o0(e))return{args:e,keys:null};if(l0(e)){let n=c0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function l0(t){return t&&typeof t=="object"&&s0(t)===a0}function ps(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ai(...t){let e=At(t),n=ts(t),{args:r,keys:i}=hs(t);if(r.length===0)return oe([],e);let o=new $(u0(r,e,i?s=>ps(i,s):et));return n?o.pipe(Er(n)):o}function u0(t,e,n=et){return r=>{lh(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)lh(e,()=>{let l=oe(t[c],e),u=!1;l.subscribe(G(r,h=>{o[c]=h,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function lh(t,e,n){t?Ue(n,t,e):e()}function uh(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,h=!1,g=()=>{h&&!c.length&&!l&&e.complete()},m=P=>l<r?D(P):c.push(P),D=P=>{o&&e.next(P),l++;let X=!1;ie(n(P,u++)).subscribe(G(e,J=>{i?.(J),o?m(J):e.next(J)},()=>{X=!0},void 0,()=>{if(X)try{for(l--;c.length&&l<r;){let J=c.shift();s?Ue(e,s,()=>D(J)):D(J)}g()}catch(J){e.error(J)}}))};return t.subscribe(G(e,m,()=>{h=!0,g()})),()=>{a?.()}}function fe(t,e,n=1/0){return T(e)?fe((r,i)=>V((o,s)=>e(r,o,i,s))(ie(t(r,i))),n):(typeof e=="number"&&(n=e),q((r,i)=>uh(r,i,t,n)))}function dn(t=1/0){return fe(et,t)}function dh(){return dn(1)}function Nt(...t){return dh()(oe(t,At(t)))}function zn(t){return new $(e=>{ie(t()).subscribe(e)})}function il(...t){let e=ts(t),{args:n,keys:r}=hs(t),i=new $(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let h=!1;ie(n[u]).subscribe(G(o,g=>{h||(h=!0,l--),a[u]=g},()=>c--,void 0,()=>{(!c||!h)&&(l||o.next(r?ps(r,a):a),o.complete())}))}});return e?i.pipe(Er(e)):i}var d0=["addListener","removeListener"],f0=["addEventListener","removeEventListener"],h0=["on","off"];function Ir(t,e,n,r){if(T(n)&&(r=n,n=void 0),r)return Ir(t,e,n).pipe(Er(r));let[i,o]=g0(t)?f0.map(s=>a=>t[s](e,a,n)):p0(t)?d0.map(fh(t,e)):m0(t)?h0.map(fh(t,e)):[];if(!i&&_r(t))return fe(s=>Ir(s,e,n))(ie(t));if(!i)throw new TypeError("Invalid event target");return new $(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function fh(t,e){return n=>r=>t[n](e,r)}function p0(t){return T(t.addListener)&&T(t.removeListener)}function m0(t){return T(t.on)&&T(t.off)}function g0(t){return T(t.addEventListener)&&T(t.removeEventListener)}function hh(t=0,e,n=Qf){let r=-1;return e!=null&&(es(e)?n=e:r=e),new $(i=>{let o=ch(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function ms(...t){let e=At(t),n=Yf(t,1/0),r=t;return r.length?r.length===1?ie(r[0]):dn(n)(oe(r,e)):Ne}var qn=new $(Qt);function ge(t,e){return q((n,r)=>{let i=0;n.subscribe(G(r,o=>t.call(e,o,i++)&&r.next(o)))})}function fn(t){return q((e,n)=>{let r=null,i=!1,o;r=e.subscribe(G(n,void 0,void 0,s=>{o=ie(t(s,fn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function ph(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(G(s,u=>{let h=l++;c=a?t(c,u,h):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Gn(t,e){return T(e)?fe(t,e,1):fe(t,1)}function mh(t){return new $(e=>t.subscribe(e))}var v0={connector:()=>new ce};function gs(t,e=v0){let{connector:n}=e;return q((r,i)=>{let o=n();ie(t(mh(o))).subscribe(i),i.add(r.subscribe(o))})}function Wn(t,e=Ti){return q((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+t,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}n.subscribe(G(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function hn(t){return q((e,n)=>{let r=!1;e.subscribe(G(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function be(t){return t<=0?()=>Ne:q((e,n)=>{let r=0;e.subscribe(G(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function gh(){return q((t,e)=>{t.subscribe(G(e,Qt))})}function Ni(t){return V(()=>t)}function ol(t,e){return e?n=>Nt(e.pipe(be(1),gh()),n.pipe(ol(t))):fe((n,r)=>ie(t(n,r)).pipe(be(1),Ni(n)))}function sl(t,e=Ti){let n=hh(t,e);return ol(()=>n)}function vs(t=y0){return q((e,n)=>{let r=!1;e.subscribe(G(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function y0(){return new Yt}function Ri(t){return q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Rt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ge((i,o)=>t(i,o,r)):et,be(1),n?hn(e):vs(()=>new Yt))}function xr(t){return t<=0?()=>Ne:q((e,n)=>{let r=[];e.subscribe(G(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function al(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ge((i,o)=>t(i,o,r)):et,xr(1),n?hn(e):vs(()=>new Yt))}function vh(t,e){let n=T(t)?t:()=>t;return T(e)?gs(e,{connector:n}):r=>new ln(r,n)}function cl(t){return t?e=>gs(t)(e):e=>vh(new ce)(e)}function ll(t,e){return q(ph(t,e,arguments.length>=2,!0))}function ul(...t){let e=At(t);return q((n,r)=>{(e?Nt(t,n,e):Nt(t,n)).subscribe(r)})}function xe(t,e){return q((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(G(r,c=>{i?.unsubscribe();let l=0,u=o++;ie(t(c,u)).subscribe(i=G(r,h=>r.next(e?e(c,h,u,l++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Oi(t){return q((e,n)=>{ie(t).subscribe(G(n,()=>n.complete(),Qt)),!n.closed&&e.subscribe(n)})}function le(t,e,n){let r=T(t)||e||n?{next:t,error:e,complete:n}:t;return r?q((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(G(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):et}var np="https://g.co/ng/security#xss",I=class extends Error{constructor(e,n){super(Du(e,n)),this.code=e}};function Du(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var rp=Symbol("InputSignalNode#UNSET"),C0=z(w({},Gc),{transformFn:void 0,applyValueToInputSignal(t,e){qo(t,e)}});function ip(t,e){let n=Object.create(C0);n.value=t,n.transformFn=e?.transform;function r(){if(jo(n),n.value===rp)throw new I(-950,!1);return n.value}return r[Tt]=n,r}function Gi(t){return{toString:t}.toString()}var ys="__parameters__";function D0(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function op(t,e,n){return Gi(()=>{let r=D0(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let h=c.hasOwnProperty(ys)?c[ys]:Object.defineProperty(c,ys,{value:[]})[ys];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var El=globalThis;function se(t){for(let e in t)if(t[e]===se)return e;throw Error("Could not find renamed property on target object.")}function w0(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ze(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ze).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function yh(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var b0=se({__forward_ref__:se});function Vt(t){return t.__forward_ref__=Vt,t.toString=function(){return ze(this())},t}function Re(t){return sp(t)?t():t}function sp(t){return typeof t=="function"&&t.hasOwnProperty(b0)&&t.__forward_ref__===Vt}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _n(t){return{providers:t.providers||[],imports:t.imports||[]}}function ta(t){return Ch(t,cp)||Ch(t,lp)}function ap(t){return ta(t)!==null}function Ch(t,e){return t.hasOwnProperty(e)?t[e]:null}function _0(t){let e=t&&(t[cp]||t[lp]);return e||null}function Dh(t){return t&&(t.hasOwnProperty(wh)||t.hasOwnProperty(E0))?t[wh]:null}var cp=se({\u0275prov:se}),wh=se({\u0275inj:se}),lp=se({ngInjectableDef:se}),E0=se({ngInjectorDef:se}),A=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=_({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function up(t){return t&&!!t.\u0275providers}var I0=se({\u0275cmp:se}),x0=se({\u0275dir:se}),M0=se({\u0275pipe:se}),S0=se({\u0275mod:se}),Ts=se({\u0275fac:se}),Fi=se({__NG_ELEMENT_ID__:se}),bh=se({__NG_ENV_ID__:se});function Or(t){return typeof t=="string"?t:t==null?"":String(t)}function T0(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Or(t)}function A0(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new I(-200,t)}function wu(t,e){throw new I(-201,!1)}var Q=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Q||{}),Il;function dp(){return Il}function He(t){let e=Il;return Il=t,e}function fp(t,e,n){let r=ta(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Q.Optional)return null;if(e!==void 0)return e;wu(t,"Injector")}var N0={},Pi=N0,xl="__NG_DI_FLAG__",As="ngTempTokenPath",R0="ngTokenPath",O0=/\n/gm,k0="\u0275",_h="__source",Nr;function F0(){return Nr}function pn(t){let e=Nr;return Nr=t,e}function P0(t,e=Q.Default){if(Nr===void 0)throw new I(-203,!1);return Nr===null?fp(t,void 0,e):Nr.get(t,e&Q.Optional?null:void 0,e)}function F(t,e=Q.Default){return(dp()||P0)(Re(t),e)}function p(t,e=Q.Default){return F(t,na(e))}function na(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Ml(t){let e=[];for(let n=0;n<t.length;n++){let r=Re(t[n]);if(Array.isArray(r)){if(r.length===0)throw new I(900,!1);let i,o=Q.Default;for(let s=0;s<r.length;s++){let a=r[s],c=L0(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(F(i,o))}else e.push(F(r))}return e}function hp(t,e){return t[xl]=e,t.prototype[xl]=e,t}function L0(t){return t[xl]}function V0(t,e,n,r){let i=t[As];throw e[_h]&&i.unshift(e[_h]),t.message=j0(`
`+t.message,i,n,r),t[R0]=i,t[As]=null,t}function j0(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==k0?t.slice(2):t;let i=ze(e);if(Array.isArray(e))i=e.map(ze).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ze(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(O0,`
  `)}`}var ra=hp(op("Optional"),8);var bu=hp(op("SkipSelf"),4);function Kn(t,e){let n=t.hasOwnProperty(Ts);return n?t[Ts]:null}function _u(t,e){t.forEach(n=>Array.isArray(n)?_u(n,e):e(n))}function pp(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ns(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function $0(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function B0(t,e,n){let r=Wi(t,e);return r>=0?t[r|1]=n:(r=~r,$0(t,r,e,n)),r}function dl(t,e){let n=Wi(t,e);if(n>=0)return t[n|1]}function Wi(t,e){return U0(t,e,1)}function U0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var kr={},st=[],Fr=new A(""),mp=new A("",-1),gp=new A(""),Rs=class{get(e,n=Pi){if(n===Pi){let r=new Error(`NullInjectorError: No provider for ${ze(e)}!`);throw r.name="NullInjectorError",r}return n}},vp=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(vp||{}),Ft=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ft||{}),vn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(vn||{});function H0(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Sl(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];z0(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function yp(t){return t===3||t===4||t===6}function z0(t){return t.charCodeAt(0)===64}function Li(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Eh(t,n,i,null,e[++r]):Eh(t,n,i,null,null))}}return t}function Eh(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Cp="ng-template";function q0(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&H0(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Eu(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Eu(t){return t.type===4&&t.value!==Cp}function G0(t,e,n){let r=t.type===4&&!n?Cp:t.value;return e===r}function W0(t,e,n){let r=4,i=t.attrs,o=i!==null?Y0(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Ct(r)&&!Ct(c))return!1;if(s&&Ct(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!G0(t,c,n)||c===""&&e.length===1){if(Ct(r))return!1;s=!0}}else if(r&8){if(i===null||!q0(t,i,c,n)){if(Ct(r))return!1;s=!0}}else{let l=e[++a],u=Z0(c,i,Eu(t),n);if(u===-1){if(Ct(r))return!1;s=!0;continue}if(l!==""){let h;if(u>o?h="":h=i[u+1].toLowerCase(),r&2&&l!==h){if(Ct(r))return!1;s=!0}}}}return Ct(r)||s}function Ct(t){return(t&1)===0}function Z0(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return K0(e,t)}function Q0(t,e,n=!1){for(let r=0;r<e.length;r++)if(W0(t,e[r],n))return!0;return!1}function Y0(t){for(let e=0;e<t.length;e++){let n=t[e];if(yp(n))return e}return t.length}function K0(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Ih(t,e){return t?":not("+e.trim()+")":e}function J0(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ct(s)&&(e+=Ih(o,i),i=""),r=s,o=o||!Ct(r);n++}return i!==""&&(e+=Ih(o,i)),e}function X0(t){return t.map(J0).join(",")}function eC(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Ct(i))break;i=o}r++}return{attrs:e,classes:n}}function x(t){return Gi(()=>{let e=Ip(t),n=z(w({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===vp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ft.Emulated,styles:t.styles||st,_:null,schemas:t.schemas||null,tView:null,id:""});xp(n);let r=t.dependencies;return n.directiveDefs=Mh(r,!1),n.pipeDefs=Mh(r,!0),n.id=rC(n),n})}function tC(t){return yn(t)||wp(t)}function nC(t){return t!==null}function En(t){return Gi(()=>({type:t.type,bootstrap:t.bootstrap||st,declarations:t.declarations||st,imports:t.imports||st,exports:t.exports||st,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function xh(t,e){if(t==null)return kr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=vn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==vn.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ce(t){return Gi(()=>{let e=Ip(t);return xp(e),e})}function Dp(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function yn(t){return t[I0]||null}function wp(t){return t[x0]||null}function bp(t){return t[M0]||null}function _p(t){let e=yn(t)||wp(t)||bp(t);return e!==null?e.standalone:!1}function Ep(t,e){let n=t[S0]||null;if(!n&&e===!0)throw new Error(`Type ${ze(t)} does not have '\u0275mod' property.`);return n}function Ip(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||kr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||st,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xh(t.inputs,e),outputs:xh(t.outputs),debugInfo:null}}function xp(t){t.features?.forEach(e=>e(t))}function Mh(t,e){if(!t)return null;let n=e?bp:tC;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(nC)}function rC(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function qr(t){return{\u0275providers:t}}function iC(...t){return{\u0275providers:Mp(!0,t),\u0275fromNgModule:!0}}function Mp(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return _u(e,s=>{let a=s;Tl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Sp(i,o),n}function Sp(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Iu(i,o=>{e(o,r)})}}function Tl(t,e,n,r){if(t=Re(t),!t)return!1;let i=null,o=Dh(t),s=!o&&yn(t);if(!o&&!s){let c=t.ngModule;if(o=Dh(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Tl(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{_u(o.imports,u=>{Tl(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Sp(l,e)}if(!a){let l=Kn(i)||(()=>new i);e({provide:i,useFactory:l,deps:st},i),e({provide:gp,useValue:i,multi:!0},i),e({provide:Fr,useValue:()=>F(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Iu(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Iu(t,e){for(let n of t)up(n)&&(n=n.\u0275providers),Array.isArray(n)?Iu(n,e):e(n)}var oC=se({provide:String,useValue:se});function Tp(t){return t!==null&&typeof t=="object"&&oC in t}function sC(t){return!!(t&&t.useExisting)}function aC(t){return!!(t&&t.useFactory)}function Pr(t){return typeof t=="function"}function cC(t){return!!t.useClass}var ia=new A(""),_s={},lC={},fl;function xu(){return fl===void 0&&(fl=new Rs),fl}var tt=class{},Vi=class extends tt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Nl(e,s=>this.processProvider(s)),this.records.set(mp,Mr(void 0,this)),i.has("environment")&&this.records.set(tt,Mr(void 0,this));let o=this.records.get(ia);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(gp,st,Q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=pn(this),r=He(void 0),i;try{return e()}finally{pn(n),He(r)}}get(e,n=Pi,r=Q.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(bh))return e[bh](this);r=na(r);let i,o=pn(this),s=He(void 0);try{if(!(r&Q.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=pC(e)&&ta(e);l&&this.injectableDefInScope(l)?c=Mr(Al(e),_s):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Q.Self?xu():this.parent;return n=r&Q.Optional&&n===Pi?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[As]=a[As]||[]).unshift(ze(e)),o)throw a;return V0(a,e,"R3InjectorError",this.source)}else throw a}finally{He(s),pn(o)}}resolveInjectorInitializers(){let e=Z(null),n=pn(this),r=He(void 0),i;try{let o=this.get(Fr,st,Q.Self);for(let s of o)s()}finally{pn(n),He(r),Z(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ze(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(e){e=Re(e);let n=Pr(e)?e:Re(e&&e.provide),r=dC(e);if(!Pr(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Mr(void 0,_s,!0),i.factory=()=>Ml(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Z(null);try{return n.value===_s&&(n.value=lC,n.value=n.factory()),typeof n.value=="object"&&n.value&&hC(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Z(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Re(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Al(t){let e=ta(t),n=e!==null?e.factory:Kn(t);if(n!==null)return n;if(t instanceof A)throw new I(204,!1);if(t instanceof Function)return uC(t);throw new I(204,!1)}function uC(t){if(t.length>0)throw new I(204,!1);let n=_0(t);return n!==null?()=>n.factory(t):()=>new t}function dC(t){if(Tp(t))return Mr(void 0,t.useValue);{let e=Ap(t);return Mr(e,_s)}}function Ap(t,e,n){let r;if(Pr(t)){let i=Re(t);return Kn(i)||Al(i)}else if(Tp(t))r=()=>Re(t.useValue);else if(aC(t))r=()=>t.useFactory(...Ml(t.deps||[]));else if(sC(t))r=()=>F(Re(t.useExisting));else{let i=Re(t&&(t.useClass||t.provide));if(fC(t))r=()=>new i(...Ml(t.deps));else return Kn(i)||Al(i)}return r}function Mr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function fC(t){return!!t.deps}function hC(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function pC(t){return typeof t=="function"||typeof t=="object"&&t instanceof A}function Nl(t,e){for(let n of t)Array.isArray(n)?Nl(n,e):n&&up(n)?Nl(n.\u0275providers,e):e(n)}function jt(t,e){t instanceof Vi&&t.assertNotDestroyed();let n,r=pn(t),i=He(void 0);try{return e()}finally{pn(r),He(i)}}function Np(){return dp()!==void 0||F0()!=null}function Zi(t){if(!Np())throw new I(-203,!1)}function mC(t){return typeof t=="function"}var Xt=0,B=1,L=2,ke=3,Dt=4,_t=5,ji=6,Os=7,Me=8,Lr=9,Pt=10,_e=11,$i=12,Sh=13,Gr=14,wt=15,Vr=16,Sr=17,jr=18,oa=19,Rp=20,mn=21,Es=22,at=23,Fe=25,Op=1;var Jn=7,ks=8,Fs=9,Oe=10,Ps=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ps||{});function gn(t){return Array.isArray(t)&&typeof t[Op]=="object"}function en(t){return Array.isArray(t)&&t[Op]===!0}function Mu(t){return(t.flags&4)!==0}function sa(t){return t.componentOffset>-1}function aa(t){return(t.flags&1)===1}function Cn(t){return!!t.template}function Rl(t){return(t[L]&512)!==0}var Ol=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function kp(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function qe(){return Fp}function Fp(t){return t.type.prototype.ngOnChanges&&(t.setInput=vC),gC}qe.ngInherit=!0;function gC(){let t=Lp(this),e=t?.current;if(e){let n=t.previous;if(n===kr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function vC(t,e,n,r,i){let o=this.declaredInputs[r],s=Lp(t)||yC(t,{previous:kr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Ol(l&&l.currentValue,n,c===kr),kp(t,e,i,n)}var Pp="__ngSimpleChanges__";function Lp(t){return t[Pp]||null}function yC(t,e){return t[Pp]=e}var Th=null;var Ot=function(t,e,n){Th?.(t,e,n)},Vp="svg",CC="math";function Lt(t){for(;Array.isArray(t);)t=t[Xt];return t}function jp(t,e){return Lt(e[t])}function ct(t,e){return Lt(e[t.index])}function Su(t,e){return t.data[e]}function $p(t,e){return t[e]}function In(t,e){let n=e[t];return gn(n)?n:n[Xt]}function Tu(t){return(t[L]&128)===128}function DC(t){return en(t[ke])}function Dn(t,e){return e==null?null:t[e]}function Bp(t){t[Sr]=0}function Up(t){t[L]&1024||(t[L]|=1024,Tu(t)&&la(t))}function wC(t,e){for(;t>0;)e=e[Gr],t--;return e}function ca(t){return!!(t[L]&9216||t[at]?.dirty)}function kl(t){t[Pt].changeDetectionScheduler?.notify(8),t[L]&64&&(t[L]|=1024),ca(t)&&la(t)}function la(t){t[Pt].changeDetectionScheduler?.notify(0);let e=Xn(t);for(;e!==null&&!(e[L]&8192||(e[L]|=8192,!Tu(e)));)e=Xn(e)}function Hp(t,e){if((t[L]&256)===256)throw new I(911,!1);t[mn]===null&&(t[mn]=[]),t[mn].push(e)}function bC(t,e){if(t[mn]===null)return;let n=t[mn].indexOf(e);n!==-1&&t[mn].splice(n,1)}function Xn(t){let e=t[ke];return en(e)?e[ke]:e}var W={lFrame:Xp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var zp=!1;function _C(){return W.lFrame.elementDepthCount}function EC(){W.lFrame.elementDepthCount++}function IC(){W.lFrame.elementDepthCount--}function qp(){return W.bindingsEnabled}function xC(){return W.skipHydrationRootTNode!==null}function MC(t){return W.skipHydrationRootTNode===t}function SC(){W.skipHydrationRootTNode=null}function ee(){return W.lFrame.lView}function Te(){return W.lFrame.tView}function Y(t){return W.lFrame.contextLView=t,t[Me]}function K(t){return W.lFrame.contextLView=null,t}function Pe(){let t=Gp();for(;t!==null&&t.type===64;)t=t.parent;return t}function Gp(){return W.lFrame.currentTNode}function TC(){let t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function or(t,e){let n=W.lFrame;n.currentTNode=t,n.isParent=e}function Au(){return W.lFrame.isParent}function Wp(){W.lFrame.isParent=!1}function AC(){return W.lFrame.contextLView}function Zp(){return zp}function Ah(t){zp=t}function Nu(){let t=W.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function NC(){return W.lFrame.bindingIndex}function RC(t){return W.lFrame.bindingIndex=t}function Qi(){return W.lFrame.bindingIndex++}function Qp(t){let e=W.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function OC(){return W.lFrame.inI18n}function kC(t,e){let n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,Fl(e)}function FC(){return W.lFrame.currentDirectiveIndex}function Fl(t){W.lFrame.currentDirectiveIndex=t}function PC(t){let e=W.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Yp(t){W.lFrame.currentQueryIndex=t}function LC(t){let e=t[B];return e.type===2?e.declTNode:e.type===1?t[_t]:null}function Kp(t,e,n){if(n&Q.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Q.Host);)if(i=LC(o),i===null||(o=o[Gr],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=W.lFrame=Jp();return r.currentTNode=e,r.lView=t,!0}function Ru(t){let e=Jp(),n=t[B];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Jp(){let t=W.lFrame,e=t===null?null:t.child;return e===null?Xp(t):e}function Xp(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function em(){let t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var tm=em;function Ou(){let t=em();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function VC(t){return(W.lFrame.contextLView=wC(t,W.lFrame.contextLView))[Me]}function xn(){return W.lFrame.selectedIndex}function er(t){W.lFrame.selectedIndex=t}function ku(){let t=W.lFrame;return Su(t.tView,t.selectedIndex)}function ue(){W.lFrame.currentNamespace=Vp}function jC(){return W.lFrame.currentNamespace}var nm=!0;function ua(){return nm}function da(t){nm=t}function $C(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Fp(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function fa(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Is(t,e,n){rm(t,e,3,n)}function xs(t,e,n,r){(t[L]&3)===n&&rm(t,e,n,r)}function hl(t,e){let n=t[L];(n&3)===e&&(n&=16383,n+=1,t[L]=n)}function rm(t,e,n,r){let i=r!==void 0?t[Sr]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Sr]+=65536),(a<o||o==-1)&&(BC(t,n,e,c),t[Sr]=(t[Sr]&4294901760)+c+2),c++}function Nh(t,e){Ot(4,t,e);let n=Z(null);try{e.call(t)}finally{Z(n),Ot(5,t,e)}}function BC(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[L]>>14<t[Sr]>>16&&(t[L]&3)===e&&(t[L]+=16384,Nh(a,o)):Nh(a,o)}var Rr=-1,tr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function UC(t){return t instanceof tr}function HC(t){return(t.flags&8)!==0}function zC(t){return(t.flags&16)!==0}var pl={},Pl=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=na(r);let i=this.injector.get(e,pl,r);return i!==pl||n===pl?i:this.parentInjector.get(e,n,r)}};function im(t){return t!==Rr}function Ls(t){return t&32767}function qC(t){return t>>16}function Vs(t,e){let n=qC(t),r=e;for(;n>0;)r=r[Gr],n--;return r}var Ll=!0;function js(t){let e=Ll;return Ll=t,e}var GC=256,om=GC-1,sm=5,WC=0,kt={};function ZC(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Fi)&&(r=n[Fi]),r==null&&(r=n[Fi]=WC++);let i=r&om,o=1<<i;e.data[t+(i>>sm)]|=o}function $s(t,e){let n=am(t,e);if(n!==-1)return n;let r=e[B];r.firstCreatePass&&(t.injectorIndex=e.length,ml(r.data,t),ml(e,null),ml(r.blueprint,null));let i=Fu(t,e),o=t.injectorIndex;if(im(i)){let s=Ls(i),a=Vs(i,e),c=a[B].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function ml(t,e){t.push(0,0,0,0,0,0,0,0,e)}function am(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Fu(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=fm(i),r===null)return Rr;if(n++,i=i[Gr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Rr}function Vl(t,e,n){ZC(t,e,n)}function QC(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(yp(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function cm(t,e,n){if(n&Q.Optional||t!==void 0)return t;wu(e,"NodeInjector")}function lm(t,e,n,r){if(n&Q.Optional&&r===void 0&&(r=null),!(n&(Q.Self|Q.Host))){let i=t[Lr],o=He(void 0);try{return i?i.get(e,r,n&Q.Optional):fp(e,r,n&Q.Optional)}finally{He(o)}}return cm(r,e,n)}function um(t,e,n,r=Q.Default,i){if(t!==null){if(e[L]&2048&&!(r&Q.Self)){let s=eD(t,e,n,r,kt);if(s!==kt)return s}let o=dm(t,e,n,r,kt);if(o!==kt)return o}return lm(e,n,r,i)}function dm(t,e,n,r,i){let o=JC(n);if(typeof o=="function"){if(!Kp(e,t,r))return r&Q.Host?cm(i,n,r):lm(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Q.Optional))wu(n);else return s}finally{tm()}}else if(typeof o=="number"){let s=null,a=am(t,e),c=Rr,l=r&Q.Host?e[wt][_t]:null;for((a===-1||r&Q.SkipSelf)&&(c=a===-1?Fu(t,e):e[a+8],c===Rr||!Oh(r,!1)?a=-1:(s=e[B],a=Ls(c),e=Vs(c,e)));a!==-1;){let u=e[B];if(Rh(o,a,u.data)){let h=YC(a,e,n,s,r,l);if(h!==kt)return h}c=e[a+8],c!==Rr&&Oh(r,e[B].data[a+8]===l)&&Rh(o,a,e)?(s=u,a=Ls(c),e=Vs(c,e)):a=-1}}return i}function YC(t,e,n,r,i,o){let s=e[B],a=s.data[t+8],c=r==null?sa(a)&&Ll:r!=s&&(a.type&3)!==0,l=i&Q.Host&&o===a,u=KC(a,s,n,c,l);return u!==null?$r(e,s,u,a):kt}function KC(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,h=r?a:a+u,g=i?a+u:l;for(let m=h;m<g;m++){let D=s[m];if(m<c&&n===D||m>=c&&D.type===n)return m}if(i){let m=s[c];if(m&&Cn(m)&&m.type===n)return c}return null}function $r(t,e,n,r){let i=t[n],o=e.data;if(UC(i)){let s=i;s.resolving&&A0(T0(o[n]));let a=js(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?He(s.injectImpl):null,u=Kp(t,r,Q.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&$C(n,o[n],e)}finally{l!==null&&He(l),js(a),s.resolving=!1,tm()}}return i}function JC(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Fi)?t[Fi]:void 0;return typeof e=="number"?e>=0?e&om:XC:e}function Rh(t,e,n){let r=1<<t;return!!(n[e+(t>>sm)]&r)}function Oh(t,e){return!(t&Q.Self)&&!(t&Q.Host&&e)}var Yn=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return um(this._tNode,this._lView,e,na(r),n)}};function XC(){return new Yn(Pe(),ee())}function Mn(t){return Gi(()=>{let e=t.prototype.constructor,n=e[Ts]||jl(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ts]||jl(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function jl(t){return sp(t)?()=>{let e=jl(Re(t));return e&&e()}:Kn(t)}function eD(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[L]&2048&&!(s[L]&512);){let a=dm(o,s,n,r|Q.Self,kt);if(a!==kt)return a;let c=o.parent;if(!c){let l=s[Rp];if(l){let u=l.get(n,kt,r);if(u!==kt)return u}c=fm(s),s=s[Gr]}o=c}return i}function fm(t){let e=t[B],n=e.type;return n===2?e.declTNode:n===1?t[_t]:null}function Pu(t){return QC(Pe(),t)}function kh(t,e=null,n=null,r){let i=hm(t,e,n,r);return i.resolveInjectorInitializers(),i}function hm(t,e=null,n=null,r,i=new Set){let o=[n||st,iC(t)];return r=r||(typeof t=="object"?void 0:ze(t)),new Vi(o,e||xu(),r||null,i)}var Zn=class Zn{static create(e,n){if(Array.isArray(e))return kh({name:""},n,e,"");{let r=e.name??"";return kh({name:r},e.parent,e.providers,r)}}};Zn.THROW_IF_NOT_FOUND=Pi,Zn.NULL=new Rs,Zn.\u0275prov=_({token:Zn,providedIn:"any",factory:()=>F(mp)}),Zn.__NG_ELEMENT_ID__=-1;var Se=Zn;var tD=new A("");tD.__NG_ELEMENT_ID__=t=>{let e=Pe();if(e===null)throw new I(204,!1);if(e.type&2)return e.value;if(t&Q.Optional)return null;throw new I(204,!1)};var nD="ngOriginalError";function gl(t){return t[nD]}var pm=!0,Sn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rD,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),$l=class extends Sn{constructor(e){super(),this._lView=e}onDestroy(e){return Hp(this._lView,e),()=>bC(this._lView,e)}};function rD(){return new $l(ee())}var sr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ie(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=_({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Bl=class extends ce{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Np()&&(this.destroyRef=p(Sn,{optional:!0})??void 0,this.pendingTasks=p(sr,{optional:!0})??void 0)}emit(e){let n=Z(null);try{super.next(e)}finally{Z(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof me&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ye=Bl;function Bs(...t){}function mm(t){let e,n;function r(){t=Bs;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Fh(t){return queueMicrotask(()=>t()),()=>{t=Bs}}var Lu="isAngularZone",Us=Lu+"_ID",iD=0,he=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ye(!1),this.onMicrotaskEmpty=new ye(!1),this.onStable=new ye(!1),this.onError=new ye(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=pm}=e;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,aD(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Lu)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new I(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,oD,Bs,Bs);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},oD={};function Vu(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sD(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){mm(()=>{t.callbackScheduled=!1,Ul(t),t.isCheckStableRunning=!0,Vu(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Ul(t)}function aD(t){let e=()=>{sD(t)},n=iD++;t._inner=t._inner.fork({name:"angular",properties:{[Lu]:!0,[Us]:n,[Us+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(cD(c))return r.invokeTask(o,s,a,c);try{return Ph(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Lh(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Ph(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!lD(c)&&e(),Lh(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ul(t),Vu(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ul(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Ph(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Lh(t){t._nesting--,Vu(t)}var Hs=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ye,this.onMicrotaskEmpty=new ye,this.onStable=new ye,this.onError=new ye}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function cD(t){return gm(t,"__ignore_ng_zone__")}function lD(t){return gm(t,"__scheduler_tick__")}function gm(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var bt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&gl(e);for(;n&&gl(n);)n=gl(n);return n||null}},uD=new A("",{providedIn:"root",factory:()=>{let t=p(he),e=p(bt);return n=>t.runOutsideAngular(()=>e.handleError(n))}}),Hl=class{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=p(bt,{optional:!0}),this.destroyRef=p(Sn),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new I(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed)throw new I(953,!1);if(this.listeners===null)return;let n=Z(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{Z(n)}}};function lt(t){return new Hl}function Vh(t,e){return ip(t,e)}function dD(t){return ip(rp,t)}var k=(Vh.required=dD,Vh);function fD(){return ha(Pe(),ee())}function ha(t,e){return new Et(ct(t,e))}var Et=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=fD;let t=e;return t})();function vm(t){return(t.flags&128)===128}var ym=new Map,hD=0;function pD(){return hD++}function mD(t){ym.set(t[oa],t)}function zl(t){ym.delete(t[oa])}var jh="__ngContext__";function wn(t,e){gn(e)?(t[jh]=e[oa],mD(e)):t[jh]=e}function Cm(t){return wm(t[$i])}function Dm(t){return wm(t[Dt])}function wm(t){for(;t!==null&&!en(t);)t=t[Dt];return t}var ql;function bm(t){ql=t}function gD(){if(ql!==void 0)return ql;if(typeof document<"u")return document;throw new I(210,!1)}var ju=new A("",{providedIn:"root",factory:()=>vD}),vD="ng",$u=new A(""),It=new A("",{providedIn:"platform",factory:()=>"unknown"});var Bu=new A("",{providedIn:"root",factory:()=>gD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var yD="h",CD="b";var DD=()=>null;function Uu(t,e,n=!1){return DD(t,e,n)}var _m=!1,wD=new A("",{providedIn:"root",factory:()=>_m});var Cs;function bD(){if(Cs===void 0&&(Cs=null,El.trustedTypes))try{Cs=El.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Cs}function $h(t){return bD()?.createScriptURL(t)||t}var zs=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${np})`}};function Yi(t){return t instanceof zs?t.changingThisBreaksApplicationSecurity:t}function Hu(t,e){let n=_D(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${np})`)}return n===e}function _D(t){return t instanceof zs&&t.getTypeName()||null}var ED=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Em(t){return t=String(t),t.match(ED)?t:"unsafe:"+t}var pa=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(pa||{});function zu(t){let e=xm();return e?e.sanitize(pa.URL,t)||"":Hu(t,"URL")?Yi(t):Em(Or(t))}function ID(t){let e=xm();if(e)return $h(e.sanitize(pa.RESOURCE_URL,t)||"");if(Hu(t,"ResourceURL"))return $h(Yi(t));throw new I(904,!1)}function xD(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?ID:zu}function Im(t,e,n){return xD(e,n)(t)}function xm(){let t=ee();return t&&t[Pt].sanitizer}var MD=/^>|^->|<!--|-->|--!>|<!-$/g,SD=/(<|>)/g,TD="\u200B$1\u200B";function AD(t){return t.replace(MD,e=>e.replace(SD,TD))}function ma(t){return t.ownerDocument.defaultView}function Mm(t){return t instanceof Function?t():t}function ND(t){return(t??p(Se)).get(It)==="browser"}var Kt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Kt||{}),RD;function qu(t,e){return RD(t,e)}function Tr(t,e,n,r,i){if(r!=null){let o,s=!1;en(r)?o=r:gn(r)&&(s=!0,r=r[Xt]);let a=Lt(r);t===0&&n!==null?i==null?Nm(e,n,a):qs(e,n,a,i||null,!0):t===1&&n!==null?qs(e,n,a,i||null,!0):t===2?ZD(e,a,s):t===3&&e.destroyNode(a),o!=null&&YD(e,t,o,n,i)}}function OD(t,e){return t.createText(e)}function kD(t,e,n){t.setValue(e,n)}function FD(t,e){return t.createComment(AD(e))}function Sm(t,e,n){return t.createElement(e,n)}function PD(t,e){Tm(t,e),e[Xt]=null,e[_t]=null}function LD(t,e,n,r,i,o){r[Xt]=i,r[_t]=e,ya(t,r,n,1,i,o)}function Tm(t,e){e[Pt].changeDetectionScheduler?.notify(9),ya(t,e,e[_e],2,null,null)}function VD(t){let e=t[$i];if(!e)return vl(t[B],t);for(;e;){let n=null;if(gn(e))n=e[$i];else{let r=e[Oe];r&&(n=r)}if(!n){for(;e&&!e[Dt]&&e!==t;)gn(e)&&vl(e[B],e),e=e[ke];e===null&&(e=t),gn(e)&&vl(e[B],e),n=e&&e[Dt]}e=n}}function jD(t,e,n,r){let i=Oe+r,o=n.length;r>0&&(n[i-1][Dt]=e),r<o-Oe?(e[Dt]=n[i],pp(n,Oe+r,e)):(n.push(e),e[Dt]=null),e[ke]=n;let s=e[Vr];s!==null&&n!==s&&Am(s,e);let a=e[jr];a!==null&&a.insertView(t),kl(e),e[L]|=128}function Am(t,e){let n=t[Fs],r=e[ke];if(gn(r))t[L]|=Ps.HasTransplantedViews;else{let i=r[ke][wt];e[wt]!==i&&(t[L]|=Ps.HasTransplantedViews)}n===null?t[Fs]=[e]:n.push(e)}function Gu(t,e){let n=t[Fs],r=n.indexOf(e);n.splice(r,1)}function Bi(t,e){if(t.length<=Oe)return;let n=Oe+e,r=t[n];if(r){let i=r[Vr];i!==null&&i!==t&&Gu(i,r),e>0&&(t[n-1][Dt]=r[Dt]);let o=Ns(t,Oe+e);PD(r[B],r);let s=o[jr];s!==null&&s.detachView(o[B]),r[ke]=null,r[Dt]=null,r[L]&=-129}return r}function ga(t,e){if(!(e[L]&256)){let n=e[_e];n.destroyNode&&ya(t,e,n,3,null,null),VD(e)}}function vl(t,e){if(e[L]&256)return;let n=Z(null);try{e[L]&=-129,e[L]|=256,e[at]&&Uo(e[at]),BD(t,e),$D(t,e),e[B].type===1&&e[_e].destroy();let r=e[Vr];if(r!==null&&en(e[ke])){r!==e[ke]&&Gu(r,e);let i=e[jr];i!==null&&i.detachView(t)}zl(e)}finally{Z(n)}}function $D(t,e){let n=t.cleanup,r=e[Os];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Os]=null);let i=e[mn];if(i!==null){e[mn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function BD(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof tr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ot(4,a,c);try{c.call(a)}finally{Ot(5,a,c)}}else{Ot(4,i,o);try{o.call(i)}finally{Ot(5,i,o)}}}}}function UD(t,e,n){return HD(t,e.parent,n)}function HD(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Xt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ft.None||o===Ft.Emulated)return null}return ct(r,n)}}function qs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Nm(t,e,n){t.appendChild(e,n)}function Bh(t,e,n,r,i){r!==null?qs(t,e,n,r,i):Nm(t,e,n)}function Rm(t,e){return t.parentNode(e)}function zD(t,e){return t.nextSibling(e)}function qD(t,e,n){return WD(t,e,n)}function GD(t,e,n){return t.type&40?ct(t,n):null}var WD=GD,Uh;function va(t,e,n,r){let i=UD(t,r,e),o=e[_e],s=r.parent||e[_t],a=qD(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Bh(o,i,n[c],a,!1);else Bh(o,i,n,a,!1);Uh!==void 0&&Uh(o,r,e,n,i)}function ki(t,e){if(e!==null){let n=e.type;if(n&3)return ct(e,t);if(n&4)return Gl(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ki(t,r);{let i=t[e.index];return en(i)?Gl(-1,i):Lt(i)}}else{if(n&128)return ki(t,e.next);if(n&32)return qu(e,t)()||Lt(t[e.index]);{let r=Om(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Xn(t[wt]);return ki(i,r)}else return ki(t,e.next)}}}return null}function Om(t,e){if(e!==null){let r=t[wt][_t],i=e.projection;return r.projection[i]}return null}function Gl(t,e){let n=Oe+t+1;if(n<e.length){let r=e[n],i=r[B].firstChild;if(i!==null)return ki(r,i)}return e[Jn]}function ZD(t,e,n){t.removeChild(null,e,n)}function Wu(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&wn(Lt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Wu(t,e,n.child,r,i,o,!1),Tr(e,t,i,a,o);else if(c&32){let l=qu(n,r),u;for(;u=l();)Tr(e,t,i,u,o);Tr(e,t,i,a,o)}else c&16?QD(t,e,r,n,i,o):Tr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ya(t,e,n,r,i,o){Wu(n,r,t.firstChild,e,i,o,!1)}function QD(t,e,n,r,i,o){let s=n[wt],c=s[_t].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Tr(e,t,i,u,o)}else{let l=c,u=s[ke];vm(r)&&(l.flags|=128),Wu(t,e,l,u,i,o,!0)}}function YD(t,e,n,r,i){let o=n[Jn],s=Lt(n);o!==s&&Tr(e,t,r,o,i);for(let a=Oe;a<n.length;a++){let c=n[a];ya(c[B],c,t,e,r,o)}}function KD(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Kt.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Kt.Important),t.setStyle(n,r,i,o))}}function JD(t,e,n){t.setAttribute(e,"style",n)}function km(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Fm(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Sl(t,e,r),i!==null&&km(t,e,i),o!==null&&JD(t,e,o)}var ut={};function y(t=1){Pm(Te(),ee(),xn()+t,!1)}function Pm(t,e,n,r){if(!r)if((e[L]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Is(e,o,n)}else{let o=t.preOrderHooks;o!==null&&xs(e,o,0,n)}er(n)}function j(t,e=Q.Default){let n=ee();if(n===null)return F(t,e);let r=Pe();return um(r,n,Re(t),e)}function Lm(){let t="invalid";throw new Error(t)}function Vm(t,e,n,r,i,o){let s=Z(null);try{let a=null;i&vn.SignalBased&&(a=e[r][Tt]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&vn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):kp(e,a,r,o)}finally{Z(s)}}function XD(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)er(~i);else{let o=i,s=n[++r],a=n[++r];kC(s,o);let c=e[o];a(2,c)}}}finally{er(-1)}}function Ca(t,e,n,r,i,o,s,a,c,l,u){let h=e.blueprint.slice();return h[Xt]=i,h[L]=r|4|128|8|64,(l!==null||t&&t[L]&2048)&&(h[L]|=2048),Bp(h),h[ke]=h[Gr]=t,h[Me]=n,h[Pt]=s||t&&t[Pt],h[_e]=a||t&&t[_e],h[Lr]=c||t&&t[Lr]||null,h[_t]=o,h[oa]=pD(),h[ji]=u,h[Rp]=l,h[wt]=e.type==2?t[wt]:h,h}function Ki(t,e,n,r,i){let o=t.data[e];if(o===null)o=ew(t,e,n,r,i),OC()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=TC();o.injectorIndex=s===null?-1:s.injectorIndex}return or(o,!0),o}function ew(t,e,n,r,i){let o=Gp(),s=Au(),a=s?o:o&&o.parent,c=t.data[e]=ow(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function jm(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function $m(t,e,n,r,i){let o=xn(),s=r&2;try{er(-1),s&&e.length>Fe&&Pm(t,e,Fe,!1),Ot(s?2:0,i),n(r,i)}finally{er(o),Ot(s?3:1,i)}}function Zu(t,e,n){if(Mu(e)){let r=Z(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Z(r)}}}function Qu(t,e,n){qp()&&(dw(t,e,n,ct(n,e)),(n.flags&64)===64&&zm(t,e,n))}function Yu(t,e,n=ct){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Bm(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ku(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ku(t,e,n,r,i,o,s,a,c,l,u){let h=Fe+r,g=h+i,m=tw(h,g),D=typeof l=="function"?l():l;return m[B]={type:t,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:D,incompleteFirstPass:!1,ssrId:u}}function tw(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ut);return n}function nw(t,e,n,r){let o=r.get(wD,_m)||n===Ft.ShadowDom,s=t.selectRootElement(e,o);return rw(s),s}function rw(t){iw(t)}var iw=()=>null;function ow(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return xC()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Hh(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=vn.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?zh(r,n,l,a,c):zh(r,n,l,a)}return r}function zh(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function sw(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let h=o[u],g=n?n.get(h):null,m=g?g.inputs:null,D=g?g.outputs:null;c=Hh(0,h.inputs,u,c,m),l=Hh(1,h.outputs,u,l,D);let P=c!==null&&s!==null&&!Eu(e)?bw(c,u,s):null;a.push(P)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function aw(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Um(t,e,n,r,i,o,s,a){let c=ct(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Xu(t,n,u,r,i),sa(e)&&cw(n,e.index)):e.type&3?(r=aw(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function cw(t,e){let n=In(e,t);n[L]&16||(n[L]|=64)}function Ju(t,e,n,r){if(qp()){let i=r===null?null:{"":-1},o=hw(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Hm(t,e,n,s,i,a),i&&pw(n,r,i)}n.mergedAttrs=Li(n.mergedAttrs,n.attrs)}function Hm(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Vl($s(n,e),t,r[l].type);gw(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=jm(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Li(n.mergedAttrs,u.hostAttrs),vw(t,n,e,c,u),mw(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let h=u.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}sw(t,n,o)}function lw(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;uw(s)!=a&&s.push(a),s.push(n,r,o)}}function uw(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function dw(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;sa(n)&&yw(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||$s(n,e),wn(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=$r(e,t,a,n);if(wn(l,e),s!==null&&ww(e,a-i,l,c,n,s),Cn(c)){let u=In(n.index,e);u[Me]=$r(e,t,a,n)}}}function zm(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=FC();try{er(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Fl(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&fw(c,l)}}finally{er(-1),Fl(s)}}function fw(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function hw(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(Q0(e,s.selectors,!1))if(r||(r=[]),Cn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Wl(t,e,c)}else r.unshift(s),Wl(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Wl(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function pw(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new I(-301,!1);r.push(e[i],o)}}}function mw(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Cn(e)&&(n[""]=t)}}function gw(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function vw(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Kn(i.type,!0)),s=new tr(o,Cn(i),j);t.blueprint[r]=s,n[r]=s,lw(t,e,r,jm(t,n,i.hostVars,ut),i)}function yw(t,e,n){let r=ct(e,t),i=Bm(n),o=t[Pt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Da(t,Ca(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function Cw(t,e,n,r,i,o){let s=ct(t,e);Dw(e[_e],s,o,t.value,n,r,i)}function Dw(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Or(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function ww(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],h=s[a++];Vm(r,n,c,l,u,h)}}function bw(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function qm(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Gm(t,e){let n=t.contentQueries;if(n!==null){let r=Z(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Yp(o),a.contentQueries(2,e[s],s)}}}finally{Z(r)}}}function Da(t,e){return t[$i]?t[Sh][Dt]=e:t[$i]=e,t[Sh]=e,e}function Zl(t,e,n){Yp(0);let r=Z(null);try{e(t,n)}finally{Z(r)}}function _w(t){return t[Os]??=[]}function Ew(t){return t.cleanup??=[]}function Wm(t,e){let n=t[Lr],r=n?n.get(bt,null):null;r&&r.handleError(e)}function Xu(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];Vm(u,l,r,a,c,i)}}function Zm(t,e,n){let r=jp(e,t);kD(t[_e],r,n)}function Iw(t,e){let n=In(e,t),r=n[B];xw(r,n);let i=n[Xt];i!==null&&n[ji]===null&&(n[ji]=Uu(i,n[Lr])),ed(r,n,n[Me])}function xw(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ed(t,e,n){Ru(e);try{let r=t.viewQuery;r!==null&&Zl(1,r,n);let i=t.template;i!==null&&$m(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[jr]?.finishViewCreation(t),t.staticContentQueries&&Gm(t,e),t.staticViewQueries&&Zl(2,t.viewQuery,n);let o=t.components;o!==null&&Mw(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[L]&=-5,Ou()}}function Mw(t,e){for(let n=0;n<e.length;n++)Iw(t,e[n])}function wa(t,e,n,r){let i=Z(null);try{let o=e.tView,a=t[L]&4096?4096:16,c=Ca(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Vr]=l;let u=t[jr];return u!==null&&(c[jr]=u.createEmbeddedView(o)),ed(o,c,n),c}finally{Z(i)}}function Qm(t,e){let n=Oe+e;if(n<t.length)return t[n]}function Ui(t,e){return!e||e.firstChild===null||vm(t)}function ba(t,e,n,r=!0){let i=e[B];if(jD(i,e,t,n),r){let s=Gl(n,t),a=e[_e],c=Rm(a,t[Jn]);c!==null&&LD(i,t[_t],a,e,c,s)}let o=e[ji];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ym(t,e){let n=Bi(t,e);return n!==void 0&&ga(n[B],n),n}function Gs(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Lt(o)),en(o)&&Sw(o,r);let s=n.type;if(s&8)Gs(t,e,n.child,r);else if(s&32){let a=qu(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Om(e,n);if(Array.isArray(a))r.push(...a);else{let c=Xn(e[wt]);Gs(c[B],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Sw(t,e){for(let n=Oe;n<t.length;n++){let r=t[n],i=r[B].firstChild;i!==null&&Gs(r[B],r,i,e)}t[Jn]!==t[Xt]&&e.push(t[Jn])}var Km=[];function Tw(t){return t[at]??Aw(t)}function Aw(t){let e=Km.pop()??Object.create(Rw);return e.lView=t,e}function Nw(t){t.lView[at]!==t&&(t.lView=null,Km.push(t))}var Rw=z(w({},mr),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{la(t.lView)},consumerOnSignalRead(){this.lView[at]=this}});function Ow(t){let e=t[at]??Object.create(kw);return e.lView=t,e}var kw=z(w({},mr),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Xn(t.lView);for(;e&&!Jm(e[B]);)e=Xn(e);e&&Up(e)},consumerOnSignalRead(){this.lView[at]=this}});function Jm(t){return t.type!==2}var Fw=100;function Xm(t,e=!0,n=0){let r=t[Pt],i=r.rendererFactory,o=!1;o||i.begin?.();try{Pw(t,n)}catch(s){throw e&&Wm(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Pw(t,e){let n=Zp();try{Ah(!0),Ql(t,e);let r=0;for(;ca(t);){if(r===Fw)throw new I(103,!1);r++,Ql(t,1)}}finally{Ah(n)}}function Lw(t,e,n,r){let i=e[L];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Pt].inlineEffectRunner?.flush(),Ru(e);let a=!0,c=null,l=null;o||(Jm(t)?(l=Tw(e),c=Ii(l)):Mf()===null?(a=!1,l=Ow(e),c=Ii(l)):e[at]&&(Uo(e[at]),e[at]=null));try{Bp(e),RC(t.bindingStartIndex),n!==null&&$m(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let m=t.preOrderCheckHooks;m!==null&&Is(e,m,null)}else{let m=t.preOrderHooks;m!==null&&xs(e,m,0,null),hl(e,0)}if(s||Vw(e),eg(e,0),t.contentQueries!==null&&Gm(t,e),!o)if(u){let m=t.contentCheckHooks;m!==null&&Is(e,m)}else{let m=t.contentHooks;m!==null&&xs(e,m,1),hl(e,1)}XD(t,e);let h=t.components;h!==null&&ng(e,h,0);let g=t.viewQuery;if(g!==null&&Zl(2,g,r),!o)if(u){let m=t.viewCheckHooks;m!==null&&Is(e,m)}else{let m=t.viewHooks;m!==null&&xs(e,m,2),hl(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Es]){for(let m of e[Es])m();e[Es]=null}o||(e[L]&=-73)}catch(u){throw o||la(e),u}finally{l!==null&&($o(l,c),a&&Nw(l)),Ou()}}function eg(t,e){for(let n=Cm(t);n!==null;n=Dm(n))for(let r=Oe;r<n.length;r++){let i=n[r];tg(i,e)}}function Vw(t){for(let e=Cm(t);e!==null;e=Dm(e)){if(!(e[L]&Ps.HasTransplantedViews))continue;let n=e[Fs];for(let r=0;r<n.length;r++){let i=n[r];Up(i)}}}function jw(t,e,n){let r=In(e,t);tg(r,n)}function tg(t,e){Tu(t)&&Ql(t,e)}function Ql(t,e){let r=t[B],i=t[L],o=t[at],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Bo(o)),s||=!1,o&&(o.dirty=!1),t[L]&=-9217,s)Lw(r,t,r.template,t[Me]);else if(i&8192){eg(t,1);let a=r.components;a!==null&&ng(t,a,1)}}function ng(t,e,n){for(let r=0;r<e.length;r++)jw(t,e[r],n)}function td(t,e){let n=Zp()?64:1088;for(t[Pt].changeDetectionScheduler?.notify(e);t;){t[L]|=n;let r=Xn(t);if(Rl(t)&&!r)return t;t=r}return null}var nr=class{get rootNodes(){let e=this._lView,n=e[B];return Gs(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Me]}set context(e){this._lView[Me]=e}get destroyed(){return(this._lView[L]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ke];if(en(e)){let n=e[ks],r=n?n.indexOf(this):-1;r>-1&&(Bi(e,r),Ns(n,r))}this._attachedToViewContainer=!1}ga(this._lView[B],this._lView)}onDestroy(e){Hp(this._lView,e)}markForCheck(){td(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[L]&=-129}reattach(){kl(this._lView),this._lView[L]|=128}detectChanges(){this._lView[L]|=1024,Xm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Rl(this._lView),n=this._lView[Vr];n!==null&&!e&&Gu(n,this._lView),Tm(this._lView[B],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e;let n=Rl(this._lView),r=this._lView[Vr];r!==null&&!n&&Am(r,this._lView),kl(this._lView)}},rg=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Uw;let t=e;return t})(),$w=rg,Bw=class extends $w{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=wa(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new nr(i)}};function Uw(){return ig(Pe(),ee())}function ig(t,e){return t.type&4?new Bw(e,t,ha(t,e)):null}var Uk=new RegExp(`^(\\d+)*(${CD}|${yD})*(.*)`);var Hw=()=>null;function Hi(t,e){return Hw(t,e)}var rr=class{},nd=new A("",{providedIn:"root",factory:()=>!1});var og=new A(""),rd=new A(""),Yl=class{},Ws=class{};function zw(t){let e=Error(`No component factory found for ${ze(t)}.`);return e[qw]=t,e}var qw="ngComponent";var Kl=class{resolveComponentFactory(e){throw zw(e)}},cd=class cd{};cd.NULL=new Kl;var Br=cd,Ur=class{},$t=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Gw();let t=e;return t})();function Gw(){let t=ee(),e=Pe(),n=In(e.index,t);return(gn(n)?n:t)[_e]}var Ww=(()=>{let e=class e{};e.\u0275prov=_({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function Zs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=yh(i,a);else if(o==2){let c=a,l=e[++s];r=yh(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Qs=class extends Br{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=yn(e);return new Hr(n,this.ngModule)}};function qh(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:vn.None;e?n.push({propName:s,templateName:r,isSignal:(a&vn.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function Zw(t){let e=t.toLowerCase();return e==="svg"?Vp:e==="math"?CC:null}var Hr=class extends Ws{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=qh(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return qh(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=X0(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Z(null);try{i=i||this.ngModule;let s=i instanceof tt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Pl(e,s):e,c=a.get(Ur,null);if(c===null)throw new I(407,!1);let l=a.get(Ww,null),u=a.get(rr,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},g=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",D=r?nw(g,r,this.componentDef.encapsulation,a):Sm(g,m,Zw(m)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let X=null;D!==null&&(X=Uu(D,a,!0));let J=Ku(0,null,null,1,0,null,null,null,null,null,null),pe=Ca(null,J,null,P,null,null,h,g,a,null,X);Ru(pe);let Be,vt,hr=null;try{let Xe=this.componentDef,pr,Uc=null;Xe.findHostDirectiveDefs?(pr=[],Uc=new Map,Xe.findHostDirectiveDefs(Xe,pr,Uc),pr.push(Xe)):pr=[Xe];let Ry=Qw(pe,D);hr=Yw(Ry,D,Xe,pr,pe,h,g),vt=Su(J,Fe),D&&Xw(g,Xe,D,r),n!==void 0&&eb(vt,this.ngContentSelectors,n),Be=Jw(hr,Xe,pr,Uc,pe,[tb]),ed(J,pe,null)}catch(Xe){throw hr!==null&&zl(hr),zl(pe),Xe}finally{Ou()}return new Jl(this.componentType,Be,ha(vt,pe),pe,vt)}finally{Z(o)}}},Jl=class extends Yl{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new nr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Xu(o[B],o,i,e,n),this.previousInputValues.set(e,n);let s=In(this._tNode.index,o);td(s,1)}}get injector(){return new Yn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Qw(t,e){let n=t[B],r=Fe;return t[r]=e,Ki(n,r,2,"#host",null)}function Yw(t,e,n,r,i,o,s){let a=i[B];Kw(r,t,e,s);let c=null;e!==null&&(c=Uu(e,i[Lr]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let h=Ca(i,Bm(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Wl(a,t,r.length-1),Da(i,h),i[t.index]=h}function Kw(t,e,n,r){for(let i of t)e.mergedAttrs=Li(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Zs(e,e.mergedAttrs,!0),n!==null&&Fm(r,n,e))}function Jw(t,e,n,r,i,o){let s=Pe(),a=i[B],c=ct(s,i);Hm(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let h=s.directiveStart+u,g=$r(i,a,h,s);wn(g,i)}zm(a,i,s),c&&wn(c,i);let l=$r(i,a,s.directiveStart+s.componentOffset,s);if(t[Me]=i[Me]=l,o!==null)for(let u of o)u(l,e);return Zu(a,s,i),l}function Xw(t,e,n,r){if(r)Sl(t,n,["ng-version","18.2.2"]);else{let{attrs:i,classes:o}=eC(e.selectors[0]);i&&Sl(t,n,i),o&&o.length>0&&km(t,n,o.join(" "))}}function eb(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function tb(){let t=Pe();fa(ee()[B],t)}var Ji=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=nb;let t=e;return t})();function nb(){let t=Pe();return ib(t,ee())}var rb=Ji,sg=class extends rb{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ha(this._hostTNode,this._hostLView)}get injector(){return new Yn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Fu(this._hostTNode,this._hostLView);if(im(e)){let n=Vs(e,this._hostLView),r=Ls(e),i=n[B].data[r+8];return new Yn(i,n)}else return new Yn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Gh(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Oe}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Hi(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Ui(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!mC(e),a;if(s)a=n;else{let D=n||{};a=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}let c=s?e:new Hr(yn(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let P=(s?l:this.parentInjector).get(tt,null);P&&(o=P)}let u=yn(c.componentType??{}),h=Hi(this._lContainer,u?.id??null),g=h?.firstChild??null,m=c.create(l,i,g,o);return this.insertImpl(m.hostView,a,Ui(this._hostTNode,h)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(DC(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[ke],l=new sg(c,c[_t],c[ke]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return ba(s,i,o,r),e.attachToViewContainerRef(),pp(yl(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Gh(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Bi(this._lContainer,n);r&&(Ns(yl(this._lContainer),n),ga(r[B],r))}detach(e){let n=this._adjustIndex(e,-1),r=Bi(this._lContainer,n);return r&&Ns(yl(this._lContainer),n)!=null?new nr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Gh(t){return t[ks]}function yl(t){return t[ks]||(t[ks]=[])}function ib(t,e){let n,r=e[t.index];return en(r)?n=r:(n=qm(r,e,null,t),e[t.index]=n,Da(e,n)),sb(n,e,t,r),new sg(n,t,e)}function ob(t,e){let n=t[_e],r=n.createComment(""),i=ct(e,t),o=Rm(n,i);return qs(n,o,r,zD(n,i),!1),r}var sb=lb,ab=()=>!1;function cb(t,e,n){return ab(t,e,n)}function lb(t,e,n,r){if(t[Jn])return;let i;n.type&8?i=Lt(r):i=ob(e,n),t[Jn]=i}var Wh=new Set;function tn(t){Wh.has(t)||(Wh.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function de(t,e){tn("NgSignals");let n=jf(t),r=n[Tt];return e?.equal&&(r.equal=e.equal),n.set=i=>qo(r,i),n.update=i=>$f(r,i),n.asReadonly=ub.bind(n),n}function ub(){let t=this[Tt];if(t.readonlyFn===void 0){let e=()=>this();e[Tt]=t,t.readonlyFn=e}return t.readonlyFn}function db(t){return Object.getPrototypeOf(t.prototype).constructor}function dt(t){let e=db(t.type),n=!0,r=[t];for(;e;){let i;if(Cn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Ds(t.inputs),s.inputTransforms=Ds(t.inputTransforms),s.declaredInputs=Ds(t.declaredInputs),s.outputs=Ds(t.outputs);let a=i.hostBindings;a&&gb(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&pb(t,c),l&&mb(t,l),fb(t,i),w0(t.outputs,i.outputs),Cn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===dt&&(n=!1)}}e=Object.getPrototypeOf(e)}hb(r)}function fb(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function hb(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Li(i.hostAttrs,n=Li(n,i.hostAttrs))}}function Ds(t){return t===kr?{}:t===st?[]:t}function pb(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function mb(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function gb(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function id(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var bn=class{},zi=class{};var Xl=class extends bn{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qs(this);let o=Ep(e);this._bootstrapComponents=Mm(o.bootstrap),this._r3Injector=hm(e,n,[{provide:bn,useValue:this},{provide:Br,useValue:this.componentFactoryResolver},...r],ze(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},eu=class extends zi{constructor(e){super(),this.moduleType=e}create(e){return new Xl(this.moduleType,e,[])}};var Ys=class extends bn{constructor(e){super(),this.componentFactoryResolver=new Qs(this),this.instance=null;let n=new Vi([...e.providers,{provide:bn,useValue:this},{provide:Br,useValue:this.componentFactoryResolver}],e.parent||xu(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function _a(t,e,n=null){return new Ys({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function ag(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function cg(t,e,n){return t[e]=n}function vb(t,e){return t[e]}function Jt(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function yb(t,e,n,r){let i=Jt(t,e,n);return Jt(t,e+1,r)||i}function Cb(t){return(t.flags&32)===32}function Db(t,e,n,r,i,o,s,a,c){let l=e.consts,u=Ki(e,t,4,s||null,a||null);Ju(e,n,u,Dn(l,c)),fa(e,u);let h=u.tView=Ku(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}function tu(t,e,n,r,i,o,s,a,c,l){let u=n+Fe,h=e.firstCreatePass?Db(u,e,t,r,i,o,s,a,c):e.data[u];or(h,!1);let g=wb(e,t,h,n);ua()&&va(e,t,g,h),wn(g,t);let m=qm(g,t,g,h);return t[u]=m,Da(t,m),cb(m,h,t),aa(h)&&Qu(e,t,h),c!=null&&Yu(t,h,l),h}function R(t,e,n,r,i,o,s,a){let c=ee(),l=Te(),u=Dn(l.consts,o);return tu(c,l,t,e,n,r,i,u,s,a),R}var wb=bb;function bb(t,e,n,r){return da(!0),e[_e].createComment("")}var Ar=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ar||{}),lg=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=_({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Qn=class Qn{constructor(){this.ngZone=p(he),this.scheduler=p(rr),this.errorHandler=p(bt,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Qn.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Qn.PHASES=[Ar.EarlyRead,Ar.Write,Ar.MixedReadWrite,Ar.Read],Qn.\u0275prov=_({token:Qn,providedIn:"root",factory:()=>new Qn});var nu=Qn,ru=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function od(t,e){!e?.injector&&Zi(od);let n=e?.injector??p(Se);return ND(n)?(tn("NgAfterNextRender"),Eb(t,n,e,!0)):Ib}function _b(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function Eb(t,e,n,r){let i=e.get(lg);i.impl??=e.get(nu);let o=n?.phase??Ar.MixedReadWrite,s=new ru(i.impl,_b(t,o),r,e.get(Sn));return i.impl.register(s),s}var Ib={destroy(){}};function ne(t,e,n,r){let i=ee(),o=Qi();if(Jt(i,o,e)){let s=Te(),a=ku();Cw(a,i,t,e,n,r)}return ne}function ug(t,e,n,r){return Jt(t,Qi(),n)?e+Or(n)+r:ut}function xb(t,e,n,r,i,o){let s=NC(),a=yb(t,s,n,i);return Qp(2),a?e+Or(n)+r+Or(i)+o:ut}function ws(t,e){return t<<17|e<<2}function ir(t){return t>>17&32767}function Mb(t){return(t&2)==2}function Sb(t,e){return t&131071|e<<17}function iu(t){return t|2}function zr(t){return(t&131068)>>2}function Cl(t,e){return t&-131069|e<<2}function Tb(t){return(t&1)===1}function ou(t){return t|1}function Ab(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ir(s),c=zr(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let h=n;u=h[1],(u===null||Wi(h,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let g=ir(t[a+1]);t[r+1]=ws(g,a),g!==0&&(t[g+1]=Cl(t[g+1],r)),t[a+1]=Sb(t[a+1],r)}else t[r+1]=ws(a,0),a!==0&&(t[a+1]=Cl(t[a+1],r)),a=r;else t[r+1]=ws(c,0),a===0?a=r:t[c+1]=Cl(t[c+1],r),c=r;l&&(t[r+1]=iu(t[r+1])),Zh(t,u,r,!0),Zh(t,u,r,!1),Nb(e,u,t,r,o),s=ws(a,c),o?e.classBindings=s:e.styleBindings=s}function Nb(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Wi(o,e)>=0&&(n[r+1]=ou(n[r+1]))}function Zh(t,e,n,r){let i=t[n+1],o=e===null,s=r?ir(i):zr(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];Rb(c,e)&&(a=!0,t[s+1]=r?ou(l):iu(l)),s=r?ir(l):zr(l)}a&&(t[n+1]=r?iu(i):ou(i))}function Rb(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Wi(t,e)>=0:!1}function N(t,e,n){let r=ee(),i=Qi();if(Jt(r,i,e)){let o=Te(),s=ku();Um(o,s,r,t,e,r[_e],n,!1)}return N}function Qh(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Xu(t,n,o[s],s,r)}function Ea(t,e){return Ob(t,e,null,!0),Ea}function Ob(t,e,n,r){let i=ee(),o=Te(),s=Qp(2);if(o.firstUpdatePass&&Fb(o,t,s,r),e!==ut&&Jt(i,s,e)){let a=o.data[xn()];$b(o,a,i,i[_e],t,i[s+1]=Bb(e,n),r,s)}}function kb(t,e){return e>=t.expandoStartIndex}function Fb(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[xn()],s=kb(t,n);Ub(o,r)&&e===null&&!s&&(e=!1),e=Pb(i,o,e,r),Ab(i,o,e,n,s,r)}}function Pb(t,e,n,r){let i=PC(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Dl(null,t,e,n,r),n=qi(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Dl(i,t,e,n,r),o===null){let c=Lb(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Dl(null,t,e,c[1],r),c=qi(c,e.attrs,r),Vb(t,e,r,c))}else o=jb(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function Lb(t,e,n){let r=n?e.classBindings:e.styleBindings;if(zr(r)!==0)return t[ir(r)]}function Vb(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ir(i)]=r}function jb(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=qi(r,s,n)}return qi(r,e.attrs,n)}function Dl(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=qi(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function qi(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),B0(t,s,n?!0:e[++o]))}return t===void 0?null:t}function $b(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=Tb(l)?Yh(c,e,n,i,zr(l),s):void 0;if(!Ks(u)){Ks(o)||Mb(l)&&(o=Yh(c,null,n,i,a,s));let h=jp(xn(),n);KD(r,s,h,i,o)}}function Yh(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,h=u===null,g=n[i+1];g===ut&&(g=h?st:void 0);let m=h?dl(g,r):u===r?g:void 0;if(l&&!Ks(m)&&(m=dl(c,r)),Ks(m)&&(a=m,s))return a;let D=t[i+1];i=s?ir(D):zr(D)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=dl(c,r))}return a}function Ks(t){return t!==void 0}function Bb(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ze(Yi(t)))),t}function Ub(t,e){return(t.flags&(e?8:16))!==0}var su=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function wl(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function Hb(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=t.at(o),u=e[o],h=wl(o,l,o,u,n);if(h!==0){h<0&&t.updateValue(o,u),o++;continue}let g=t.at(s),m=e[c],D=wl(s,g,c,m,n);if(D!==0){D<0&&t.updateValue(s,m),s--,c--;continue}let P=n(o,l),X=n(s,g),J=n(o,u);if(Object.is(J,X)){let pe=n(c,m);Object.is(pe,P)?(t.swap(o,s),t.updateValue(s,m),c--,s--):t.move(s,o),t.updateValue(o,u),o++;continue}if(r??=new Js,i??=Jh(t,o,s,n),au(t,r,o,J))t.updateValue(o,u),o++,s++;else if(i.has(J))r.set(P,t.detach(o)),s--;else{let pe=t.create(o,e[o]);t.attach(o,pe),o++,s++}}for(;o<=c;)Kh(t,r,n,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=t.at(o),h=l.value,g=wl(o,u,o,h,n);if(g!==0)g<0&&t.updateValue(o,h),o++,l=c.next();else{r??=new Js,i??=Jh(t,o,s,n);let m=n(o,h);if(au(t,r,o,m))t.updateValue(o,h),o++,s++,l=c.next();else if(!i.has(m))t.attach(o,t.create(o,h)),o++,s++,l=c.next();else{let D=n(o,u);r.set(D,t.detach(o)),s--}}}for(;!l.done;)Kh(t,r,n,t.length,l.value),l=c.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(c=>{t.destroy(c)})}function au(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function Kh(t,e,n,r,i){if(au(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function Jh(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Js=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function S(t,e){tn("NgControlFlow");let n=ee(),r=Qi(),i=n[r]!==ut?n[r]:-1,o=i!==-1?Xs(n,Fe+i):void 0,s=0;if(Jt(n,r,t)){let a=Z(null);try{if(o!==void 0&&Ym(o,s),t!==-1){let c=Fe+t,l=Xs(n,c),u=du(n[B],c),h=Hi(l,u.tView.ssrId),g=wa(n,u,e,{dehydratedView:h});ba(l,g,s,Ui(u,h))}}finally{Z(a)}}else if(o!==void 0){let a=Qm(o,s);a!==void 0&&(a[Me]=e)}}var cu=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Oe}};function nn(t){return t}function dg(t,e){return e}var lu=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Ge(t,e,n,r,i,o,s,a,c,l,u,h,g){tn("NgControlFlow");let m=ee(),D=Te(),P=c!==void 0,X=ee(),J=a?s.bind(X[wt][Me]):s,pe=new lu(P,J);X[Fe+t]=pe,tu(m,D,t+1,e,n,r,i,Dn(D.consts,o)),P&&tu(m,D,t+2,c,l,u,h,Dn(D.consts,g))}var uu=class extends su{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Oe}at(e){return this.getLView(e)[Me].$implicit}attach(e,n){let r=n[ji];this.needsIndexUpdate||=e!==this.length,ba(this.lContainer,n,e,Ui(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,zb(this.lContainer,e)}create(e,n){let r=Hi(this.lContainer,this.templateTNode.tView.ssrId),i=wa(this.hostLView,this.templateTNode,new cu(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){ga(e[B],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Me].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Me].$index=e}getLView(e){return qb(this.lContainer,e)}};function We(t){let e=Z(null),n=xn();try{let r=ee(),i=r[B],o=r[n],s=n+1,a=Xs(r,s);if(o.liveCollection===void 0){let l=du(i,s);o.liveCollection=new uu(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(Hb(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=Qi(),u=c.length===0;if(Jt(r,l,u)){let h=n+2,g=Xs(r,h);if(u){let m=du(i,h),D=Hi(g,m.tView.ssrId),P=wa(r,m,void 0,{dehydratedView:D});ba(g,P,0,Ui(m,D))}else Ym(g,0)}}}finally{Z(e)}}function Xs(t,e){return t[e]}function zb(t,e){return Bi(t,e)}function qb(t,e){return Qm(t,e)}function du(t,e){return Su(t,e)}function Gb(t,e,n,r,i,o){let s=e.consts,a=Dn(s,i),c=Ki(e,t,2,r,a);return Ju(e,n,c,Dn(s,o)),c.attrs!==null&&Zs(c,c.attrs,!1),c.mergedAttrs!==null&&Zs(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function d(t,e,n,r){let i=ee(),o=Te(),s=Fe+t,a=i[_e],c=o.firstCreatePass?Gb(s,o,i,e,n,r):o.data[s],l=Wb(o,i,c,a,e,t);i[s]=l;let u=aa(c);return or(c,!0),Fm(a,l,c),!Cb(c)&&ua()&&va(o,i,l,c),_C()===0&&wn(l,i),EC(),u&&(Qu(o,i,c),Zu(o,c,i)),r!==null&&Yu(i,c),d}function f(){let t=Pe();Au()?Wp():(t=t.parent,or(t,!1));let e=t;MC(e)&&SC(),IC();let n=Te();return n.firstCreatePass&&(fa(n,t),Mu(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&HC(e)&&Qh(n,e,ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&zC(e)&&Qh(n,e,ee(),e.stylesWithoutHost,!1),f}function b(t,e,n,r){return d(t,e,n,r),f(),b}var Wb=(t,e,n,r,i,o)=>(da(!0),Sm(r,i,jC()));function Zb(t,e,n,r,i){let o=e.consts,s=Dn(o,r),a=Ki(e,t,8,"ng-container",s);s!==null&&Zs(a,s,!0);let c=Dn(o,i);return Ju(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function fg(t,e,n){let r=ee(),i=Te(),o=t+Fe,s=i.firstCreatePass?Zb(o,i,r,e,n):i.data[o];or(s,!0);let a=Qb(i,r,s,t);return r[o]=a,ua()&&va(i,r,a,s),wn(a,r),aa(s)&&(Qu(i,r,s),Zu(i,s,r)),n!=null&&Yu(r,s),fg}function hg(){let t=Pe(),e=Te();return Au()?Wp():(t=t.parent,or(t,!1)),e.firstCreatePass&&(fa(e,t),Mu(t)&&e.queries.elementEnd(t)),hg}function Ia(t,e,n){return fg(t,e,n),hg(),Ia}var Qb=(t,e,n,r)=>(da(!0),FD(e[_e],""));function te(){return ee()}var ea="en-US";var Yb=ea;function Kb(t){typeof t=="string"&&(Yb=t.toLowerCase().replace(/_/g,"-"))}var Jb=(t,e,n)=>{};function E(t,e,n,r){let i=ee(),o=Te(),s=Pe();return e_(o,i,i[_e],s,t,e,r),E}function Xb(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Os],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function e_(t,e,n,r,i,o,s){let a=aa(r),l=t.firstCreatePass&&Ew(t),u=e[Me],h=_w(e),g=!0;if(r.type&3||s){let P=ct(r,e),X=s?s(P):P,J=h.length,pe=s?vt=>s(Lt(vt[r.index])):r.index,Be=null;if(!s&&a&&(Be=Xb(t,e,i,r.index)),Be!==null){let vt=Be.__ngLastListenerFn__||Be;vt.__ngNextListenerFn__=o,Be.__ngLastListenerFn__=o,g=!1}else{o=ep(r,e,u,o),Jb(P,i,o);let vt=n.listen(X,i,o);h.push(o,vt),l&&l.push(i,pe,J,J+1)}}else o=ep(r,e,u,o);let m=r.outputs,D;if(g&&m!==null&&(D=m[i])){let P=D.length;if(P)for(let X=0;X<P;X+=2){let J=D[X],pe=D[X+1],hr=e[J][pe].subscribe(o),Xe=h.length;h.push(o,hr),l&&l.push(i,r.index,Xe,-(Xe+1))}}}function Xh(t,e,n,r){let i=Z(null);try{return Ot(6,e,n),n(r)!==!1}catch(o){return Wm(t,o),!1}finally{Ot(7,e,n),Z(i)}}function ep(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?In(t.index,e):e;td(s,5);let a=Xh(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Xh(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function C(t=1){return VC(t)}function Xi(t,e,n){return Wr(t,"",e,"",n),Xi}function Wr(t,e,n,r,i){let o=ee(),s=ug(o,e,n,r);if(s!==ut){let a=Te(),c=ku();Um(a,c,o,t,s,o[_e],i,!1)}return Wr}function t_(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function xa(t){let e=AC();return $p(e,Fe+t)}function v(t,e=""){let n=ee(),r=Te(),i=t+Fe,o=r.firstCreatePass?Ki(r,i,1,e,null):r.data[i],s=n_(r,n,o,e,t);n[i]=s,ua()&&va(r,n,s,o),or(o,!1)}var n_=(t,e,n,r,i)=>(da(!0),OD(e[_e],r));function De(t){return Ze("",t,""),De}function Ze(t,e,n){let r=ee(),i=ug(r,t,e,n);return i!==ut&&Zm(r,xn(),i),Ze}function Ma(t,e,n,r,i){let o=ee(),s=xb(o,t,e,n,r,i);return s!==ut&&Zm(o,xn(),s),Ma}function r_(t,e,n){let r=Te();if(r.firstCreatePass){let i=Cn(t);fu(n,r.data,r.blueprint,i,!0),fu(e,r.data,r.blueprint,i,!1)}}function fu(t,e,n,r,i){if(t=Re(t),Array.isArray(t))for(let o=0;o<t.length;o++)fu(t[o],e,n,r,i);else{let o=Te(),s=ee(),a=Pe(),c=Pr(t)?t:Re(t.provide),l=Ap(t),u=a.providerIndexes&1048575,h=a.directiveStart,g=a.providerIndexes>>20;if(Pr(t)||!t.multi){let m=new tr(l,i,j),D=_l(c,e,i?u:u+g,h);D===-1?(Vl($s(a,s),o,c),bl(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),s.push(m)):(n[D]=m,s[D]=m)}else{let m=_l(c,e,u+g,h),D=_l(c,e,u,u+g),P=m>=0&&n[m],X=D>=0&&n[D];if(i&&!X||!i&&!P){Vl($s(a,s),o,c);let J=s_(i?o_:i_,n.length,i,r,l);!i&&X&&(n[D].providerFactory=J),bl(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(J),s.push(J)}else{let J=pg(n[i?D:m],l,!i&&r);bl(o,t,m>-1?m:D,J)}!i&&r&&X&&n[D].componentProviders++}}}function bl(t,e,n,r){let i=Pr(e),o=cC(e);if(i||o){let c=(o?Re(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function pg(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function _l(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function i_(t,e,n,r){return hu(this.multi,[])}function o_(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=$r(n,n[B],this.providerFactory.index,r);o=a.slice(0,s),hu(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],hu(i,o);return o}function hu(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function s_(t,e,n,r,i){let o=new tr(t,n,j);return o.multi=[],o.index=e,o.componentProviders=0,pg(o,i,r&&!n),o}function Tn(t,e=[]){return n=>{n.providersResolver=(r,i)=>r_(r,i?i(t):t,e)}}var a_=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Mp(!1,r.type),o=i.length>0?_a([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=_({token:e,providedIn:"environment",factory:()=>new e(F(tt))});let t=e;return t})();function M(t){tn("NgStandalone"),t.getStandaloneInjector=e=>e.get(a_).getOrCreateStandaloneInjector(t)}function Zr(t,e,n){let r=Nu()+t,i=ee();return i[r]===ut?cg(i,r,n?e.call(n):e()):vb(i,r)}function nt(t,e,n,r){return mg(ee(),Nu(),t,e,n,r)}function c_(t,e){let n=t[e];return n===ut?void 0:n}function mg(t,e,n,r,i,o){let s=e+n;return Jt(t,s,i)?cg(t,s+1,o?r.call(o,i):r(i)):c_(t,s+1)}function gg(t,e){let n=Te(),r,i=t+Fe;n.firstCreatePass?(r=l_(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Kn(r.type,!0)),s,a=He(j);try{let c=js(!1),l=o();return js(c),t_(n,ee(),i,l),l}finally{He(a)}}function l_(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function vg(t,e,n){let r=t+Fe,i=ee(),o=$p(i,r);return u_(i,r)?mg(i,Nu(),e,o.transform,n,o):o.transform(n)}function u_(t,e){return t[B].data[e].pure}function yg(t,e){return ig(t,e)}var Sa=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Cg=new A("");function ar(t){return!!t&&typeof t.then=="function"}function Dg(t){return!!t&&typeof t.subscribe=="function"}var Qr=new A(""),wg=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=p(Qr,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(ar(s))r.push(s);else if(Dg(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ta=new A("");function d_(){Vf(()=>{throw new I(600,!1)})}function f_(t){return t.isBoundToModule}var h_=10;function p_(t,e,n){try{let r=n();return ar(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Bt=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=p(uD),this.afterRenderManager=p(lg),this.zonelessEnabled=p(nd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ce,this.afterTick=new ce,this.componentTypes=[],this.components=[],this.isStable=p(sr).hasPendingTasks.pipe(V(r=>!r)),this._injector=p(tt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Ws;if(!this._injector.get(wg).done){let m=!o&&_p(r),D=!1;throw new I(405,D)}let a;o?a=r:a=this._injector.get(Br).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=f_(a)?void 0:this._injector.get(bn),l=i||a.selector,u=a.create(Se.NULL,[],l,c),h=u.location.nativeElement,g=u.injector.get(Cg,null);return g?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Ms(this.components,u),g?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new I(101,!1);let r=Z(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Z(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(Ur,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<h_;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:o,notifyErrorHandler:s}of this._views)m_(o,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>ca(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Ms(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Ta,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ms(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new I(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ms(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function m_(t,e,n,r){if(!n&&!ca(t))return;Xm(t,e,n&&!r?0:1)}var pu=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Aa=(()=>{let e=class e{compileModuleSync(r){return new eu(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=Ep(r),s=Mm(o.declarations).reduce((a,c)=>{let l=yn(c);return l&&a.push(new Hr(l)),a},[]);return new pu(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var g_=(()=>{let e=class e{constructor(){this.zone=p(he),this.changeDetectionScheduler=p(rr),this.applicationRef=p(Bt)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function v_({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new he(z(w({},y_()),{scheduleInRootZone:n})),[{provide:he,useFactory:t},{provide:Fr,multi:!0,useFactory:()=>{let r=p(g_,{optional:!0});return()=>r.initialize()}},{provide:Fr,multi:!0,useFactory:()=>{let r=p(C_);return()=>{r.initialize()}}},e===!0?{provide:og,useValue:!0}:[],{provide:rd,useValue:n??pm}]}function y_(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var C_=(()=>{let e=class e{constructor(){this.subscription=new me,this.initialized=!1,this.zone=p(he),this.pendingTasks=p(sr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{he.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var bg=(()=>{let e=class e{constructor(){this.appRef=p(Bt),this.taskService=p(sr),this.ngZone=p(he),this.zonelessEnabled=p(nd),this.disableScheduling=p(og,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new me,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Us):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(p(rd,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Hs||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Fh:mm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Us+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Fh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _g(){return tn("NgZoneless"),qr([{provide:rr,useExisting:bg},{provide:he,useClass:Hs},{provide:nd,useValue:!0},{provide:rd,useValue:!1},[]])}function D_(){return typeof $localize<"u"&&$localize.locale||ea}var sd=new A("",{providedIn:"root",factory:()=>p(sd,Q.Optional|Q.SkipSelf)||D_()});var Eg=new A("");function bs(t){return!!t.platformInjector}function w_(t){let e=bs(t)?t.r3Injector:t.moduleRef.injector,n=e.get(he);return n.run(()=>{bs(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(bt,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),bs(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Eg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{Ms(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return p_(r,n,()=>{let o=e.get(wg);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(sd,ea);if(Kb(s||ea),bs(t)){let a=e.get(Bt);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return b_(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function b_(t,e){let n=t.injector.get(Bt);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new I(-403,!1);e.push(t)}var Ss=null;function __(t=[],e){return Se.create({name:e,providers:[{provide:ia,useValue:"platform"},{provide:Eg,useValue:new Set([()=>Ss=null])},...t]})}function E_(t=[]){if(Ss)return Ss;let e=__(t);return Ss=e,d_(),I_(e),e}function I_(t){t.get($u,null)?.forEach(n=>n())}function Ig(){return!1}var cr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=x_;let t=e;return t})();function x_(t){return M_(Pe(),ee(),(t&16)===16)}function M_(t,e,n){if(sa(t)&&!n){let r=In(t.index,e);return new nr(r,r)}else if(t.type&175){let r=e[wt];return new nr(r,e)}return null}var mu=class{constructor(){}supports(e){return e instanceof Map||ag(e)}create(){return new gu}},gu=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||ag(e)))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new vu(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},vu=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function tp(){return new ad([new mu])}var ad=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||tp()),deps:[[e,new bu,new ra]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i)return i;throw new I(901,!1)}};e.\u0275prov=_({token:e,providedIn:"root",factory:tp});let t=e;return t})();function xg(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=E_(r),o=[v_({}),{provide:rr,useExisting:bg},...n||[]],s=new Ys({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return w_({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var Mg=new A("");function Yr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ve(t,e){tn("NgSignals");let n=Ff(t);return e?.equal&&(n[Tt].equal=e.equal),n}function ft(t){let e=Z(null);try{return t()}finally{Z(e)}}var S_=new A("",{providedIn:"root",factory:()=>p(T_)}),T_=(()=>{let e=class e{};e.\u0275prov=_({token:e,providedIn:"root",factory:()=>new yu});let t=e;return t})(),yu=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=p(sr),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},Cu=class{constructor(e,n,r,i,o,s){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=o,this.watcher=Bf(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(bt,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function eo(t,e){tn("NgSignals"),!e?.injector&&Zi(eo);let n=e?.injector??p(Se),r=e?.manualCleanup!==!0?n.get(Sn):null,i=new Cu(n.get(S_),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),o=n.get(cr,null,{optional:!0});return!o||!(o._lView[L]&8)?i.watcher.notify():(o._lView[Es]??=[]).push(i.watcher.notify),i}function Sg(t){let e=yn(t);if(!e)return null;let n=new Hr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Og=null;function on(){return Og}function kg(t){Og??=t}var Na=class{};var Le=new A(""),hd=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>p(A_),providedIn:"platform"});let t=e;return t})(),Fg=new A(""),A_=(()=>{let e=class e extends hd{constructor(){super(),this._doc=p(Le),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return on().getBaseHref(this._doc)}onPopState(r){let i=on().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=on().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function pd(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Tg(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function rn(t){return t&&t[0]!=="?"?"?"+t:t}var Ut=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>p(md),providedIn:"root"});let t=e;return t})(),Pg=new A(""),md=(()=>{let e=class e extends Ut{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??p(Le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return pd(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+rn(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+rn(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+rn(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(F(hd),F(Pg,8))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gd=(()=>{let e=class e extends Ut{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=pd(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+rn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+rn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(F(hd),F(Pg,8))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Kr=(()=>{let e=class e{constructor(r){this._subject=new ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=O_(Tg(Ag(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+rn(i))}normalize(r){return e.stripTrailingSlash(R_(this._basePath,Ag(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+rn(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+rn(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=rn,e.joinWithSlash=pd,e.stripTrailingSlash=Tg,e.\u0275fac=function(i){return new(i||e)(F(Ut))},e.\u0275prov=_({token:e,factory:()=>N_(),providedIn:"root"});let t=e;return t})();function N_(){return new Kr(F(Ut))}function R_(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Ag(t){return t.replace(/\/index.html$/,"")}function O_(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Lg(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var ld=/\s+/,Ng=[],An=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=Ng,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(ld):Ng}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(ld):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(ld).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(j(Et),j($t))},e.\u0275dir=Ce({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Vg=(()=>{let e=class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,o):!1,get:(r,i,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,o)}})}};e.\u0275fac=function(i){return new(i||e)(j(Ji))},e.\u0275dir=Ce({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[qe]});let t=e;return t})();function k_(t,e){return{key:t,value:e}}var jg=(()=>{let e=class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=Rg}transform(r,i=Rg){if(!r||!(r instanceof Map)&&typeof r!="object")return null;this.differ??=this.differs.find(r).create();let o=this.differ.diff(r),s=i!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(a=>{this.keyValues.push(k_(a.key,a.currentValue))})),(o||s)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}};e.\u0275fac=function(i){return new(i||e)(j(ad,16))},e.\u0275pipe=Dp({name:"keyvalue",type:e,pure:!1,standalone:!0});let t=e;return t})();function Rg(t,e){let n=t.key,r=e.key;if(n===r)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(n===null)return 1;if(r===null)return-1;if(typeof n=="string"&&typeof r=="string")return n<r?-1:1;if(typeof n=="number"&&typeof r=="number")return n-r;if(typeof n=="boolean"&&typeof r=="boolean")return n<r?-1:1;let i=String(n),o=String(r);return i==o?0:i<o?-1:1}var vd="browser",F_="server";function Oa(t){return t===vd}function yd(t){return t===F_}var ka=(()=>{let e=class e{};e.\u0275prov=_({token:e,providedIn:"root",factory:()=>Oa(p(It))?new ud(p(Le),window):new dd});let t=e;return t})(),ud=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=P_(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function P_(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var dd=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ra=class{};var wd=class extends Na{constructor(){super(...arguments),this.supportsDOMEvents=!0}},bd=class t extends wd{static makeCurrent(){kg(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=V_();return n==null?null:j_(n)}resetBaseElement(){to=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Lg(document.cookie,e)}},to=null;function V_(){return to=to||document.querySelector("base"),to?to.getAttribute("href"):null}function j_(t){return new URL(t,document.baseURI).pathname}var $_=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Fa=new A(""),Hg=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new I(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(F(Fa),F(he))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),no=class{constructor(e){this._doc=e}},Cd="ng-app-id",zg=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yd(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Cd}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Cd),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Cd,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(F(Le),F(ju),F(Bu,8),F(It))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Dd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ed=/%COMP%/g,qg="%COMP%",B_=`_nghost-${qg}`,U_=`_ngcontent-${qg}`,H_=!0,z_=new A("",{providedIn:"root",factory:()=>H_});function q_(t){return U_.replace(Ed,t)}function G_(t){return B_.replace(Ed,t)}function Gg(t,e){return e.map(n=>n.replace(Ed,t))}var $g=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=yd(c),this.defaultRenderer=new ro(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ft.ShadowDom&&(i=z(w({},i),{encapsulation:Ft.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Pa?o.applyToHost(r):o instanceof io&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case Ft.Emulated:s=new Pa(l,u,i,this.appId,h,a,c,g);break;case Ft.ShadowDom:return new _d(l,u,r,i,a,c,this.nonce,g);default:s=new io(l,u,i,h,a,c,g);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(F(Hg),F(zg),F(ju),F(z_),F(Le),F(It),F(he),F(Bu))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),ro=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Dd[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Bg(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Bg(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new I(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Dd[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Dd[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Kt.DashCase|Kt.Important)?e.style.setProperty(n,r,i&Kt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Kt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=on().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Bg(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var _d=class extends ro{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Gg(i.id,i.styles);for(let u of l){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},io=class extends ro{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Gg(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Pa=class extends io{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=q_(l),this.hostAttr=G_(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},W_=(()=>{let e=class e extends no{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(F(Le))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Z_=(()=>{let e=class e extends no{constructor(r){super(r),this.delegate=p(Mg,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(F(Le))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Ug=["alt","control","meta","shift"],Q_={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Y_={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},K_=(()=>{let e=class e extends no{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>on().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),Ug.forEach(u=>{let h=i.indexOf(u);h>-1&&(i.splice(h,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=Q_[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Ug.forEach(a=>{if(a!==o){let c=Y_[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(F(Le))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function Wg(t,e){return xg(w({rootComponent:t},J_(e)))}function J_(t){return{appProviders:[...rE,...t?.providers??[]],platformProviders:nE}}function X_(){bd.makeCurrent()}function eE(){return new bt}function tE(){return bm(document),document}var nE=[{provide:It,useValue:vd},{provide:$u,useValue:X_,multi:!0},{provide:Le,useFactory:tE,deps:[]}];var rE=[{provide:ia,useValue:"root"},{provide:bt,useFactory:eE,deps:[]},{provide:Fa,useClass:W_,multi:!0,deps:[Le,he,It]},{provide:Fa,useClass:K_,multi:!0,deps:[Le]},{provide:Fa,useClass:Z_,multi:!0},$g,zg,Hg,{provide:Ur,useExisting:$g},{provide:Ra,useClass:$_,deps:[]},[]];var Zg=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(F(Le))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var H="primary",Do=Symbol("RouteTitle"),Td=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ri(t){return new Td(t)}function oE(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function sE(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ht(t[n],e[n]))return!1;return!0}function Ht(t,e){let n=t?Ad(t):void 0,r=e?Ad(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!ov(t[i],e[i]))return!1;return!0}function Ad(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ov(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function sv(t){return t.length>0?t[t.length-1]:null}function On(t){return rl(t)?t:ar(t)?oe(Promise.resolve(t)):O(t)}var aE={exact:cv,subset:lv},av={exact:cE,subset:lE,ignored:()=>!0};function Qg(t,e,n){return aE[n.paths](t.root,e.root,n.matrixParams)&&av[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function cE(t,e){return Ht(t,e)}function cv(t,e,n){if(!ur(t.segments,e.segments)||!ja(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!cv(t.children[r],e.children[r],n))return!1;return!0}function lE(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ov(t[n],e[n]))}function lv(t,e,n){return uv(t,e,e.segments,n)}function uv(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ur(i,n)||e.hasChildren()||!ja(i,n,r))}else if(t.segments.length===n.length){if(!ur(t.segments,n)||!ja(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!lv(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ur(t.segments,i)||!ja(t.segments,i,r)||!t.children[H]?!1:uv(t.children[H],e,o,r)}}function ja(t,e,n){return e.every((r,i)=>av[n](t[i].parameters,r.parameters))}var an=class{constructor(e=new re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ri(this.queryParams),this._queryParamMap}toString(){return fE.serialize(this)}},re=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $a(this)}},lr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ri(this.parameters),this._parameterMap}toString(){return fv(this)}};function uE(t,e){return ur(t,e)&&t.every((n,r)=>Ht(n.parameters,e[r].parameters))}function ur(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function dE(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===H&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==H&&(n=n.concat(e(i,r)))}),n}var wo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>new ii,providedIn:"root"});let t=e;return t})(),ii=class{parse(e){let n=new Rd(e);return new an(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${oo(e.root,!0)}`,r=mE(e.queryParams),i=typeof e.fragment=="string"?`#${hE(e.fragment)}`:"";return`${n}${r}${i}`}},fE=new ii;function $a(t){return t.segments.map(e=>fv(e)).join("/")}function oo(t,e){if(!t.hasChildren())return $a(t);if(e){let n=t.children[H]?oo(t.children[H],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==H&&r.push(`${i}:${oo(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=dE(t,(r,i)=>i===H?[oo(t.children[H],!1)]:[`${i}:${oo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[H]!=null?`${$a(t)}/${n[0]}`:`${$a(t)}/(${n.join("//")})`}}function dv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function La(t){return dv(t).replace(/%3B/gi,";")}function hE(t){return encodeURI(t)}function Nd(t){return dv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ba(t){return decodeURIComponent(t)}function Yg(t){return Ba(t.replace(/\+/g,"%20"))}function fv(t){return`${Nd(t.path)}${pE(t.parameters)}`}function pE(t){return Object.entries(t).map(([e,n])=>`;${Nd(e)}=${Nd(n)}`).join("")}function mE(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${La(n)}=${La(i)}`).join("&"):`${La(n)}=${La(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var gE=/^[^\/()?;#]+/;function Id(t){let e=t.match(gE);return e?e[0]:""}var vE=/^[^\/()?;=#]+/;function yE(t){let e=t.match(vE);return e?e[0]:""}var CE=/^[^=?&#]+/;function DE(t){let e=t.match(CE);return e?e[0]:""}var wE=/^[^&#]+/;function bE(t){let e=t.match(wE);return e?e[0]:""}var Rd=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[H]=new re(e,n)),r}parseSegment(){let e=Id(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(e),new lr(Ba(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=yE(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Id(this.remaining);i&&(r=i,this.capture(r))}e[Ba(n)]=Ba(r)}parseQueryParam(e){let n=DE(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=bE(this.remaining);s&&(r=s,this.capture(r))}let i=Yg(n),o=Yg(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Id(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new I(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=H);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[H]:new re([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new I(4011,!1)}};function hv(t){return t.segments.length>0?new re([],{[H]:t}):t}function pv(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=pv(i);if(r===H&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new re(t.segments,e);return _E(n)}function _E(t){if(t.numberOfChildren===1&&t.children[H]){let e=t.children[H];return new re(t.segments.concat(e.segments),e.children)}return t}function dr(t){return t instanceof an}function EE(t,e,n=null,r=null){let i=mv(t);return gv(i,e,n,r)}function mv(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new re(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=hv(r);return e??i}function gv(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return xd(i,i,i,n,r);let o=IE(e);if(o.toRoot())return xd(i,i,new re([],{}),n,r);let s=xE(o,i,t),a=s.processChildren?co(s.segmentGroup,s.index,o.commands):yv(s.segmentGroup,s.index,o.commands);return xd(i,s.segmentGroup,a,n,r)}function Ua(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function fo(t){return typeof t=="object"&&t!=null&&t.outlets}function xd(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=vv(t,e,n);let a=hv(pv(s));return new an(a,o,i)}function vv(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=vv(o,e,n)}),new re(t.segments,r)}var Ha=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ua(r[0]))throw new I(4003,!1);let i=r.find(fo);if(i&&i!==sv(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function IE(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ha(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ha(n,e,r)}var ei=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function xE(t,e,n){if(t.isAbsolute)return new ei(e,!0,0);if(!n)return new ei(e,!1,NaN);if(n.parent===null)return new ei(n,!0,0);let r=Ua(t.commands[0])?0:1,i=n.segments.length-1+r;return ME(n,i,t.numberOfDoubleDots)}function ME(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new ei(r,!1,i-o)}function SE(t){return fo(t[0])?t[0].outlets:{[H]:t}}function yv(t,e,n){if(t??=new re([],{}),t.segments.length===0&&t.hasChildren())return co(t,e,n);let r=TE(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new re(t.segments.slice(0,r.pathIndex),{});return o.children[H]=new re(t.segments.slice(r.pathIndex),t.children),co(o,0,i)}else return r.match&&i.length===0?new re(t.segments,{}):r.match&&!t.hasChildren()?Od(t,e,n):r.match?co(t,0,i):Od(t,e,n)}function co(t,e,n){if(n.length===0)return new re(t.segments,{});{let r=SE(n),i={};if(Object.keys(r).some(o=>o!==H)&&t.children[H]&&t.numberOfChildren===1&&t.children[H].segments.length===0){let o=co(t.children[H],e,n);return new re(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=yv(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new re(t.segments,i)}}function TE(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(fo(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Jg(c,l,s))return o;r+=2}else{if(!Jg(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Od(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(fo(o)){let c=AE(o.outlets);return new re(r,c)}if(i===0&&Ua(n[0])){let c=t.segments[e];r.push(new lr(c.path,Kg(n[0]))),i++;continue}let s=fo(o)?o.outlets[H]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Ua(a)?(r.push(new lr(s,Kg(a))),i+=2):(r.push(new lr(s,{})),i++)}return new re(r,{})}function AE(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Od(new re([],{}),0,r))}),e}function Kg(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Jg(t,e,n){return t==n.path&&Ht(e,n.parameters)}var lo="imperative",Ee=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ee||{}),ht=class{constructor(e,n){this.id=e,this.url=n}},oi=class extends ht{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ee.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},zt=class extends ht{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ee.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},it=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(it||{}),za=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(za||{}),sn=class extends ht{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ee.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Nn=class extends ht{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ee.NavigationSkipped}},ho=class extends ht{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ee.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},qa=class extends ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kd=class extends ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fd=class extends ht{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ee.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Pd=class extends ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ld=class extends ht{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vd=class{constructor(e){this.route=e,this.type=Ee.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},jd=class{constructor(e){this.route=e,this.type=Ee.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},$d=class{constructor(e){this.snapshot=e,this.type=Ee.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bd=class{constructor(e){this.snapshot=e,this.type=Ee.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ud=class{constructor(e){this.snapshot=e,this.type=Ee.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hd=class{constructor(e){this.snapshot=e,this.type=Ee.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ga=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ee.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},po=class{},si=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function NE(t,e){return t.providers&&!t._injector&&(t._injector=_a(t.providers,e,`Route: ${t.path}`)),t._injector??e}function xt(t){return t.outlet||H}function RE(t,e){let n=t.filter(r=>xt(r)===e);return n.push(...t.filter(r=>xt(r)!==e)),n}function bo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var zd=class{get injector(){return bo(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new _o(this.rootInjector),this.attachRef=null}},_o=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new zd(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(F(tt))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wa=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=qd(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=qd(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Gd(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Gd(e,this._root).map(n=>n.value)}};function qd(t,e){if(t===e.value)return e;for(let n of e.children){let r=qd(t,n);if(r)return r}return null}function Gd(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Gd(t,n);if(r.length)return r.unshift(e),r}return[]}var rt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Xr(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Za=class extends Wa{constructor(e,n){super(e),this.snapshot=n,tf(this,e)}toString(){return this.snapshot.toString()}};function Cv(t){let e=OE(t),n=new Ie([new lr("",{})]),r=new Ie({}),i=new Ie({}),o=new Ie({}),s=new Ie(""),a=new Rn(n,r,o,s,i,H,t,e.root);return a.snapshot=e.root,new Za(new rt(a,[]),e)}function OE(t){let e={},n={},r={},i="",o=new ti([],e,r,i,n,H,t,null,{});return new Ya("",new rt(o,[]))}var Rn=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(V(l=>l[Do]))??O(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(V(e=>ri(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(V(e=>ri(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Qa(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:w(w({},e.params),t.params),data:w(w({},e.data),t.data),resolve:w(w(w(w({},t.data),e.data),i?.data),t._resolvedData)}:r={params:w({},t.params),data:w({},t.data),resolve:w(w({},t.data),t._resolvedData??{})},i&&wv(i)&&(r.resolve[Do]=i.title),r}var ti=class{get title(){return this.data?.[Do]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ri(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ri(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ya=class extends Wa{constructor(e,n){super(n),this.url=e,tf(this,n)}toString(){return Dv(this._root)}};function tf(t,e){e.value._routerState=t,e.children.forEach(n=>tf(t,n))}function Dv(t){let e=t.children.length>0?` { ${t.children.map(Dv).join(", ")} } `:"";return`${t.value}${e}`}function Md(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ht(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Ht(e.params,n.params)||t.paramsSubject.next(n.params),sE(e.url,n.url)||t.urlSubject.next(n.url),Ht(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Wd(t,e){let n=Ht(t.params,e.params)&&uE(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Wd(t.parent,e.parent))}function wv(t){return typeof t.title=="string"||t.title===null}var nf=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=H,this.activateEvents=new ye,this.deactivateEvents=new ye,this.attachEvents=new ye,this.detachEvents=new ye,this.parentContexts=p(_o),this.location=p(Ji),this.changeDetector=p(cr),this.inputBinder=p(ec,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Zd(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ce({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[qe]});let t=e;return t})(),Zd=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Rn?this.route:e===_o?this.childContexts:this.parent.get(e,n)}},ec=new A(""),Xg=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Ai([i.queryParams,i.params,i.data]).pipe(xe(([s,a,c],l)=>(c=w(w(w({},s),a),c),l===0?O(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=Sg(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function kE(t,e,n){let r=mo(t,e._root,n?n._root:void 0);return new Za(r,e)}function mo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=FE(t,e,n);return new rt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>mo(t,a)),s}}let r=PE(e.value),i=e.children.map(o=>mo(t,o));return new rt(r,i)}}function FE(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return mo(t,r,i);return mo(t,r)})}function PE(t){return new Rn(new Ie(t.url),new Ie(t.params),new Ie(t.queryParams),new Ie(t.fragment),new Ie(t.data),t.outlet,t.component,t)}var go=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},bv="ngNavigationCancelingError";function Ka(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=dr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=_v(!1,it.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function _v(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[bv]=!0,n.cancellationCode=e,n}function LE(t){return Ev(t)&&dr(t.url)}function Ev(t){return!!t&&t[bv]}var VE=(t,e,n,r)=>V(i=>(new Qd(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Qd=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Md(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Xr(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Xr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Xr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Xr(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Hd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Bd(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Md(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Md(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ja=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ni=class{constructor(e,n){this.component=e,this.route=n}};function jE(t,e,n){let r=t._root,i=e?e._root:null;return so(r,i,n,[r.value])}function $E(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ci(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ap(t)?t:e.get(t):r}function so(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Xr(e);return t.children.forEach(s=>{BE(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>uo(a,n.getContext(s),i)),i}function BE(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=UE(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ja(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?so(t,e,a?a.children:null,r,i):so(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ni(a.outlet.component,s))}else s&&uo(e,a,i),i.canActivateChecks.push(new Ja(r)),o.component?so(t,null,a?a.children:null,r,i):so(t,null,n,r,i);return i}function UE(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ur(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ur(t.url,e.url)||!Ht(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wd(t,e)||!Ht(t.queryParams,e.queryParams);case"paramsChange":default:return!Wd(t,e)}}function uo(t,e,n){let r=Xr(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?uo(s,e.children.getContext(o),n):uo(s,null,n):uo(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ni(e.outlet.component,i)):n.canDeactivateChecks.push(new ni(null,i)):n.canDeactivateChecks.push(new ni(null,i))}function Eo(t){return typeof t=="function"}function HE(t){return typeof t=="boolean"}function zE(t){return t&&Eo(t.canLoad)}function qE(t){return t&&Eo(t.canActivate)}function GE(t){return t&&Eo(t.canActivateChild)}function WE(t){return t&&Eo(t.canDeactivate)}function ZE(t){return t&&Eo(t.canMatch)}function Iv(t){return t instanceof Yt||t?.name==="EmptyError"}var Va=Symbol("INITIAL_VALUE");function ai(){return xe(t=>Ai(t.map(e=>e.pipe(be(1),ul(Va)))).pipe(V(e=>{for(let n of e)if(n!==!0){if(n===Va)return Va;if(n===!1||QE(n))return n}return!0}),ge(e=>e!==Va),be(1)))}function QE(t){return dr(t)||t instanceof go}function YE(t,e){return fe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?O(z(w({},n),{guardsResult:!0})):KE(s,r,i,t).pipe(fe(a=>a&&HE(a)?JE(r,o,t,e):O(a)),V(a=>z(w({},n),{guardsResult:a})))})}function KE(t,e,n,r){return oe(t).pipe(fe(i=>rI(i.component,i.route,n,e,r)),Rt(i=>i!==!0,!0))}function JE(t,e,n,r){return oe(e).pipe(Gn(i=>Nt(eI(i.route.parent,r),XE(i.route,r),nI(t,i.path,n),tI(t,i.route,n))),Rt(i=>i!==!0,!0))}function XE(t,e){return t!==null&&e&&e(new Ud(t)),O(!0)}function eI(t,e){return t!==null&&e&&e(new $d(t)),O(!0)}function tI(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let i=r.map(o=>zn(()=>{let s=bo(e)??n,a=ci(o,s),c=qE(a)?a.canActivate(e,t):jt(s,()=>a(e,t));return On(c).pipe(Rt())}));return O(i).pipe(ai())}function nI(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>$E(s)).filter(s=>s!==null).map(s=>zn(()=>{let a=s.guards.map(c=>{let l=bo(s.node)??n,u=ci(c,l),h=GE(u)?u.canActivateChild(r,t):jt(l,()=>u(r,t));return On(h).pipe(Rt())});return O(a).pipe(ai())}));return O(o).pipe(ai())}function rI(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return O(!0);let s=o.map(a=>{let c=bo(e)??i,l=ci(a,c),u=WE(l)?l.canDeactivate(t,e,n,r):jt(c,()=>l(t,e,n,r));return On(u).pipe(Rt())});return O(s).pipe(ai())}function iI(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return O(!0);let o=i.map(s=>{let a=ci(s,t),c=zE(a)?a.canLoad(e,n):jt(t,()=>a(e,n));return On(c)});return O(o).pipe(ai(),xv(r))}function xv(t){return Jc(le(e=>{if(typeof e!="boolean")throw Ka(t,e)}),V(e=>e===!0))}function oI(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return O(!0);let o=i.map(s=>{let a=ci(s,t),c=ZE(a)?a.canMatch(e,n):jt(t,()=>a(e,n));return On(c)});return O(o).pipe(ai(),xv(r))}var vo=class{constructor(e){this.segmentGroup=e||null}},yo=class extends Error{constructor(e){super(),this.urlTree=e}};function Jr(t){return un(new vo(t))}function sI(t){return un(new I(4e3,!1))}function aI(t){return un(_v(!1,it.GuardRejected))}var Yd=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return O(r);if(i.numberOfChildren>1||!i.children[H])return sI(`${e.redirectTo}`);i=i.children[H]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:h,outlet:g,params:m,data:D,title:P}=i,X=jt(o,()=>a({params:m,data:D,queryParams:c,fragment:l,routeConfig:u,url:h,outlet:g,title:P}));if(X instanceof an)throw new yo(X);n=X}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new yo(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new an(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new re(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new I(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Kd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cI(t,e,n,r,i){let o=Mv(t,e,n);return o.matched?(r=NE(e,r),oI(r,e,n,i).pipe(V(s=>s===!0?o:w({},Kd)))):O(o)}function Mv(t,e,n){if(e.path==="**")return lI(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?w({},Kd):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||oE)(n,t,e);if(!i)return w({},Kd);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?w(w({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function lI(t){return{matched:!0,parameters:t.length>0?sv(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ev(t,e,n,r){return n.length>0&&fI(t,n,r)?{segmentGroup:new re(e,dI(r,new re(n,t.children))),slicedSegments:[]}:n.length===0&&hI(t,n,r)?{segmentGroup:new re(t.segments,uI(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new re(t.segments,t.children),slicedSegments:n}}function uI(t,e,n,r){let i={};for(let o of n)if(tc(t,e,o)&&!r[xt(o)]){let s=new re([],{});i[xt(o)]=s}return w(w({},r),i)}function dI(t,e){let n={};n[H]=e;for(let r of t)if(r.path===""&&xt(r)!==H){let i=new re([],{});n[xt(r)]=i}return n}function fI(t,e,n){return n.some(r=>tc(t,e,r)&&xt(r)!==H)}function hI(t,e,n){return n.some(r=>tc(t,e,r))}function tc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function pI(t,e,n){return e.length===0&&!t.children[n]}var Jd=class{};function mI(t,e,n,r,i,o,s="emptyOnly"){return new Xd(t,e,n,r,i,s,o).recognize()}var gI=31,Xd=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Yd(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new I(4002,`'${e.segmentGroup}'`)}recognize(){let e=ev(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(V(({children:n,rootSnapshot:r})=>{let i=new rt(r,n),o=new Ya("",i),s=EE(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new ti([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),H,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,H,n).pipe(V(r=>({children:r,rootSnapshot:n})),fn(r=>{if(r instanceof yo)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof vo?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(V(s=>s instanceof rt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return oe(o).pipe(Gn(s=>{let a=r.children[s],c=RE(n,s);return this.processSegmentGroup(e,c,a,s,i)}),ll((s,a)=>(s.push(...a),s)),hn(null),al(),fe(s=>{if(s===null)return Jr(r);let a=Sv(s);return vI(a),O(a)}))}processSegment(e,n,r,i,o,s,a){return oe(n).pipe(Gn(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(fn(l=>{if(l instanceof vo)return O(null);throw l}))),Rt(c=>!!c),fn(c=>{if(Iv(c))return pI(r,i,o)?O(new Jd):Jr(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return xt(r)!==s&&(s===H||!tc(i,o,r))?Jr(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):Jr(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:h,remainingSegments:g}=Mv(n,i,o);if(!c)return Jr(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>gI&&(this.allowRedirects=!1));let m=new ti(o,l,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,tv(i),xt(i),i.component??i._loadedComponent??null,i,nv(i)),D=Qa(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(D.params),m.data=Object.freeze(D.data);let P=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,h,m,e);return this.applyRedirects.lineralizeSegments(i,P).pipe(fe(X=>this.processSegment(e,r,n,X.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=cI(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(xe(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(xe(({routes:l})=>{let u=r._loadedInjector??e,{parameters:h,consumedSegments:g,remainingSegments:m}=c,D=new ti(g,h,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,tv(r),xt(r),r.component??r._loadedComponent??null,r,nv(r)),P=Qa(D,s,this.paramsInheritanceStrategy);D.params=Object.freeze(P.params),D.data=Object.freeze(P.data);let{segmentGroup:X,slicedSegments:J}=ev(n,g,m,l);if(J.length===0&&X.hasChildren())return this.processChildren(u,l,X,D).pipe(V(Be=>new rt(D,Be)));if(l.length===0&&J.length===0)return O(new rt(D,[]));let pe=xt(r)===o;return this.processSegment(u,l,X,J,pe?H:o,!0,D).pipe(V(Be=>new rt(D,Be instanceof rt?[Be]:[])))}))):Jr(n)))}getChildConfig(e,n,r){return n.children?O({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?O({routes:n._loadedRoutes,injector:n._loadedInjector}):iI(e,n,r,this.urlSerializer).pipe(fe(i=>i?this.configLoader.loadChildren(e,n).pipe(le(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):aI(n))):O({routes:[],injector:e})}};function vI(t){t.sort((e,n)=>e.value.outlet===H?-1:n.value.outlet===H?1:e.value.outlet.localeCompare(n.value.outlet))}function yI(t){let e=t.value.routeConfig;return e&&e.path===""}function Sv(t){let e=[],n=new Set;for(let r of t){if(!yI(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Sv(r.children);e.push(new rt(r.value,i))}return e.filter(r=>!n.has(r))}function tv(t){return t.data||{}}function nv(t){return t.resolve||{}}function CI(t,e,n,r,i,o){return fe(s=>mI(t,e,n,r,s.extractedUrl,i,o).pipe(V(({state:a,tree:c})=>z(w({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function DI(t,e){return fe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return O(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of Tv(c))s.add(l);let a=0;return oe(s).pipe(Gn(c=>o.has(c)?wI(c,r,t,e):(c.data=Qa(c,c.parent,t).resolve,O(void 0))),le(()=>a++),xr(1),fe(c=>a===s.size?O(n):Ne))})}function Tv(t){let e=t.children.map(n=>Tv(n)).flat();return[t,...e]}function wI(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!wv(i)&&(o[Do]=i.title),bI(o,t,e,r).pipe(V(s=>(t._resolvedData=s,t.data=Qa(t,t.parent,n).resolve,null)))}function bI(t,e,n,r){let i=Ad(t);if(i.length===0)return O({});let o={};return oe(i).pipe(fe(s=>_I(t[s],e,n,r).pipe(Rt(),le(a=>{if(a instanceof go)throw Ka(new ii,a);o[s]=a}))),xr(1),Ni(o),fn(s=>Iv(s)?Ne:un(s)))}function _I(t,e,n,r){let i=bo(e)??r,o=ci(t,i),s=o.resolve?o.resolve(e,n):jt(i,()=>o(e,n));return On(s)}function Sd(t){return xe(e=>{let n=t(e);return n?oe(n).pipe(V(()=>e)):O(e)})}var Av=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===H);return i}getResolvedTitleForRoute(r){return r.data[Do]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>p(EI),providedIn:"root"});let t=e;return t})(),EI=(()=>{let e=class e extends Av{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(F(Zg))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Io=new A("",{providedIn:"root",factory:()=>({})}),II=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=x({type:e,selectors:[["ng-component"]],standalone:!0,features:[M],decls:1,vars:0,template:function(i,o){i&1&&b(0,"router-outlet")},dependencies:[nf],encapsulation:2});let t=e;return t})();function rf(t){let e=t.children&&t.children.map(rf),n=e?z(w({},t),{children:e}):w({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==H&&(n.component=II),n}var Co=new A(""),of=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=p(Aa)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return O(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=On(r.loadComponent()).pipe(V(Nv),le(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ri(()=>{this.componentLoaders.delete(r)})),o=new ln(i,()=>new ce).pipe(wr());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return O({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=xI(i,this.compiler,r,this.onLoadEndListener).pipe(Ri(()=>{this.childrenLoaders.delete(i)})),a=new ln(s,()=>new ce).pipe(wr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xI(t,e,n,r){return On(t.loadChildren()).pipe(V(Nv),fe(i=>i instanceof zi||Array.isArray(i)?O(i):oe(e.compileModuleAsync(i))),V(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Co,[],{optional:!0,self:!0}).flat()),{routes:s.map(rf),injector:o}}))}function MI(t){return t&&typeof t=="object"&&"default"in t}function Nv(t){return MI(t)?t.default:t}var sf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>p(SI),providedIn:"root"});let t=e;return t})(),SI=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rv=new A(""),Ov=new A("");function TI(t,e,n){let r=t.get(Ov),i=t.get(Le);return t.get(he).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),AI(t))),{onViewTransitionCreated:c}=r;return c&&jt(t,()=>c({transition:a,from:e,to:n})),s})}function AI(t){return new Promise(e=>{od({read:()=>setTimeout(e)},{injector:t})})}var NI=new A(""),af=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ce,this.transitionAbortSubject=new ce,this.configLoader=p(of),this.environmentInjector=p(tt),this.urlSerializer=p(wo),this.rootContexts=p(_o),this.location=p(Kr),this.inputBindingEnabled=p(ec,{optional:!0})!==null,this.titleStrategy=p(Av),this.options=p(Io,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=p(sf),this.createViewTransition=p(Rv,{optional:!0}),this.navigationErrorHandler=p(NI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>O(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Vd(o)),i=o=>this.events.next(new jd(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(z(w(w({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ie({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:lo,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ge(s=>s.id!==0),V(s=>z(w({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),xe(s=>{let a=!1,c=!1;return O(s).pipe(xe(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",it.SupersededByNewNavigation),Ne;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?z(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&h!=="reload"){let g="";return this.events.next(new Nn(l.id,this.urlSerializer.serialize(l.rawUrl),g,za.IgnoredSameUrlNavigation)),l.resolve(!1),Ne}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return O(l).pipe(xe(g=>{let m=this.transitions?.getValue();return this.events.next(new oi(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),m!==this.transitions?.getValue()?Ne:Promise.resolve(g)}),CI(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),le(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=z(w({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let m=new qa(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:g,extractedUrl:m,source:D,restoredState:P,extras:X}=l,J=new oi(g,this.urlSerializer.serialize(m),D,P);this.events.next(J);let pe=Cv(this.rootComponentType).snapshot;return this.currentTransition=s=z(w({},l),{targetSnapshot:pe,urlAfterRedirects:m,extras:z(w({},X),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,O(s)}else{let g="";return this.events.next(new Nn(l.id,this.urlSerializer.serialize(l.extractedUrl),g,za.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ne}}),le(l=>{let u=new kd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),V(l=>(this.currentTransition=s=z(w({},l),{guards:jE(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),YE(this.environmentInjector,l=>this.events.next(l)),le(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Ka(this.urlSerializer,l.guardsResult);let u=new Fd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),ge(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",it.GuardRejected),!1)),Sd(l=>{if(l.guards.canActivateChecks.length)return O(l).pipe(le(u=>{let h=new Pd(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),xe(u=>{let h=!1;return O(u).pipe(DI(this.paramsInheritanceStrategy,this.environmentInjector),le({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",it.NoDataFromResolver)}}))}),le(u=>{let h=new Ld(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),Sd(l=>{let u=h=>{let g=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(h.routeConfig).pipe(le(m=>{h.component=m}),V(()=>{})));for(let m of h.children)g.push(...u(m));return g};return Ai(u(l.targetSnapshot.root)).pipe(hn(null),be(1))}),Sd(()=>this.afterPreactivation()),xe(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,h=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return h?oe(h).pipe(V(()=>s)):O(s)}),V(l=>{let u=kE(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=z(w({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),le(()=>{this.events.next(new po)}),VE(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),be(1),le({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zt(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Oi(this.transitionAbortSubject.pipe(le(l=>{throw l}))),Ri(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",it.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),fn(l=>{if(c=!0,Ev(l))this.events.next(new sn(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),LE(l)?this.events.next(new si(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let u=new ho(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let h=jt(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(h instanceof go){let{message:g,cancellationCode:m}=Ka(this.urlSerializer,h);this.events.next(new sn(s.id,this.urlSerializer.serialize(s.extractedUrl),g,m)),this.events.next(new si(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(u);let g=r.errorHandler(l);s.resolve(!!g)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return Ne}))}))}cancelNavigationTransition(r,i,o){let s=new sn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function RI(t){return t!==lo}var OI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>p(kI),providedIn:"root"});let t=e;return t})(),ef=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},kI=(()=>{let e=class e extends ef{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Mn(e)))(o||e)}})(),e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>p(FI),providedIn:"root"});let t=e;return t})(),FI=(()=>{let e=class e extends kv{constructor(){super(...arguments),this.location=p(Kr),this.urlSerializer=p(wo),this.options=p(Io,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=p(sf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new an,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Cv(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof oi)this.stateMemento=this.createStateMemento();else if(r instanceof Nn)this.rawUrlTree=i.initialUrl;else if(r instanceof qa){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof po?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof sn&&(r.code===it.GuardRejected||r.code===it.NoDataFromResolver)?this.restoreHistory(i):r instanceof ho?this.restoreHistory(i,!0):r instanceof zt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof an?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=w(w({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=w(w({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Mn(e)))(o||e)}})(),e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ao=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ao||{});function Fv(t,e){t.events.pipe(ge(n=>n instanceof zt||n instanceof sn||n instanceof ho||n instanceof Nn),V(n=>n instanceof zt||n instanceof Nn?ao.COMPLETE:(n instanceof sn?n.code===it.Redirect||n.code===it.SupersededByNewNavigation:!1)?ao.REDIRECTING:ao.FAILED),ge(n=>n!==ao.REDIRECTING),be(1)).subscribe(()=>{e()})}function PI(t){throw t}var LI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},VI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Mt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=p(Sa),this.stateManager=p(kv),this.options=p(Io,{optional:!0})||{},this.pendingTasks=p(sr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=p(af),this.urlSerializer=p(wo),this.location=p(Kr),this.urlHandlingStrategy=p(sf),this._events=new ce,this.errorHandler=this.options.errorHandler||PI,this.navigated=!1,this.routeReuseStrategy=p(OI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=p(Co,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!p(ec,{optional:!0}),this.eventsSubscription=new me,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof sn&&i.code!==it.Redirect&&i.code!==it.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof zt)this.navigated=!0;else if(i instanceof si){let a=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=w({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||RI(o.source)},a);this.scheduleNavigation(c,lo,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}$I(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),lo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=w({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(rf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,h=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":h=w(w({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let g;try{let m=o?o.snapshot:this.routerState.snapshot.root;g=mv(m)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),g=this.currentUrlTree.root}return gv(g,r,h,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=dr(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,lo,null,i)}navigate(r,i={skipLocationChange:!1}){return jI(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=w({},LI):i===!1?o=w({},VI):o=i,dr(r))return Qg(this.currentUrlTree,r,o);let s=this.parseUrl(r);return Qg(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((g,m)=>{c=g,l=m});let h=this.pendingTasks.add();return Fv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(g=>Promise.reject(g))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jI(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new I(4008,!1)}function $I(t){return!(t instanceof po)&&!(t instanceof si)}var li=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.onChanges=new ce,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof zt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(dr(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,o,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:Im(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.routerLinkInput===null?null:dr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(j(Mt),j(Rn),Pu("tabindex"),j($t),j(Et),j(Ut))},e.\u0275dir=Ce({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&E("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ne("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Yr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Yr],replaceUrl:[2,"replaceUrl","replaceUrl",Yr],routerLink:"routerLink"},standalone:!0,features:[id,qe]});let t=e;return t})();var Xa=class{};var BI=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ge(r=>r instanceof zt),Gn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=_a(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return oe(o).pipe(dn())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=O(null);let s=o.pipe(fe(a=>a===null?O(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return oe([s,a]).pipe(dn())}else return s})}};e.\u0275fac=function(i){return new(i||e)(F(Mt),F(Aa),F(tt),F(Xa),F(of))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pv=new A(""),UI=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof oi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof zt?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Nn&&r.code===za.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ga&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ga(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){Lm()},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function Lv(t,...e){return qr([{provide:Co,multi:!0,useValue:t},[],{provide:Rn,useFactory:Vv,deps:[Mt]},{provide:Ta,multi:!0,useFactory:jv},e.map(n=>n.\u0275providers)])}function Vv(t){return t.routerState.root}function ui(t,e){return{\u0275kind:t,\u0275providers:e}}function jv(){let t=p(Se);return e=>{let n=t.get(Bt);if(e!==n.components[0])return;let r=t.get(Mt),i=t.get($v);t.get(cf)===1&&r.initialNavigation(),t.get(Bv,null,Q.Optional)?.setUpPreloading(),t.get(Pv,null,Q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var $v=new A("",{factory:()=>new ce}),cf=new A("",{providedIn:"root",factory:()=>1});function HI(){return ui(2,[{provide:cf,useValue:0},{provide:Qr,multi:!0,deps:[Se],useFactory:e=>{let n=e.get(Fg,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Mt),o=e.get($v);Fv(i,()=>{r(!0)}),e.get(af).afterPreactivation=()=>(r(!0),o.closed?O(void 0):o),i.initialNavigation()}))}}])}function zI(){return ui(3,[{provide:Qr,multi:!0,useFactory:()=>{let e=p(Mt);return()=>{e.setUpLocationChangeListener()}}},{provide:cf,useValue:2}])}var Bv=new A("");function qI(t){return ui(0,[{provide:Bv,useExisting:BI},{provide:Xa,useExisting:t}])}function Uv(){return ui(6,[{provide:Ut,useClass:gd}])}function GI(){return ui(8,[Xg,{provide:ec,useExisting:Xg}])}function WI(t){let e=[{provide:Rv,useValue:TI},{provide:Ov,useValue:w({skipNextTransition:!!t?.skipInitialTransition},t)}];return ui(9,e)}var rv=new A("ROUTER_FORROOT_GUARD"),ZI=[Kr,{provide:wo,useClass:ii},Mt,_o,{provide:Rn,useFactory:Vv,deps:[Mt]},of,[]],nc=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[ZI,[],{provide:Co,multi:!0,useValue:r},{provide:rv,useFactory:JI,deps:[[Mt,new ra,new bu]]},{provide:Io,useValue:i||{}},i?.useHash?YI():KI(),QI(),i?.preloadingStrategy?qI(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?XI(i):[],i?.bindToComponentInputs?GI().\u0275providers:[],i?.enableViewTransitions?WI().\u0275providers:[],ex()]}}static forChild(r){return{ngModule:e,providers:[{provide:Co,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(F(rv,8))},e.\u0275mod=En({type:e}),e.\u0275inj=_n({});let t=e;return t})();function QI(){return{provide:Pv,useFactory:()=>{let t=p(ka),e=p(he),n=p(Io),r=p(af),i=p(wo);return n.scrollOffset&&t.setOffset(n.scrollOffset),new UI(i,r,t,e,n)}}}function YI(){return{provide:Ut,useClass:gd}}function KI(){return{provide:Ut,useClass:md}}function JI(t){return"guarded"}function XI(t){return[t.initialNavigation==="disabled"?zI().\u0275providers:[],t.initialNavigation==="enabledBlocking"?HI().\u0275providers:[]]}var iv=new A("");function ex(){return[{provide:iv,useFactory:jv},{provide:Ta,multi:!0,useExisting:iv}]}var Ae=class{constructor(e,n=[],r=[]){this.condition=e;this.questions=n;this.items=r}},St=class{constructor(e,n){this.question=e;this.variable=n}},kn=class{constructor(e,n,r){this.category=e;this.name=n;this.weight=r}},pt=class{evaluate(){return!0}},ot=class{constructor(e){this.variable=e}evaluate(e){return e[this.variable]}},Ve=class t extends ot{static string="please_select";constructor(){super(t.string)}},Qe=class{constructor(e){this.not=e}evaluate(e){return!this.not.evaluate(e)}},je=class{constructor(e,n){this.left=e;this.right=n}evaluate(e){return this.left.evaluate(e)&&this.right.evaluate(e)}},$e=class{constructor(e,n){this.left=e;this.right=n}evaluate(e){return this.left.evaluate(e)||this.right.evaluate(e)}};function zv(t,e){let n=localStorage.getItem(t);return n&&console.log("Loaded "+t+" from local storage"),n||e}function xo(t,e){e?(console.log("Saved "+t+" to local storage"),localStorage.setItem(t,e)):(console.log("Deleted "+t+" from local storage"),localStorage.removeItem(t))}var qv={fadeOutDisabledRules:!1,trackWeight:!1,answersLocked:!1},Ye=class t{config=qv;constructor(){let e=localStorage.getItem("config");e&&(this.config=JSON.parse(e))}persist(){xo("config",JSON.stringify(this.config))}resetConfig(){this.config=qv,this.persist()}setFadeOutDisabledRules(e){this.config.fadeOutDisabledRules=e,this.persist()}isFadeOutDisabledRules(){return this.config.fadeOutDisabledRules}setTrackWeight(e){this.config.trackWeight=e,this.persist()}isTrackWeight(){return this.config.trackWeight}isAnswersLocked(){return this.config.answersLocked}setAnswersLocked(e){this.config.answersLocked=e,this.persist()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})};var Gv=/^\s*\[(?<category>.+?)\]\s*(?<name>.+)\s*$/,Wv=/^\s*(?<question>.*)\s+\$(?<variable>[^ ]+)\s*$/,Ke=class t{config=p(Ye);parseCondition(e){let n=e.trim().split(" ");if(n.includes("OR")){let r=n.indexOf("OR");return new $e(this.parseCondition(n.slice(0,r).join(" ")),this.parseCondition(n.slice(r+1).join(" ")))}else if(n.includes("AND")){let r=n.indexOf("AND");return new je(this.parseCondition(n.slice(0,r).join(" ")),this.parseCondition(n.slice(r+1).join(" ")))}else{if(n[0]==="NOT")return new Qe(this.parseCondition(n.slice(1).join(" ")));if(n.length===1&&n[0].trim())return new ot(n[0].trim());throw new Error("Could not parse condition from '"+e+"'")}}parseQuestion(e){let n=e.match(Wv);if(!n||!n.groups)throw new Error("Could not parse question from '"+e+"'");return new St(n.groups.question,n.groups.variable)}extractItemNameAndWeight(e){if(!e)return["",0];if(!this.config.isTrackWeight())return[e.trim(),0];let n=e.trim().match(/^(.+)\s+(\d+(\.\d+)?)(k?g)?$/);if(n){let r=n[1].trim(),i=parseFloat(n[2])*(n[4]==="kg"?1e3:1);return[r,i]}else return[e.trim(),0]}parseItem(e){let n=e.match(Gv);if(!n||!n.groups)throw new Error("Could not parse item from '"+e+"'");let[r,i]=this.extractItemNameAndWeight(n.groups.name);return new kn(n.groups.category,r,i)}parseEffects(e){let n=e.split(",").map(o=>o.trim()).filter(Boolean),r=[],i=[];for(let o of n)if(Wv.test(o))r.push(this.parseQuestion(o));else if(Gv.test(o))i.push(this.parseItem(o));else throw new Error("Could not parse effect from '"+o+"'");return{questions:r,items:i}}parseRule(e){let n=e.split(":-");if(n.length!==2)throw new Error("Could not parse rule from '"+e+"'");let r;n[0].trim()?r=this.parseCondition(n[0]):r=new pt;let{questions:i,items:o}=this.parseEffects(n[1]);return new Ae(r,i,o)}parseRules(e){return e.split(`
`).filter(r=>!r.trim().startsWith("#")).map(r=>r.replace(/#.*/,"")).join(`
`).split(";").map(r=>r.trim()).filter(Boolean).map(this.parseRule.bind(this))}extractVariables(e){let n=new Set;for(let r of e)for(let i of r.questions)n.add(i.variable);return Array.from(n)}extractCategories(e){let n=new Set;for(let r of e)for(let i of r.items)n.add(i.category);return Array.from(n)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})};function mt(t){t||(Zi(mt),t=p(Sn));let e=new $(n=>t.onDestroy(n.next.bind(n)));return n=>n.pipe(Oi(e))}function lf(t,e){!e?.injector&&Zi(lf);let n=e?.injector??p(Se),r=new Mi(1),i=eo(()=>{let o;try{o=t()}catch(s){ft(()=>r.error(s));return}ft(()=>r.next(o))},{injector:n,manualCleanup:!0});return n.get(Sn).onDestroy(()=>{i.destroy(),r.complete()}),r.asObservable()}var Zv="view",Je=class t{embedded=de(Zv);setMode(e){this.embedded.set(e)}isMode(...e){return e.includes(this.embedded())}asObservable(){return lf(this.embedded)}reset(){this.setMode(Zv)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})};var tx=()=>["","not","and","or"],Qv=()=>["","or"],Yv=()=>[""];function nx(t,e){t&1&&(d(0,"span",1),v(1,"IF"),f())}function rx(t,e){t&1&&Ia(0)}function ix(t,e){if(t&1&&R(0,rx,1,0,"ng-container",2),t&2){C();let n=xa(8);N("ngTemplateOutlet",n)("ngTemplateOutletContext","")}}function ox(t,e){t&1&&Ia(0)}function sx(t,e){if(t&1&&R(0,ox,1,0,"ng-container",2),t&2){let n=C(),r=xa(8);N("ngTemplateOutlet",r)("ngTemplateOutletContext",n.state())}}function ax(t,e){if(t&1){let n=te();d(0,"app-editor-condition",4),E("conditionChanged",function(i){Y(n);let o=C(2);return K(o.bubbleNotChange(i))}),f()}if(t&2){let n=C(2);N("depth",n.depth()+1)("condition",e.not)("variables",n.variables())("forbidden",Zr(4,tx))}}function cx(t,e){if(t&1&&(d(0,"span",1),v(1,"NOT"),f(),R(2,ax,1,5,"app-editor-condition",3)),t&2){let n,r=C();y(2),S((n=r.asNot(r.state().condition))?2:-1,n)}}function lx(t,e){if(t&1){let n=te();d(0,"app-editor-condition",4),E("conditionChanged",function(i){Y(n);let o=C(2);return K(o.bubbleAndLeftChange(i))}),f(),d(1,"span",1),v(2,"AND"),f(),d(3,"app-editor-condition",4),E("conditionChanged",function(i){Y(n);let o=C(2);return K(o.bubbleAndRightChange(i))}),f()}if(t&2){let n=e,r=C(2);N("depth",r.depth()+1)("condition",n.left)("variables",r.variables())("forbidden",Zr(8,Qv)),y(3),N("depth",r.depth()+1)("condition",n.right)("variables",r.variables())("forbidden",Zr(9,Qv))}}function ux(t,e){if(t&1&&R(0,lx,4,10),t&2){let n,r=C();S((n=r.asAnd(r.state().condition))?0:-1,n)}}function dx(t,e){if(t&1){let n=te();d(0,"app-editor-condition",4),E("conditionChanged",function(i){Y(n);let o=C(2);return K(o.bubbleOrLeftChange(i))}),f(),d(1,"span",1),v(2,"OR"),f(),d(3,"app-editor-condition",4),E("conditionChanged",function(i){Y(n);let o=C(2);return K(o.bubbleOrRightChange(i))}),f()}if(t&2){let n=e,r=C(2);N("depth",r.depth()+1)("condition",n.left)("variables",r.variables())("forbidden",Zr(8,Yv)),y(3),N("depth",r.depth()+1)("condition",n.right)("variables",r.variables())("forbidden",Zr(9,Yv))}}function fx(t,e){if(t&1&&R(0,dx,4,10),t&2){let n,r=C();S((n=r.asOr(r.state().condition))?0:-1,n)}}function hx(t,e){t&1&&(d(0,"pre"),v(1,"UNKNOWN"),f())}function px(t,e){t&1&&(d(0,"option",7),v(1,"always active"),f())}function mx(t,e){t&1&&(d(0,"option",8),v(1,"NOT x"),f())}function gx(t,e){t&1&&(d(0,"option",9),v(1,"x AND x"),f())}function vx(t,e){t&1&&(d(0,"option",10),v(1,"x OR x"),f())}function yx(t,e){if(t&1&&(d(0,"option",11),v(1),f()),t&2){let n=C().$implicit,r=C(2).context,i=C();Xi("value",n),N("selected",r===n)("disabled",n===i.please_select),y(),Ze(" ",n," ")}}function Cx(t,e){if(t&1&&R(0,px,2,0,"option",7)(1,mx,2,0,"option",8)(2,gx,2,0,"option",9)(3,vx,2,0,"option",10)(4,yx,2,4,"option",11),t&2){let n,r=e.$implicit;S((n=r)===""?0:n==="not"?1:n==="and"?2:n==="or"?3:4)}}function Dx(t,e){if(t&1){let n=te();d(0,"select",6,0),E("change",function(){Y(n);let i=xa(1),o=C(2);return K(o.selection(i.value))}),Ge(2,Cx,5,1,null,null,nn),f()}if(t&2){let n=C(2);y(2),We(n.options())}}function wx(t,e){if(t&1&&(d(0,"span",5),v(1),f()),t&2){let n=C().context;y(),De(n)}}function bx(t,e){if(t&1&&R(0,Dx,4,0,"select",5)(1,wx,2,1,"span",5),t&2){let n=e.context,r=C();S(r.mode.isMode("edit")?0:n?1:-1)}}var rc=class t{condition=k.required();variables=k.required();forbidden=k([]);depth=k(0);mode=p(Je);please_select=Ve.string;options=ve(()=>{let e=[];this.condition()instanceof Ve&&e.push(Ve.string),this.forbidden().includes("")||e.push(""),e.push(...this.variables());for(let n of["not","or","and"])this.forbidden().includes(n)||e.push(n);return e});state=ve(()=>{let e=this.condition();return e instanceof pt?{type:"true"}:e instanceof ot?{type:"variable",context:e.variable}:e instanceof Qe?{type:"not",condition:e}:e instanceof je?{type:"and",condition:e}:e instanceof $e?{type:"or",condition:e}:{type:"unknown"}});isAlwaysActive(){return this.condition()instanceof pt}asNot(e){if(e instanceof Qe)return e;throw new Error("Expected Not")}asAnd(e){if(e instanceof je)return e;throw new Error("Expected And")}asOr(e){if(e instanceof $e)return e;throw new Error("Expected Or")}conditionChanged=lt();selection(e){e===""?this.conditionChanged.emit(new pt):e==="not"?this.conditionChanged.emit(new Qe(new Ve)):e==="and"?this.conditionChanged.emit(new je(new Ve,new Ve)):e==="or"?this.conditionChanged.emit(new $e(new Ve,new Ve)):this.conditionChanged.emit(new ot(e))}bubbleNotChange(e){this.conditionChanged.emit(new Qe(e))}bubbleAndLeftChange(e){this.conditionChanged.emit(new je(e,this.asAnd(this.state().condition).right))}bubbleAndRightChange(e){this.conditionChanged.emit(new je(this.asAnd(this.state().condition).left,e))}bubbleOrLeftChange(e){this.conditionChanged.emit(new $e(e,this.asOr(this.state().condition).right))}bubbleOrRightChange(e){this.conditionChanged.emit(new $e(this.asOr(this.state().condition).left,e))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-editor-condition"]],inputs:{condition:[1,"condition"],variables:[1,"variables"],forbidden:[1,"forbidden"],depth:[1,"depth"]},outputs:{conditionChanged:"conditionChanged"},standalone:!0,features:[M],decls:9,vars:2,consts:[["select",""],[1,"font-bold"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"depth","condition","variables","forbidden"],[3,"conditionChanged","depth","condition","variables","forbidden"],[1,"font-mono"],[1,"font-mono",3,"change"],["value",""],["value","not"],["value","and"],["value","or"],[3,"value","selected","disabled"]],template:function(n,r){if(n&1&&R(0,nx,2,0,"span",1)(1,ix,1,2,"ng-container")(2,sx,1,2,"ng-container")(3,cx,3,1)(4,ux,1,1)(5,fx,1,1)(6,hx,2,0,"pre")(7,bx,2,1,"ng-template",null,0,yg),n&2){let i;S(r.depth()===0&&(r.mode.isMode("edit")||!r.isAlwaysActive())?0:-1),y(),S((i=r.state().type)==="true"?1:i==="variable"?2:i==="not"?3:i==="and"?4:i==="or"?5:i==="unknown"?6:-1)}},dependencies:[t,Vg],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;gap:8px;flex-wrap:wrap}"]})};var ry=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(j($t),j(Et))},e.\u0275dir=Ce({type:e});let t=e;return t})(),hc=(()=>{let e=class e extends ry{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Mn(e)))(o||e)}})(),e.\u0275dir=Ce({type:e,features:[dt]});let t=e;return t})(),mi=new A(""),_x={provide:mi,useExisting:Vt(()=>pf),multi:!0},pf=(()=>{let e=class e extends hc{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Mn(e)))(o||e)}})(),e.\u0275dir=Ce({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&E("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},features:[Tn([_x]),dt]});let t=e;return t})(),Ex={provide:mi,useExisting:Vt(()=>Ln),multi:!0};function Ix(){let t=on()?on().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var xx=new A(""),Ln=(()=>{let e=class e extends ry{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Ix())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(j($t),j(Et),j(xx,8))},e.\u0275dir=Ce({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&E("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Tn([Ex]),dt]});let t=e;return t})();function Fn(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function iy(t){return t!=null&&typeof t.length=="number"}var mf=new A(""),gf=new A(""),Mx=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,qt=class{static min(e){return Sx(e)}static max(e){return Tx(e)}static required(e){return Ax(e)}static requiredTrue(e){return Nx(e)}static email(e){return Rx(e)}static minLength(e){return Ox(e)}static maxLength(e){return kx(e)}static pattern(e){return Fx(e)}static nullValidator(e){return oy(e)}static compose(e){return dy(e)}static composeAsync(e){return hy(e)}};function Sx(t){return e=>{if(Fn(e.value)||Fn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function Tx(t){return e=>{if(Fn(e.value)||Fn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function Ax(t){return Fn(t.value)?{required:!0}:null}function Nx(t){return t.value===!0?null:{required:!0}}function Rx(t){return Fn(t.value)||Mx.test(t.value)?null:{email:!0}}function Ox(t){return e=>Fn(e.value)||!iy(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function kx(t){return e=>iy(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Fx(t){if(!t)return oy;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Fn(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function oy(t){return null}function sy(t){return t!=null}function ay(t){return ar(t)?oe(t):t}function cy(t){let e={};return t.forEach(n=>{e=n!=null?w(w({},e),n):e}),Object.keys(e).length===0?null:e}function ly(t,e){return e.map(n=>n(t))}function Px(t){return!t.validate}function uy(t){return t.map(e=>Px(e)?e:n=>e.validate(n))}function dy(t){if(!t)return null;let e=t.filter(sy);return e.length==0?null:function(n){return cy(ly(n,e))}}function fy(t){return t!=null?dy(uy(t)):null}function hy(t){if(!t)return null;let e=t.filter(sy);return e.length==0?null:function(n){let r=ly(n,e).map(ay);return il(r).pipe(V(cy))}}function py(t){return t!=null?hy(uy(t)):null}function Kv(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function my(t){return t._rawValidators}function gy(t){return t._rawAsyncValidators}function uf(t){return t?Array.isArray(t)?t:[t]:[]}function oc(t,e){return Array.isArray(t)?t.includes(e):t===e}function Jv(t,e){let n=uf(e);return uf(t).forEach(i=>{oc(n,i)||n.push(i)}),n}function Xv(t,e){return uf(e).filter(n=>!oc(t,n))}var sc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=py(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},hi=class extends sc{get formDirective(){return null}get path(){return null}},fr=class extends sc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ac=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Lx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},YP=z(w({},Lx),{"[class.ng-submitted]":"isSubmitted"}),Vn=(()=>{let e=class e extends ac{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(j(fr,2))},e.\u0275dir=Ce({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Ea("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[dt]});let t=e;return t})(),pc=(()=>{let e=class e extends ac{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(j(hi,10))},e.\u0275dir=Ce({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Ea("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[dt]});let t=e;return t})();var Mo="VALID",ic="INVALID",di="PENDING",So="DISABLED",Pn=class{},cc=class extends Pn{constructor(e,n){super(),this.value=e,this.source=n}},To=class extends Pn{constructor(e,n){super(),this.pristine=e,this.source=n}},Ao=class extends Pn{constructor(e,n){super(),this.touched=e,this.source=n}},fi=class extends Pn{constructor(e,n){super(),this.status=e,this.source=n}},df=class extends Pn{constructor(e){super(),this.source=e}},ff=class extends Pn{constructor(e){super(),this.source=e}};function vy(t){return(mc(t)?t.validators:t)||null}function Vx(t){return Array.isArray(t)?fy(t):t||null}function yy(t,e){return(mc(e)?e.asyncValidators:t)||null}function jx(t){return Array.isArray(t)?py(t):t||null}function mc(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function $x(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new I(1e3,"");if(!r[n])throw new I(1001,"")}function Bx(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new I(1002,"")})}var lc=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ve(()=>this.statusReactive()),this.statusReactive=de(void 0),this._pristine=ve(()=>this.pristineReactive()),this.pristineReactive=de(!0),this._touched=ve(()=>this.touchedReactive()),this.touchedReactive=de(!1),this._events=new ce,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ft(this.statusReactive)}set status(e){ft(()=>this.statusReactive.set(e))}get valid(){return this.status===Mo}get invalid(){return this.status===ic}get pending(){return this.status==di}get disabled(){return this.status===So}get enabled(){return this.status!==So}get pristine(){return ft(this.pristineReactive)}set pristine(e){ft(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return ft(this.touchedReactive)}set touched(e){ft(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Jv(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Jv(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Xv(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Xv(e,this._rawAsyncValidators))}hasValidator(e){return oc(this._rawValidators,e)}hasAsyncValidator(e){return oc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(z(w({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ao(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ao(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(z(w({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new To(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new To(!0,r))}markAsPending(e={}){this.status=di;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fi(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(z(w({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=So,this.errors=null,this._forEachChild(i=>{i.disable(z(w({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new cc(this.value,r)),this._events.next(new fi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(z(w({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Mo,this._forEachChild(r=>{r.enable(z(w({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(z(w({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mo||this.status===di)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new cc(this.value,n)),this._events.next(new fi(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(z(w({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?So:Mo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=di,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=ay(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new fi(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ye,this.statusChanges=new ye}_calculateStatus(){return this._allControlsDisabled()?So:this.errors?ic:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(di)?di:this._anyControlsHaveStatus(ic)?ic:Mo}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new To(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ao(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){mc(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Vx(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=jx(this._rawAsyncValidators)}},pi=class extends lc{constructor(e,n,r){super(vy(n),yy(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Bx(this,!0,e),Object.keys(e).forEach(r=>{$x(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var vf=new A("CallSetDisabledState",{providedIn:"root",factory:()=>yf}),yf="always";function Ux(t,e){return[...e.path,t]}function hf(t,e,n=yf){Cf(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),zx(t,e),Gx(t,e),qx(t,e),Hx(t,e)}function uc(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),fc(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function dc(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Hx(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Cf(t,e){let n=my(t);e.validator!==null?t.setValidators(Kv(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=gy(t);e.asyncValidator!==null?t.setAsyncValidators(Kv(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();dc(e._rawValidators,i),dc(e._rawAsyncValidators,i)}function fc(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=my(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=gy(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return dc(e._rawValidators,r),dc(e._rawAsyncValidators,r),n}function zx(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Cy(t,e)})}function qx(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Cy(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Cy(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Gx(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Wx(t,e){t==null,Cf(t,e)}function Zx(t,e){return fc(t,e)}function Dy(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Qx(t){return Object.getPrototypeOf(t.constructor)===hc}function Yx(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function wy(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Ln?n=o:Qx(o)?r=o:i=o}),i||r||n||null}function Kx(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ey(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ty(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var gt=class extends lc{constructor(e=null,n,r){super(vy(n),yy(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(ty(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ey(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ey(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ty(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Jx=t=>t instanceof gt;var gc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ce({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var Df=new A(""),Xx={provide:fr,useExisting:Vt(()=>No)},No=(()=>{let e=class e extends fr{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this.update=new ye,this._ngModelWarningSent=!1,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=wy(this,o)}ngOnChanges(r){if(this._isControlChanged(r)){let i=r.form.previousValue;i&&uc(i,this,!1),hf(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Dy(r,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&uc(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_isControlChanged(r){return r.hasOwnProperty("form")}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(j(mf,10),j(gf,10),j(mi,10),j(Df,8),j(vf,8))},e.\u0275dir=Ce({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Tn([Xx]),dt,qe]});let t=e;return t})(),eM={provide:hi,useExisting:Vt(()=>Ro)},Ro=(()=>{let e=class e extends hi{get submitted(){return ft(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=ve(()=>this._submittedReactive()),this._submittedReactive=de(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ye,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return hf(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){uc(r.control||null,r,!1),Kx(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this._submittedReactive.set(!0),Yx(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new df(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new ff(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(uc(i||null,r),Jx(o)&&(hf(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);Wx(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&Zx(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Cf(this.form,this),this._oldForm&&fc(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(j(mf,10),j(gf,10),j(vf,8))},e.\u0275dir=Ce({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&E("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Tn([eM]),dt,qe]});let t=e;return t})();var tM={provide:fr,useExisting:Vt(()=>Oo)},Oo=(()=>{let e=class e extends fr{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ye,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=wy(this,s)}ngOnChanges(r){this._added||this._setUpControl(),Dy(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return Ux(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(j(hi,13),j(mf,10),j(gf,10),j(mi,10),j(Df,8))},e.\u0275dir=Ce({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Tn([tM]),dt,qe]});let t=e;return t})(),nM={provide:mi,useExisting:Vt(()=>vc),multi:!0};function by(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function rM(t){return t.split(":")[0]}var vc=(()=>{let e=class e extends hc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=by(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=rM(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Mn(e)))(o||e)}})(),e.\u0275dir=Ce({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&E("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Tn([nM]),dt]});let t=e;return t})(),_y=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(by(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(j(Et),j($t),j(vc,9))},e.\u0275dir=Ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),iM={provide:mi,useExisting:Vt(()=>Ey),multi:!0};function ny(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function oM(t){return t.split(":")[0]}var Ey=(()=>{let e=class e extends hc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let c=0;c<a.length;c++){let l=a[c],u=this._getOptionValue(l.value);o.push(u)}}else{let a=i.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let u=this._getOptionValue(l.value);o.push(u)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=oM(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Mn(e)))(o||e)}})(),e.\u0275dir=Ce({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&E("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Tn([iM]),dt]});let t=e;return t})(),Iy=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(ny(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(ny(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(j(Et),j($t),j(Ey,9))},e.\u0275dir=Ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var sM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=En({type:e}),e.\u0275inj=_n({});let t=e;return t})();var jn=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Df,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:vf,useValue:r.callSetDisabledState??yf}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=En({type:e}),e.\u0275inj=_n({imports:[sM]});let t=e;return t})();function aM(t,e){t&1&&(d(0,"span"),v(1,"Questions cannot contain the characters , ; #"),f())}function cM(t,e){t&1&&(d(0,"span"),v(1,"Question is required"),f())}function lM(t,e){if(t&1&&R(0,aM,2,0,"span")(1,cM,2,0,"span"),t&2){let n,r,i=C(2);S((n=i.getControl("question").errors)!=null&&n.pattern?0:-1),y(),S((r=i.getControl("question").errors)!=null&&r.required?1:-1)}}function uM(t,e){t&1&&(d(0,"span"),v(1,"Variables cannot contain spaces, or the characters , ; #"),f())}function dM(t,e){t&1&&(d(0,"span"),v(1,"Variable name is required"),f())}function fM(t,e){if(t&1&&R(0,uM,2,0,"span")(1,dM,2,0,"span"),t&2){let n,r,i=C(2);S((n=i.getControl("variable").errors)!=null&&n.pattern?0:-1),y(),S((r=i.getControl("variable").errors)!=null&&r.required?1:-1)}}function hM(t,e){if(t&1&&(d(0,"div",5),R(1,lM,2,2)(2,fM,2,2),f()),t&2){let n=C();y(),S(n.getControl("question").touched?1:-1),y(),S(n.getControl("variable").touched?2:-1)}}var Cc=class t{question=k.required();questionChanged=lt();variableChanged=lt();control=new pi({question:new gt("",[qt.pattern("[^,;#]+"),qt.required]),variable:new gt("",[qt.pattern(" *[^ ,;#]+ *"),qt.required])});getControl(e){return this.control.get(e)}mode=p(Je);constructor(){this.control.valueChanges.pipe(le(()=>{this.control.markAllAsTouched()}),Wn(500),ge(()=>this.control.valid),mt()).subscribe(e=>{e.question&&e.question!==this.question().question?this.questionChanged.emit(new St(e.question,e.variable)):e.variable&&e.variable.trim()!==this.question().variable&&this.variableChanged.emit([this.question().variable,e.variable.trim()])}),this.mode.asObservable().pipe(mt()).subscribe(e=>{e==="edit"?this.control.enable({emitEvent:!1}):this.control.disable({emitEvent:!1}),this.ngOnChanges()})}ngOnChanges(){this.control.patchValue(this.question(),{emitEvent:!1})}focusQuestion(){this.getControl("question").value===cn.NEW_QUESTION_NAME&&this.getControl("question").setValue("",{emitEvent:!1})}focusVariable(){this.getControl("variable").value===cn.NEW_VARIABLE_NAME&&this.getControl("variable").setValue("",{emitEvent:!1})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-editor-question"]],inputs:{question:[1,"question"]},outputs:{questionChanged:"questionChanged",variableChanged:"variableChanged"},standalone:!0,features:[qe,M],decls:7,vars:2,consts:[[1,"flex","flex-col",3,"formGroup"],["type","text","placeholder","question","formControlName","question",1,"grow",3,"focus"],[1,"flex","items-center","gap-2"],[1,"ml-3","font-mono"],["type","text","placeholder","variable","formControlName","variable",1,"grow","font-mono",3,"focus"],[1,"m-1","flex","flex-col","text-sm","text-red-500"]],template:function(n,r){n&1&&(d(0,"form",0)(1,"input",1),E("focus",function(){return r.focusQuestion()}),f(),d(2,"div",2)(3,"span",3),v(4,"->"),f(),d(5,"input",4),E("focus",function(){return r.focusVariable()}),f()(),R(6,hM,3,2,"div",5),f()),n&2&&(N("formGroup",r.control),y(6),S(r.mode.isMode("edit")&&r.control.valid===!1&&r.control.touched?6:-1))},dependencies:[jn,gc,Ln,Vn,pc,Ro,Oo],encapsulation:2})};var Gt=class t{serializeRules(e){return e.map(this.serialize.bind(this)).map(n=>n+";").join(`

`)}serializeEffects(e){return e.questions.map(this.serialize.bind(this)).concat(e.items.map(this.serialize.bind(this)))}serializeWeight(e,n){if(!e)return"";let r=e/1e3+"kg",i=e*1+"g";return n?n==="kg"?r:i:r.length<=i.length?r:i}serialize(e){if(e instanceof Ae){let r=[],i=this.serialize(e.condition);i&&r.push(i," "),r.push(":-");let o=this.serializeEffects(e);if(o.length===1&&!i)r.push(" ",o[0]);else for(let s=0;s<o.length;s++){let a=o[s];s>0&&r.push(","),r.push(`
`,"   ",a)}return r.join("")}else{if(e instanceof St)return e.question+" $"+e.variable;if(e instanceof kn)return`[${e.category}] ${e.name} ${this.serializeWeight(e.weight)}`.trim();if(e instanceof pt)return"";if(e instanceof ot)return e.variable;if(e instanceof Qe)return"NOT "+this.serialize(e.not);if(e instanceof je)return this.serialize(e.left)+" AND "+this.serialize(e.right);if(e instanceof $e)return this.serialize(e.left)+" OR "+this.serialize(e.right)}let n=e;throw new Error("Cannot serialize unknown input",n)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})};function pM(t,e){if(t&1&&(d(0,"option",2),v(1),f()),t&2){let n=e.$implicit;Xi("value",n),y(),De(n)}}function mM(t,e){t&1&&(d(0,"span"),v(1,"Item name cannot contain the characters , ; #"),f())}function gM(t,e){t&1&&(d(0,"span"),v(1,"Item name is required"),f())}function vM(t,e){if(t&1&&R(0,mM,2,0,"span")(1,gM,2,0,"span"),t&2){let n,r,i=C(2);S((n=i.getControl("name").errors)!=null&&n.pattern?0:-1),y(),S((r=i.getControl("name").errors)!=null&&r.required?1:-1)}}function yM(t,e){if(t&1&&(d(0,"div",5),R(1,vM,2,2),f()),t&2){let n=C();y(),S(n.getControl("name").touched?1:-1)}}var Dc=class t{item=k.required();categories=k.required();itemChanged=lt();control=new pi({category:new gt(""),name:new gt("",[qt.pattern("[^,;#]+"),qt.required])});getControl(e){return this.control.get(e)}mode=p(Je);parser=p(Ke);serializer=p(Gt);constructor(){this.control.valueChanges.pipe(le(()=>{this.control.markAllAsTouched()}),Wn(500),ge(()=>this.control.valid),mt()).subscribe(e=>{if(!e.category){this.addNewCategory();return}let[n,r]=this.parser.extractItemNameAndWeight(e.name);this.itemChanged.emit(new kn(e.category,n,r))}),this.mode.asObservable().pipe(mt()).subscribe(e=>{e==="edit"?this.control.enable({emitEvent:!1}):this.control.disable({emitEvent:!1}),this.ngOnChanges()})}blockPatch=!1;ngOnChanges(){if(!this.blockPatch){let e=this.item().name;this.item().weight&&(e+=` ${this.serializer.serializeWeight(this.item().weight)}`),this.control.patchValue({category:this.item().category,name:e},{emitEvent:!1})}}focus(e){this.blockPatch=document.activeElement===e.target,this.getControl("name").value===cn.NEW_ITEM_NAME&&this.getControl("name").setValue("",{emitEvent:!1})}blur(){this.blockPatch=!1,this.ngOnChanges()}addNewCategory(){console.log("add new category");let e=window.prompt("Enter new category name");if(e){if(/[,;#]/.test(e)){alert("Category name cannot contain , ; #"),this.control.patchValue({category:""});return}this.control.patchValue({category:e})}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-editor-item"]],inputs:{item:[1,"item"],categories:[1,"categories"]},outputs:{itemChanged:"itemChanged"},standalone:!0,features:[qe,M],decls:8,vars:2,consts:[[1,"flex",3,"formGroup"],["name","categories","formControlName","category",1,"max-w-24"],[3,"value"],["value",""],["type","text","formControlName","name",1,"grow",3,"focus","blur"],[1,"m-1","text-sm","text-red-500"]],template:function(n,r){n&1&&(d(0,"form",0)(1,"select",1),Ge(2,pM,2,2,"option",2,dg),d(4,"option",3),v(5,"+"),f()(),d(6,"input",4),E("focus",function(o){return r.focus(o)})("blur",function(){return r.blur()}),f()(),R(7,yM,2,1,"div",5)),n&2&&(N("formGroup",r.control),y(2),We(r.categories()),y(5),S(r.mode.isMode("edit")&&r.control.valid===!1&&r.control.touched?7:-1))},dependencies:[jn,gc,_y,Iy,Ln,vc,Vn,pc,Ro,Oo],encapsulation:2})};var gi=class t{questions=[];items=[];cutQuestion(e){this.questions.push(e)}cutItem(e){this.items.push(e)}get itemsCount(){return this.items.length}get questionsCount(){return this.questions.length}paste(){let e={questions:this.questions,items:this.items};return this.questions=[],this.items=[],e}static \u0275fac=function(n){return new(n||t)};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})};var vi=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-delete"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var wc=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-cut"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M760-120 480-400l-94 94q8 15 11 32t3 34q0 66-47 113T240-80q-66 0-113-47T80-240q0-66 47-113t113-47q17 0 34 3t32 11l94-94-94-94q-15 8-32 11t-34 3q-66 0-113-47T80-720q0-66 47-113t113-47q66 0 113 47t47 113q0 17-3 34t-11 32l494 494v40H760ZM600-520l-80-80 240-240h120v40L600-520ZM240-640q33 0 56.5-23.5T320-720q0-33-23.5-56.5T240-800q-33 0-56.5 23.5T160-720q0 33 23.5 56.5T240-640Zm240 180q8 0 14-6t6-14q0-8-6-14t-14-6q-8 0-14 6t-6 14q0 8 6 14t14 6ZM240-160q33 0 56.5-23.5T320-240q0-33-23.5-56.5T240-320q-33 0-56.5 23.5T160-240q0 33 23.5 56.5T240-160Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var bc=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-paste"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h167q11-35 43-57.5t70-22.5q40 0 71.5 22.5T594-840h166q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560h-80v120H280v-120h-80v560Zm280-560q17 0 28.5-11.5T520-800q0-17-11.5-28.5T480-840q-17 0-28.5 11.5T440-800q0 17 11.5 28.5T480-760Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var _c=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-down"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M440-800v487L216-537l-56 57 320 320 320-320-56-57-224 224v-487h-80Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("width",r.size()+"px")("height",r.size()+"px")},encapsulation:2})};var yi=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-up"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M440-160v-487L216-423l-56-57 320-320 320 320-56 57-224-224v487h-80Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};function CM(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C();return K(i.resetCondition())}),b(1,"app-icon-delete"),f()}}function DM(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C(2).$index,o=C();return K(o.swapQuestions(i,i+1))}),b(1,"app-icon-down"),f()}}function wM(t,e){t&1&&b(0,"span",7)}function bM(t,e){if(t&1&&R(0,DM,2,0,"button",2)(1,wM,1,0,"span",7),t&2){let n=C().$index,r=C();S(n<r.rule().questions.length-1?0:1)}}function _M(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C().$index,o=C();return K(o.deleteQuestion(i))}),b(1,"app-icon-delete"),f()}}function EM(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C().$index,o=C();return K(o.cutQuestion(i))}),b(1,"app-icon-cut"),f()}}function IM(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C().$index,o=C();return K(o.swapQuestions(i-1,i))}),b(1,"app-icon-up"),f()}}function xM(t,e){if(t&1){let n=te();d(0,"div",0),R(1,bM,2,1),d(2,"app-editor-question",6),E("questionChanged",function(i){let o=Y(n).$index,s=C();return K(s.updateQuestion(o,i))})("variableChanged",function(i){Y(n);let o=C();return K(o.variableChanged(i))}),f(),R(3,_M,2,0,"button",2)(4,EM,2,0,"button",2)(5,IM,2,0,"button",2),f()}if(t&2){let n=e.$implicit,r=e.$index,i=C();y(),S(i.mode.isMode("swap")?1:-1),y(),N("question",n),y(),S(i.mode.isMode("delete")?3:i.mode.isMode("cut-paste")?4:i.mode.isMode("swap")&&r>0?5:-1)}}function MM(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C(2).$index,o=C();return K(o.swapItems(i,i+1))}),b(1,"app-icon-down"),f()}}function SM(t,e){t&1&&b(0,"span",7)}function TM(t,e){if(t&1&&R(0,MM,2,0,"button",2)(1,SM,1,0,"span",7),t&2){let n=C().$index,r=C();S(n<r.rule().items.length-1?0:1)}}function AM(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C().$index,o=C();return K(o.deleteItem(i))}),b(1,"app-icon-delete"),f()}}function NM(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C().$index,o=C();return K(o.cutItem(i))}),b(1,"app-icon-cut"),f()}}function RM(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C().$index,o=C();return K(o.swapItems(i-1,i))}),b(1,"app-icon-up"),f()}}function OM(t,e){if(t&1){let n=te();d(0,"div",0),R(1,TM,2,1),d(2,"app-editor-item",8),E("itemChanged",function(i){let o=Y(n).$index,s=C();return K(s.updateItem(o,i))}),f(),R(3,AM,2,0,"button",2)(4,NM,2,0,"button",2)(5,RM,2,0,"button",2),f()}if(t&2){let n=e.$implicit,r=e.$index,i=C();y(),S(i.mode.isMode("swap")?1:-1),y(),N("item",n)("categories",i.categories()),y(),S(i.mode.isMode("delete")?3:i.mode.isMode("cut-paste")?4:i.mode.isMode("swap")&&r>0?5:-1)}}function kM(t,e){if(t&1){let n=te();d(0,"div",3)(1,"button",9),E("click",function(){Y(n);let i=C();return K(i.addQuestion())}),v(2,"+ Question"),f(),d(3,"button",9),E("click",function(){Y(n);let i=C();return K(i.addItem())}),v(4,"+ Item"),f()()}}function FM(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C(2);return K(i.deleteRule())}),b(1,"app-icon-delete"),f()}}function PM(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C(2);return K(i.paste())}),b(1,"app-icon-paste"),f()}}function LM(t,e){if(t&1&&(d(0,"div",4),R(1,FM,2,0,"button",2)(2,PM,2,0,"button",2),f()),t&2){let n=C();y(),S(n.mode.isMode("delete")?1:-1),y(),S(n.mode.isMode("cut-paste")?2:-1)}}function VM(t,e){if(t&1&&(d(0,"pre"),v(1),f(),d(2,"pre"),v(3),f()),t&2){let n=C();y(),De(e),y(2),De(n.ruleDebugString())}}var cn=class t{static NEW_ITEM_NAME="New Item";static NEW_CATEGORY_NAME="New";static NEW_QUESTION_NAME="New Question";static NEW_VARIABLE_NAME="new_variable";rule=k.required();categories=k.required();variables=k.required();ruleChanged=lt();renameVariable=lt();ruleDebugString=ve(()=>this.serializer.serialize(this.rule()));errorMessage=de(null);mode=p(Je);clipboard=p(gi);parser=p(Ke);serializer=p(Gt);compileRule(e){try{return this.parser.parseRule(this.serializer.serialize(e)),this.errorMessage.set(null),!0}catch(n){return n instanceof Error&&this.errorMessage.set(n.message),!1}}deleteRule(){this.ruleChanged.emit(null)}resetCondition(){this.updateCondition(new Ve)}updateCondition(e){let n=new Ae(e,this.rule().questions,this.rule().items);this.compileRule(n)&&this.ruleChanged.emit(n)}emitNewQuestions(e){let n=new Ae(this.rule().condition,e,this.rule().items);this.compileRule(n)&&this.ruleChanged.emit(n)}updateQuestion(e,n){let r=this.rule().questions;r[e]=n,this.emitNewQuestions(r)}addQuestion(){let e={variable:t.NEW_VARIABLE_NAME,question:t.NEW_QUESTION_NAME};this.updateQuestion(this.rule().questions.length,e)}deleteQuestion(e){let n=this.rule().questions;n.splice(e,1),this.emitNewQuestions(n)}cutQuestion(e){let n=this.rule().questions[e];this.deleteQuestion(e),this.clipboard.cutQuestion(n)}swapQuestions(e,n){let r=this.rule().questions,i=r[e];r[e]=r[n],r[n]=i,this.emitNewQuestions(r)}emitNewItems(e){let n=new Ae(this.rule().condition,this.rule().questions,e);this.compileRule(n)&&this.ruleChanged.emit(n)}updateItem(e,n){console.log("updateItem",e,n);let r=this.rule().items;r[e]=n,this.emitNewItems(r)}addItem(){let e={category:t.NEW_CATEGORY_NAME,name:t.NEW_ITEM_NAME};this.updateItem(this.rule().items.length,e)}deleteItem(e){let n=this.rule().items;n.splice(e,1),this.emitNewItems(n)}cutItem(e){let n=this.rule().items[e];this.deleteItem(e),this.clipboard.cutItem(n)}swapItems(e,n){let r=this.rule().items,i=r[e];r[e]=r[n],r[n]=i,this.emitNewItems(r)}paste(){let{questions:e,items:n}=this.clipboard.paste(),r=new Ae(this.rule().condition,[...this.rule().questions,...e],[...this.rule().items,...n]);this.ruleChanged.emit(r)}variableChanged([e,n]){this.renameVariable.emit([e,n])}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-editor-rule"]],inputs:{rule:[1,"rule"],categories:[1,"categories"],variables:[1,"variables"]},outputs:{ruleChanged:"ruleChanged",renameVariable:"renameVariable"},standalone:!0,features:[M],decls:10,vars:5,consts:[[1,"mb-1","flex","items-center"],[1,"grow",3,"conditionChanged","variables","condition"],[1,"icon"],[1,"flex","justify-end","gap-2"],[1,"flex","justify-center"],[1,"icon",3,"click"],[1,"grow",3,"questionChanged","variableChanged","question"],[1,"ml-6"],[1,"grow",3,"itemChanged","item","categories"],[3,"click"]],template:function(n,r){if(n&1&&(d(0,"div",0)(1,"app-editor-condition",1),E("conditionChanged",function(o){return r.updateCondition(o)}),f(),R(2,CM,2,0,"button",2),f(),Ge(3,xM,6,3,"div",0,nn),Ge(5,OM,6,4,"div",0,nn),R(7,kM,5,0,"div",3)(8,LM,3,2,"div",4)(9,VM,4,2)),n&2){let i;y(),N("variables",r.variables())("condition",r.rule().condition),y(),S(r.mode.isMode("edit")?2:-1),y(),We(r.rule().questions),y(2),We(r.rule().items),y(2),S(r.mode.isMode("edit")?7:8),y(2),S((i=r.errorMessage())?9:-1,i)}},dependencies:[rc,Cc,Dc,vi,wc,bc,_c,yi],encapsulation:2})};var Ec=`# This is the rules template

:-
   Will it be sunny? $sunny,
   [Utility] Paper Tissues,
   [Utility] Backpack;

sunny :-
   [Utility] Sunglasses,
   [Utility] Sunscreen,
   [Clothes] Short Pants;

NOT sunny :-
   [Clothes] Jacket,
   [Clothes] Long Pants;
`;var Wt=class t{rules=zv("rules",Ec);getRules(){return this.rules}saveRules(e){e&&(this.rules=e,xo("rules",e))}resetRules(){this.rules=Ec,xo("rules",Ec)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})};var Ic=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-view"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-146 0-266-81.5T40-500q54-137 174-218.5T480-800q146 0 266 81.5T920-500q-54 137-174 218.5T480-200Zm0-300Zm0 220q113 0 207.5-59.5T832-500q-50-101-144.5-160.5T480-720q-113 0-207.5 59.5T128-500q50 101 144.5 160.5T480-280Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var xc=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-edit"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var Mc=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-reorder"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M160-501q0 71 47.5 122T326-322l-62-62 56-56 160 160-160 160-56-56 64-64q-105-6-176.5-81T80-500q0-109 75.5-184.5T340-760h140v80H340q-75 0-127.5 52T160-501Zm400 261v-80h320v80H560Zm0-220v-80h320v80H560Zm0-220v-80h320v80H560Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var Ci=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-swap"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M320-440v-287L217-624l-57-56 200-200 200 200-57 56-103-103v287h-80ZM600-80 400-280l57-56 103 103v-287h80v287l103-103 57 56L600-80Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var jM=t=>({"sticky left-0 top-0 z-50 shadow-md":t}),ko=t=>({"ring ring-slate-700":t});function $M(t,e){t&1&&(d(0,"span"),v(1,"empty"),f())}function BM(t,e){if(t&1&&(d(0,"span"),v(1),f()),t&2){let n=C(3);y(),Ze("",n.clipboard.itemsCount," Items")}}function UM(t,e){if(t&1&&(d(0,"span"),v(1),f()),t&2){let n=C(3);y(),Ze("",n.clipboard.questionsCount," Questions")}}function HM(t,e){if(t&1&&R(0,BM,2,1,"span")(1,UM,2,1,"span"),t&2){let n=C(2);S(n.clipboard.itemsCount?0:-1),y(),S(n.clipboard.questionsCount?1:-1)}}function zM(t,e){if(t&1&&(d(0,"div",4)(1,"span"),v(2,"Clipboard:"),f(),R(3,$M,2,0,"span")(4,HM,2,2),f()),t&2){let n=C();y(3),S(n.clipboard.itemsCount===0&&n.clipboard.questionsCount===0?3:4)}}var Sc=class t{mode=p(Je);clipboard=p(gi);sticky=de(!1);scroller=p(ka);ngOnDestroy(){this.mode.reset()}scroll(){this.sticky.set(this.scroller.getScrollPosition()?.[1]>48)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-toolbar"]],hostBindings:function(n,r){n&1&&E("scroll",function(){return r.scroll()},!1,ma)},standalone:!0,features:[M],decls:13,vars:24,consts:[[1,"bg-white","py-2",3,"ngClass"],[1,"mb-1","grid","grid-cols-5","gap-2"],[1,"icon",3,"click","ngClass"],[1,"my-auto",3,"size"],[1,"flex","justify-center","gap-5"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"button",2),E("click",function(){return r.mode.setMode("view")}),b(3,"app-icon-view",3),f(),d(4,"button",2),E("click",function(){return r.mode.setMode("edit")}),b(5,"app-icon-edit",3),f(),d(6,"button",2),E("click",function(){return r.mode.setMode("delete")}),b(7,"app-icon-delete",3),f(),d(8,"button",2),E("click",function(){return r.mode.setMode("cut-paste")}),b(9,"app-icon-reorder",3),f(),d(10,"button",2),E("click",function(){return r.mode.setMode("swap")}),b(11,"app-icon-swap",3),f()(),R(12,zM,5,1,"div",4),f()),n&2&&(N("ngClass",nt(12,jM,r.sticky())),y(2),N("ngClass",nt(14,ko,r.mode.isMode("view"))),y(),N("size",24),y(),N("ngClass",nt(16,ko,r.mode.isMode("edit"))),y(),N("size",24),y(),N("ngClass",nt(18,ko,r.mode.isMode("delete"))),y(),N("size",24),y(),N("ngClass",nt(20,ko,r.mode.isMode("cut-paste"))),y(),N("size",24),y(),N("ngClass",nt(22,ko,r.mode.isMode("swap"))),y(),N("size",24),y(),S(r.mode.isMode("cut-paste")?12:-1))},dependencies:[An,Ic,xc,vi,Mc,Ci],encapsulation:2})};var Zt=class t{answers={};checkedItems=[];constructor(){let e=localStorage.getItem("answers");e&&(this.answers=JSON.parse(e));let n=localStorage.getItem("checkedItems");n&&(this.checkedItems=JSON.parse(n))}getAnswers(){return this.answers}saveAnswers(e){e?(this.answers=e,localStorage.setItem("answers",JSON.stringify(e))):localStorage.removeItem("answers")}getCheckedItems(){return this.checkedItems}setCheckedItems(e){e?(this.checkedItems=e,localStorage.setItem("checkedItems",JSON.stringify(e))):localStorage.removeItem("checkedItems")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})};var Di=class t{error=k();static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-error"]],inputs:{error:[1,"error"]},standalone:!0,features:[M],decls:11,vars:1,consts:[[1,"flex","flex-col","items-center","gap-3","text-center"],[1,"font-mono","text-red-700"],["routerLink","/rules-raw"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"p"),v(2,"The following error occured while parsing the rules:"),f(),d(3,"p",1),v(4),f(),d(5,"p"),v(6," Unfortunately, this error can only be fixed by changing the rules manually. "),f(),d(7,"p"),v(8,"Please do that"),f(),d(9,"button",2),v(10,"here"),f()()),n&2&&(y(4),De(r.error()))},dependencies:[li],encapsulation:2})};var Tc=class t{renameVariable(e,n,r){if(r instanceof Array)return r.map(o=>this.renameVariable(e,n,o));if(r instanceof St)return r.variable===e?new St(r.question,n):r;if(r instanceof Ae)return new Ae(this.renameVariable(e,n,r.condition),r.questions.map(o=>this.renameVariable(e,n,o)),r.items);if(r instanceof pt)return r;if(r instanceof ot)return r.variable===e?new ot(n):r;if(r instanceof Qe)return new Qe(this.renameVariable(e,n,r.not));if(r instanceof je)return new je(this.renameVariable(e,n,r.left),this.renameVariable(e,n,r.right));if(r instanceof $e)return new $e(this.renameVariable(e,n,r.left),this.renameVariable(e,n,r.right));let i=r;throw new Error("Unknown item type",i)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})};var qM=t=>({disabled:t});function GM(t,e){t&1&&b(0,"app-error",0),t&2&&N("error",e)}function WM(t,e){if(t&1){let n=te();d(0,"div",3)(1,"button",5),E("click",function(){Y(n);let i=C().$index,o=C(2);return K(o.swapRules(i-1,i))}),b(2,"app-icon-swap"),f()()}}function ZM(t,e){if(t&1){let n=te();R(0,WM,3,0,"div",3),d(1,"div",1)(2,"app-editor-rule",4),E("ruleChanged",function(i){let o=Y(n).$index,s=C(2);return K(s.updateRule(o,i))})("renameVariable",function(i){Y(n);let o=C(2);return K(o.renameVariable(i))}),f()()}if(t&2){let n=e.$implicit,r=e.$index,i=C(2);S(r>0&&i.mode.isMode("swap")?0:-1),y(),Wr("id","rule-",r,""),N("ngClass",nt(7,qM,i.showAsDisabled(n))),y(),N("rule",n)("categories",i.categories())("variables",i.variables())}}function QM(t,e){if(t&1){let n=te();d(0,"button",6),E("click",function(){Y(n);let i=C(2);return K(i.addRule())}),v(1,"+ Rule"),f()}}function YM(t,e){if(t&1&&(b(0,"app-toolbar"),Ge(1,ZM,3,9,"div",1,nn),R(3,QM,2,0,"button",2)),t&2){let n=C();y(),We(n.parsedRules()),y(2),S(n.mode.isMode("edit")?3:-1)}}var Ac=class t{parsedRules=de([]);categories=de([]);variables=de([]);persistence=p(Wt);mode=p(Je);error=de(void 0);answers=p(Zt).getAnswers();config=p(Ye);parser=p(Ke);serializer=p(Gt);refactor=p(Tc);ngOnInit(){try{this.calculateFields(this.parser.parseRules(this.persistence.getRules())),this.error.set(void 0)}catch(e){e instanceof Error?this.error.set(e.message):this.error.set("Unknown error"),console.error(e)}}calculateFields(e){this.parsedRules.set(e),this.categories.set(this.parser.extractCategories(e)),this.variables.set(this.parser.extractVariables(e))}applyNewRules(e){let n=this.serializer.serializeRules(e);this.persistence.saveRules(n),this.calculateFields(e)}updateRule(e,n){let r=this.parsedRules();n?r[e]=n:r.splice(e,1),this.applyNewRules(r)}addRule(){let e=this.parsedRules().length,n=[];for(let o=0;o<this.parsedRules().length;o++){let s=document.querySelector(`#rule-${o}`);if(s){let a=s.getBoundingClientRect();a.top>=0&&a.bottom<=window.innerHeight&&n.push(o)}}console.log({candidates:n,insertAt:e}),n.includes(e-1)||(e=n[0]+1);let r=new Ae(new Ve),i=this.parsedRules();i.splice(e,0,r),this.applyNewRules(i)}swapRules(e,n){let r=this.parsedRules(),i=r[e];r[e]=r[n],r[n]=i,this.applyNewRules(r)}showAsDisabled(e){return this.config.isFadeOutDisabledRules()&&!e.condition.evaluate(this.answers)}renameVariable([e,n]){let r=this.refactor.renameVariable(e,n,this.parsedRules());this.applyNewRules(r)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-rules"]],standalone:!0,features:[M],decls:2,vars:1,consts:[[3,"error"],[1,"card","mb-1",3,"id","ngClass"],[1,"sticky","bottom-0","z-50"],[1,"flex","justify-center"],[3,"ruleChanged","renameVariable","rule","categories","variables"],[1,"icon",3,"click"],[1,"sticky","bottom-0","z-50",3,"click"]],template:function(n,r){if(n&1&&R(0,GM,1,1,"app-error",0)(1,YM,4,1),n&2){let i;S((i=r.error())?0:1,i)}},dependencies:[cn,Sc,Ci,An,Di],encapsulation:2})};var wi=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-checkmark"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","300 -1000 500 800","fill","#000000"],["d","M382-240 154-468l57-57 171 171 367-367 57 57-424 424Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};function KM(t,e){t&1&&(d(0,"span"),b(1,"app-icon-checkmark"),f())}function JM(t,e){if(t&1){let n=te();d(0,"div",1),E("click",function(){Y(n);let i=C();return K(i.click())}),d(1,"span",2),v(2),f(),R(3,KM,2,0,"span"),f()}if(t&2){let n=C();y(2),De(e),y(),S(n.value()?3:-1)}}var Nc=class t{question=k(void 0);value=k(void 0);valueChange=lt();config=p(Ye);isLocked(){return this.config.isAnswersLocked()}click(){this.isLocked()||this.valueChange.emit(!this.value())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-display-question"]],inputs:{question:[1,"question"],value:[1,"value"]},outputs:{valueChange:"valueChange"},standalone:!0,features:[M],decls:1,vars:1,consts:[[1,"flex","flex-row","justify-between"],[1,"flex","flex-row","justify-between",3,"click"],[1,"font-bold"]],template:function(n,r){if(n&1&&R(0,JM,4,2,"div",0),n&2){let i;S((i=r.question())?0:-1,i)}},dependencies:[wi],encapsulation:2})};function XM(t,e){t&1&&b(0,"app-icon-checkmark")}function eS(t,e){if(t&1&&(v(0),d(1,"span",0),v(2,"/"),f(),v(3)),t&2){let n=C();Ze(" ",n.count(),""),y(3),Ze("",n.total(),`
`)}}var Rc=class t{count=k(0);total=k(0);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-status"]],inputs:{count:[1,"count"],total:[1,"total"]},standalone:!0,features:[M],decls:2,vars:1,consts:[[1,"px-0.5"]],template:function(n,r){n&1&&R(0,XM,1,0,"app-icon-checkmark")(1,eS,4,2),n&2&&S(r.count()===r.total()?0:1)},dependencies:[wi],encapsulation:2})};var tS=(t,e)=>e.key,nS=t=>({"text-slate-500 line-through":t});function rS(t,e){if(t&1&&(d(0,"div",1),b(1,"progress",2),f(),d(2,"div",3),v(3),f()),t&2){let n=C();y(),N("value",n.weightChecked())("max",n.weightTotal()),y(2),Ma(" ",n.serializeWeight(n.weightChecked(),"kg")||"0kg"," / ",n.serializeWeight(n.weightTotal(),"kg")||"0kg"," ")}}function iS(t,e){if(t&1&&(d(0,"div",1),b(1,"progress",2),f(),d(2,"div",3),v(3),f()),t&2){let n=C();y(),N("value",n.currentlyCheckedItems())("max",n.items().length),y(2),Ma(" ",n.currentlyCheckedItems()," / ",n.items().length," ")}}function oS(t,e){if(t&1&&(d(0,"span",9),v(1),f()),t&2){let n=C().$implicit,r=C(2);y(),De(r.serializeWeight(n.weight))}}function sS(t,e){if(t&1){let n=te();d(0,"li",8),E("click",function(){let i=Y(n).$implicit,o=C(2);return K(o.toggle(i))}),v(1),R(2,oS,2,1,"span",9),f()}if(t&2){let n=e.$implicit,r=C(2);N("ngClass",nt(3,nS,n.checked)),y(),Ze(" ",n.name," "),y(),S(n.weight&&r.trackWeight?2:-1)}}function aS(t,e){if(t&1&&(d(0,"div",0)(1,"div",4)(2,"span",5),v(3),f(),b(4,"app-status",6),f(),d(5,"ul"),Ge(6,sS,3,5,"li",7,nn),f()()),t&2){let n=e.$implicit;y(3),De(n.key),y(),N("count",n.value.checked)("total",n.value.items.length),y(2),We(n.value.items)}}function wf(t){return`${t.category}-${t.name}`}var Oc=class t{items=k([]);persistence=p(Zt);checkedItems=de(this.persistence.getCheckedItems());groupedItems=ve(()=>{let e=this.checkedItems();return this.items().reduce((n,r)=>{n[r.category]||(n[r.category]={items:[],checked:0});let i=e.includes(wf(r));return n[r.category].items.push(z(w({},r),{checked:i})),i&&n[r.category].checked++,n},{})});currentlyCheckedItems=ve(()=>Object.values(this.groupedItems()).reduce((e,n)=>e+n.items.filter(r=>r.checked).length,0));trackWeight=p(Ye).isTrackWeight();weightTotal=ve(()=>Math.round(this.items().reduce((e,n)=>e+(n.weight??0),0)));weightChecked=ve(()=>Math.round(this.items().reduce((e,n)=>e+(this.checkedItems().includes(wf(n))?n.weight??0:0),0)));serializer=p(Gt);serializeWeight=this.serializer.serializeWeight.bind(this.serializer);toggle(e){let n=wf(e);this.checkedItems().includes(n)?this.checkedItems.update(r=>r.filter(i=>i!==n)):this.checkedItems.update(r=>[...r,n]),this.persistence.setCheckedItems(this.checkedItems())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-display-items"]],inputs:{items:[1,"items"]},standalone:!0,features:[M],decls:6,vars:3,consts:[[1,"card","mb-1"],[1,"mb-1","flex"],[1,"grow",3,"value","max"],[1,"flex","justify-center"],[1,"flex","flex-row","justify-between"],[1,"pb-1","font-bold","italic"],[3,"count","total"],[1,"flex","justify-between",3,"ngClass"],[1,"flex","justify-between",3,"click","ngClass"],[1,"italic"]],template:function(n,r){n&1&&(d(0,"div",0),R(1,rS,4,4)(2,iS,4,4),f(),Ge(3,aS,8,3,"div",0,tS),gg(5,"keyvalue")),n&2&&(y(),S(r.trackWeight?1:2),y(2),We(vg(5,1,r.groupedItems())))},dependencies:[jg,Rc,An],styles:["progress[_ngcontent-%COMP%]::-webkit-progress-bar{border:2px solid #ccc;border-radius:5px;background-color:transparent}progress[_ngcontent-%COMP%]::-webkit-progress-value{background-color:#999;border-radius:3px}"]})};var kc=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-lock-open"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M240-160h480v-400H240v400Zm240-120q33 0 56.5-23.5T560-360q0-33-23.5-56.5T480-440q-33 0-56.5 23.5T400-360q0 33 23.5 56.5T480-280ZM240-160v-400 400Zm0 80q-33 0-56.5-23.5T160-160v-400q0-33 23.5-56.5T240-640h280v-80q0-83 58.5-141.5T720-920q83 0 141.5 58.5T920-720h-80q0-50-35-85t-85-35q-50 0-85 35t-35 85v80h120q33 0 56.5 23.5T800-560v400q0 33-23.5 56.5T720-80H240Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var Fc=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-lock"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M240-80q-33 0-56.5-23.5T160-160v-400q0-33 23.5-56.5T240-640h40v-80q0-83 58.5-141.5T480-920q83 0 141.5 58.5T680-720v80h40q33 0 56.5 23.5T800-560v400q0 33-23.5 56.5T720-80H240Zm0-80h480v-400H240v400Zm240-120q33 0 56.5-23.5T560-360q0-33-23.5-56.5T480-440q-33 0-56.5 23.5T400-360q0 33 23.5 56.5T480-280ZM360-640h240v-80q0-50-35-85t-85-35q-50 0-85 35t-35 85v80ZM240-160v-400 400Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var cS=(t,e)=>e.question,lS=t=>({disabled:t});function uS(t,e){t&1&&b(0,"app-error",0),t&2&&N("error",e)}function dS(t,e){if(t&1){let n=te();d(0,"div",1)(1,"app-display-question",6),E("valueChange",function(i){let o=Y(n).$implicit,s=C(2);return K(s.modelChange(o.variable,i))}),f()()}if(t&2){let n=e.$implicit,r=C(2);N("ngClass",nt(3,lS,r.isLockActive())),y(),N("question",n.question)("value",r.model()[n.variable])}}function fS(t,e){t&1&&b(0,"app-icon-lock",4),t&2&&N("size",24)}function hS(t,e){t&1&&b(0,"app-icon-lock-open",4),t&2&&N("size",24)}function pS(t,e){if(t&1){let n=te();Ge(0,dS,2,5,"div",1,cS),d(2,"div",2)(3,"button",3),E("click",function(){Y(n);let i=C();return K(i.toggleLock())}),R(4,fS,1,1,"app-icon-lock",4)(5,hS,1,1,"app-icon-lock-open",4),f()(),b(6,"app-display-items",5)}if(t&2){let n=C();We(n.questions()),y(4),S(n.isLockActive()?4:5),y(2),N("items",n.items())}}var Pc=class t{rulesPersistence=p(Wt);packlistPersistence=p(Zt);rules=de([]);model=de(this.packlistPersistence.getAnswers());activeRules=ve(()=>{let e=this.model();return this.rules().filter(n=>n.condition.evaluate(e))});questions=ve(()=>this.activeRules().flatMap(e=>e.questions));items=ve(()=>this.activeRules().flatMap(e=>e.items));error=de(void 0);parser=p(Ke);config=p(Ye);constructor(){eo(()=>{let e=this.model();this.packlistPersistence.saveAnswers(e)})}ngOnInit(){let e=this.rulesPersistence.getRules();try{this.rules.set(this.parser.parseRules(e)),this.error.set(void 0)}catch(n){n instanceof Error?this.error.set(n.message):this.error.set("An unknown error occurred"),console.error(n)}}modelChange(e,n){this.model.update(r=>z(w({},r),{[e]:n}))}isLockActive(){return this.config.isAnswersLocked()}toggleLock(){this.config.setAnswersLocked(!this.config.isAnswersLocked())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-packlist"]],standalone:!0,features:[M],decls:2,vars:1,consts:[[3,"error"],[1,"card","mb-1",3,"ngClass"],[1,"flex","justify-center"],[1,"icon",3,"click"],[3,"size"],[3,"items"],[3,"valueChange","question","value"]],template:function(n,r){if(n&1&&R(0,uS,1,1,"app-error",0)(1,pS,7,2),n&2){let i;S((i=r.error())?0:1,i)}},dependencies:[Nc,Oc,Di,kc,Fc,An],encapsulation:2})};var xy={version:"0.0.0",git_hash:"ab4edd52a8270083f23542ee7d3bd4e887013360"};var bf="travel-packlist-rules.txt",Lc=class t{packlist=p(Zt);rules=p(Wt);env=xy;router=p(Mt);config=p(Ye);parser=p(Ke);fadeOutDisabledRulesControl=new gt(this.config.isFadeOutDisabledRules());trackWeightControl=new gt(this.config.isTrackWeight());constructor(){this.fadeOutDisabledRulesControl.valueChanges.pipe(mt()).subscribe(e=>{this.config.setFadeOutDisabledRules(!!e)}),this.trackWeightControl.valueChanges.pipe(mt()).subscribe(e=>{this.config.setTrackWeight(!!e)})}isMobile(){let e=navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(e)}resetChecklist(){window.confirm("Are you sure you want to reset the checklist?")&&(this.packlist.saveAnswers({}),this.packlist.setCheckedItems([]),this.config.setAnswersLocked(!1),this.router.navigate(["/packlist"]))}resetEverything(){window.confirm("Are you sure you want to reset the whole application?")&&(this.packlist.saveAnswers({}),this.packlist.setCheckedItems([]),this.rules.resetRules(),this.config.resetConfig(),this.router.navigate(["/packlist"]))}downloadRules(){let e=this.rules.getRules(),n=new Blob([e],{type:"text/plain"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=bf,i.click()}shareRules(){let e=this.rules.getRules();navigator.share({title:bf,files:[new File([e],bf,{type:"text/plain"})]})}exportRules(){this.isMobile()&&"share"in navigator?this.shareRules():this.downloadRules()}importRules(){let e=document.createElement("input");e.type="file",e.accept=".txt",e.onchange=async()=>{let n=e.files?.[0];if(!n)return;let r=await n.text();this.rules.saveRules(r);try{this.parser.parseRules(r),this.router.navigate(["/packlist"])}catch{this.router.navigate(["/rules"])}},e.click()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-config"]],standalone:!0,features:[M],decls:59,vars:6,consts:[[1,"section"],[1,"font-bold"],[3,"click"],[1,"flex","items-center","gap-3"],["type","checkbox","id","track-weight",3,"formControl"],["for","track-weight",1,"grow"],[1,"w-1/2","text-sm","italic"],["routerLink","/rules"],["type","checkbox","id","rules-debug-mode",3,"formControl"],["for","rules-debug-mode"],["routerLink","/documentation"],["routerLink","/rules-raw"],[1,"font-mono","text-sm","text-slate-500"],[3,"href"],[1,"flex","flex-col","gap-4"],["href","https://github.com/dhhyi/travel-packlist/issues","target","_blank"],["src","https://img.shields.io/github/issues/dhhyi/travel-packlist","alt","GitHub issues",1,"inline"],["href","mailto:dhhyi@aol.com","target","_blank"],["src","https://img.shields.io/badge/email-dhhyi%40aol.com-blue","alt","Email",1,"inline"],["href","https://ko-fi.com/danilohoffmann","target","_blank"],["src","https://storage.ko-fi.com/cdn/brandasset/kofi_button_stroke.png","alt","Buy Me a Coffee at ko-fi.com",1,"inline","max-w-40"],[1,"red",3,"click"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"span",1),v(2,"Answers"),f(),d(3,"button",2),E("click",function(){return r.resetChecklist()}),v(4,"Reset Checklist"),f(),d(5,"div",3),b(6,"input",4),d(7,"label",5),v(8,"Track item weight"),f(),d(9,"p",6),v(10," You can enter the item weight appended to the item name in the editor. "),f()()(),d(11,"div",0)(12,"span",1),v(13,"Rules"),f(),d(14,"button",7),v(15,"Edit Rules"),f(),d(16,"div",3),b(17,"input",8),d(18,"label",9),v(19,"Fade out disabled rules in editor"),f()(),b(20,"hr"),d(21,"button",10),v(22,"Documentation"),f(),d(23,"button",11),v(24,"Edit Rules with Code"),f(),b(25,"hr"),d(26,"button",2),E("click",function(){return r.exportRules()}),v(27,"Export Rules"),f(),d(28,"button",2),E("click",function(){return r.importRules()}),v(29,"Import Rules"),f()(),d(30,"div",0)(31,"span",1),v(32,"App Version"),f(),d(33,"span"),v(34),f(),d(35,"span",12)(36,"a",13),v(37),f()()(),d(38,"div",0)(39,"span",1),v(40,"Support"),f(),d(41,"div",14)(42,"p"),v(43," If you find any bugs or have any suggestions, please open an issue on GitHub: "),d(44,"a",15),b(45,"img",16),f()(),d(46,"p"),v(47," Alternatively, you can reach out to me by "),d(48,"a",17),b(49,"img",18),f()(),d(50,"p"),v(51," If you like this app, please consider to "),d(52,"a",19),b(53,"img",20),f()()()(),d(54,"div",0)(55,"span",1),v(56,"DANGER!"),f(),d(57,"button",21),E("click",function(){return r.resetEverything()}),v(58,"Reset Application"),f()()),n&2&&(y(6),N("formControl",r.trackWeightControl),y(11),N("formControl",r.fadeOutDisabledRulesControl),y(17),De(r.env.version),y(2),Wr("href","https://github.com/dhhyi/travel-packlist/commit/",r.env.git_hash,"",zu),y(),De(r.env.git_hash))},dependencies:[nc,li,jn,pf,Vn,No],styles:[".section[_ngcontent-%COMP%]{margin-bottom:.75rem;display:flex;flex-direction:column;gap:.5rem;border-bottom-width:1px;padding-bottom:.5rem}"]})};var Vc=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-documentation"]],standalone:!0,features:[M],decls:81,vars:0,consts:[["id","howtodefinerules"],["id","comments"],["id","rules"],["id","effects"],["id","questions"],["id","items"],["id","conditions"],["id","conclusion"]],template:function(n,r){n&1&&(d(0,"h1",0),v(1,"How to define rules"),f(),d(2,"h2",1),v(3,"Comments"),f(),d(4,"p"),v(5,"start with the "),d(6,"code"),v(7,"#"),f(),v(8," character and can be placed anywhere in the file. Code after a "),d(9,"code"),v(10,"#"),f(),v(11," will be ignored."),f(),d(12,"pre")(13,"code"),v(14,`# This is a comment
`),f()(),d(15,"h2",2),v(16,"Rules"),f(),d(17,"p"),v(18,"are defined with the following syntax:"),f(),d(19,"pre")(20,"code"),v(21,`Condition :- Effects ;
`),f()(),d(22,"p"),v(23,"Rules have to be separated by a semicolon character."),f(),d(24,"p"),v(25,"One example for a rule could be:"),f(),d(26,"pre")(27,"code"),v(28,`cold_weather :- [Clothing] Coat,
  Do you expect snow? $snow ;
`),f()(),d(29,"p"),v(30,'Means something like "If it is cold weather, you should bring a coat. Also, you should answer the question if you expect snow."'),f(),d(31,"h3",3),v(32,"Effects"),f(),d(33,"p"),v(34,"can be either "),d(35,"strong"),v(36,"questions"),f(),v(37," or "),d(38,"strong"),v(39,"items"),f(),v(40,` as seen above.
Separate multiple effects with a comma.`),f(),d(41,"h3",4),v(42,"Questions"),f(),d(43,"p"),v(44,"are defined with the following syntax:"),f(),d(45,"pre")(46,"code"),v(47,`Question? $variable
`),f()(),d(48,"p"),v(49,`A question will be displayed on top of the list.
You can toggle the answer by clicking on it.`),f(),d(50,"h3",5),v(51,"Items"),f(),d(52,"p"),v(53,"are defined with the following syntax:"),f(),d(54,"pre")(55,"code"),v(56,`[Category] Name
`),f()(),d(57,"p"),v(58,"An item will be displayed in the list under its category."),f(),d(59,"h3",6),v(60,"Conditions"),f(),d(61,"p"),v(62,`can be empty, in which case they are always true.
You can use variables for defining logic with AND, OR, and NOT.
Variables are defined in questions.
Conditions trigger the effects of the rule if they are true. So if the condition is not met, then you will neither see any addition questons nor items of that specific rule.`),f(),d(63,"p"),v(64,"Some examples for conditions:"),f(),d(65,"pre")(66,"code"),v(67,`cold_weather AND NOT snow
`),f()(),d(68,"p"),v(69,'Means something like "It is cold weather and it is not snowing".'),f(),d(70,"pre")(71,"code"),v(72,`washer OR laundromat
`),f()(),d(73,"p"),v(74,'Means something like "You have a washer in your AirBnB or you have a laundromat nearby".'),f(),d(75,"h2",7),v(76,"Conclusion"),f(),d(77,"p"),v(78,"With all of this you can define a conditional checklist very flexible."),f(),d(79,"p"),v(80,`One advice:
Don't trigger too many effects in one rule. It can get confusing.`),f())},styles:["h1[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;font-size:1.25rem;line-height:1.75rem;font-weight:700}h2[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;font-size:1.125rem;line-height:1.75rem;font-weight:700}h3[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;font-size:1rem;line-height:1.5rem;font-weight:700}p[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:.5rem;padding-top:.25rem;padding-bottom:.25rem;font-size:1rem;line-height:1.5rem}pre[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:.5rem;border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity));padding:.5rem;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}"]})};function gS(t,e){t&1&&(d(0,"div",2),v(1,"Waiting for input."),f())}function vS(t,e){if(t&1&&(d(0,"div",3),v(1),f()),t&2){let n=C();y(),Ze(" Parsed ",n.noOfRules()," rules successfully! ")}}function yS(t,e){if(t&1&&(d(0,"div",4),v(1),f()),t&2){let n=C();y(),De(n.state())}}var jc=class t{rules=new gt("");state=de("pending");parsedRules=de([]);noOfRules=ve(()=>this.parsedRules().length);persistence=p(Wt);parser=p(Ke);constructor(){this.rules.valueChanges.pipe(le(()=>{this.state.set("pending")}),Wn(500),mt()).subscribe({complete:()=>{this.persistence.saveRules(this.rules.value)},next:e=>{if(this.persistence.saveRules(e),e)try{let n=this.parser.parseRules(e);this.parsedRules.set(n),this.state.set("success")}catch(n){n instanceof Error?this.state.set(n.message):console.error(n)}}}),this.rules.setValue(this.persistence.getRules())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-edit-rules-raw"]],standalone:!0,features:[M],decls:5,vars:2,consts:[[1,"mb-8","w-full","grow","resize-none","rounded","border","border-gray-300","bg-gray-100","px-1","py-0","pb-10","font-mono","leading-tight","text-gray-700","focus:bg-white","focus:outline-none",3,"formControl"],[1,"absolute","bottom-0","left-0","w-full","bg-white","p-2","font-mono"],[1,"text-yellow-600"],[1,"text-green-700"],[1,"text-red-700"]],template:function(n,r){if(n&1&&(b(0,"textarea",0),d(1,"div",1),R(2,gS,2,0,"div",2)(3,vS,2,1,"div",3)(4,yS,2,1,"div",4),f()),n&2){let i;N("formControl",r.rules),y(2),S((i=r.state())==="pending"?2:i==="success"?3:4)}},dependencies:[jn,Ln,Vn,No],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}"]})};var My=[{path:"",redirectTo:"/packlist",pathMatch:"full"},{path:"packlist",component:Pc},{path:"config",component:Lc},{path:"rules",component:Ac},{path:"rules-raw",component:jc},{path:"documentation",component:Vc},{path:"**",redirectTo:"/packlist"}];var Po="Service workers are disabled or not supported by this browser";function CS(t){return zn(()=>un(new Error(t)))}var bi=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=CS(Po);else{let r=Ir(e,"controllerchange").pipe(V(()=>e.controller)),i=zn(()=>O(e.controller)),o=Nt(i,r);this.worker=o.pipe(ge(u=>!!u)),this.registration=this.worker.pipe(xe(()=>e.getRegistration()));let l=Ir(e,"message").pipe(V(u=>u.data)).pipe(ge(u=>u&&u.type)).pipe(cl());l.connect(),this.events=l}}postMessage(e,n){return this.worker.pipe(be(1),le(r=>{r.postMessage(w({action:e},n))})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,n);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let n;return typeof e=="string"?n=r=>r.type===e:n=r=>e.includes(r.type),this.events.pipe(ge(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(be(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(ge(n=>n.nonce===e),be(1),V(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},DS=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,this.pushManager=null,this.subscriptionChanges=new ce,!r.isEnabled){this.messages=qn,this.notificationClicks=qn,this.subscription=qn;return}this.messages=this.sw.eventsOfType("PUSH").pipe(V(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(V(o=>o.data)),this.pushManager=this.sw.registration.pipe(V(o=>o.pushManager));let i=this.pushManager.pipe(xe(o=>o.getSubscription()));this.subscription=ms(i,this.subscriptionChanges)}requestSubscription(r){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Po));let i={userVisibleOnly:!0},o=this.decodeBase64(r.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(o.length));for(let a=0;a<o.length;a++)s[a]=o.charCodeAt(a);return i.applicationServerKey=s,this.pushManager.pipe(xe(a=>a.subscribe(i)),be(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Po));let r=i=>{if(i===null)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(be(1),xe(r)).toPromise()}decodeBase64(r){return atob(r)}};e.\u0275fac=function(i){return new(i||e)(F(bi))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),_f=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,!r.isEnabled){this.versionUpdates=qn,this.unrecoverable=qn;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Po));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:r},r)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Po));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:r},r)}};e.\u0275fac=function(i){return new(i||e)(F(bi))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();var Sy=new A("");function wS(t,e,n,r){return()=>{if(!(Oa(r)&&"serviceWorker"in navigator&&n.enabled!==!1))return;let i=t.get(he),o=t.get(Bt);i.runOutsideAngular(()=>{let a=navigator.serviceWorker,c=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",c),o.onDestroy(()=>{a.removeEventListener("controllerchange",c)})});let s;if(typeof n.registrationStrategy=="function")s=n.registrationStrategy();else{let[a,...c]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=O(null);break;case"registerWithDelay":s=Ty(+c[0]||0);break;case"registerWhenStable":let l=oe(t.get(Bt).whenStable());s=c[0]?ms(l,Ty(+c[0])):l;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}i.runOutsideAngular(()=>s.pipe(be(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function Ty(t){return O(null).pipe(sl(t))}function bS(t,e){return new bi(Oa(e)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var Fo=class{};function Ay(t,e={}){return qr([DS,_f,{provide:Sy,useValue:t},{provide:Fo,useValue:e},{provide:bi,useFactory:bS,deps:[Fo,It]},{provide:Qr,useFactory:wS,deps:[Se,Sy,Fo,It],multi:!0}])}var Ny={providers:[_g(),Lv(My,Uv()),Ay("ngsw-worker.js",{enabled:!Ig(),registrationStrategy:"registerWhenStable:30000"})]};var $c=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-cog"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};function _S(t,e){if(t&1){let n=te();d(0,"div",7)(1,"button",8),E("click",function(){Y(n);let i=C();return K(i.scrollTop())}),b(2,"app-icon-up",5),f()()}t&2&&(y(2),N("size",32))}var Bc=class t{swUpdate=p(_f);constructor(){this.swUpdate.versionUpdates.subscribe(e=>{e.type==="VERSION_READY"&&this.swUpdate.activateUpdate().then(()=>{window.location.reload()})})}scrollTop(){window.scrollTo({top:0,behavior:"smooth"})}onScroll(){this.scrollTopVisible=window.scrollY>100}scrollTopVisible=!1;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-root"]],hostBindings:function(n,r){n&1&&E("scroll",function(){return r.onScroll()},!1,ma)},standalone:!0,features:[M],decls:10,vars:2,consts:[[1,"flex","h-12","flex-row","items-center","p-2"],["routerLink","/",1,"flex","grow"],["src","icon.png","alt","icon","width","32px","height","32px"],[1,"text-2xl","font-bold"],["routerLink","/config",1,"pr-2"],[3,"size"],[1,"grow-children","flex","grow","flex-col","px-2","pb-2"],[1,"sticky","bottom-2","flex","justify-center"],[1,"rounded-3xl","border","border-slate-300","bg-white","shadow-xl",3,"click"]],template:function(n,r){n&1&&(d(0,"nav",0)(1,"a",1),b(2,"img",2),d(3,"span",3),v(4,"Travel Packlist"),f()(),d(5,"a",4),b(6,"app-icon-cog",5),f()(),d(7,"div",6),b(8,"router-outlet"),R(9,_S,3,1,"div",7),f()),n&2&&(y(6),N("size",24),y(3),S(r.scrollTopVisible?9:-1))},dependencies:[nc,nf,li,$c,yi],encapsulation:2})};Wg(Bc,Ny).catch(t=>console.error(t));
