var Sy=Object.defineProperty,Ty=Object.defineProperties;var Ay=Object.getOwnPropertyDescriptors;var wf=Object.getOwnPropertySymbols;var Ny=Object.prototype.hasOwnProperty,Ry=Object.prototype.propertyIsEnumerable;var bf=(t,e,n)=>e in t?Sy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,y=(t,e)=>{for(var n in e||={})Ny.call(e,n)&&bf(t,n,e[n]);if(wf)for(var n of wf(e))Ry.call(e,n)&&bf(t,n,e[n]);return t},R=(t,e)=>Ty(t,Ay(e));function Ef(t,e){return Object.is(t,e)}var De=null,gi=!1,No=1,Et=Symbol("SIGNAL");function W(t){let e=De;return De=t,e}function _f(){return De}function Oy(){return gi}var cr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Oo(t){if(gi)throw new Error("");if(De===null)return;De.consumerOnSignalRead(t);let e=De.nextProducerIndex++;if(Vo(De),e<De.producerNode.length&&De.producerNode[e]!==t&&vi(De)){let n=De.producerNode[e];Lo(n,De.producerIndexOfThis[e])}De.producerNode[e]!==t&&(De.producerNode[e]=t,De.producerIndexOfThis[e]=vi(De)?Tf(t,De,e):0),De.producerLastReadVersion[e]=t.version}function Fy(){No++}function If(t){if(!(vi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===No)){if(!t.producerMustRecompute(t)&&!ko(t)){t.dirty=!1,t.lastCleanEpoch=No;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=No}}function xf(t){if(t.liveConsumerNode===void 0)return;let e=gi;gi=!0;try{for(let n of t.liveConsumerNode)n.dirty||Sf(n)}finally{gi=e}}function Mf(){return De?.consumerAllowSignalWrites!==!1}function Sf(t){t.dirty=!0,xf(t),t.consumerMarkedDirty?.(t)}function yi(t){return t&&(t.nextProducerIndex=0),W(t)}function Fo(t,e){if(W(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(vi(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Lo(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ko(t){Vo(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(If(n),r!==n.version))return!0}return!1}function Po(t){if(Vo(t),vi(t))for(let e=0;e<t.producerNode.length;e++)Lo(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Tf(t,e,n){if(Af(t),t.liveConsumerNode.length===0&&Nf(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Tf(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Lo(t,e){if(Af(t),t.liveConsumerNode.length===1&&Nf(t))for(let r=0;r<t.producerNode.length;r++)Lo(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Vo(i),i.producerIndexOfThis[r]=e}}function vi(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Vo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Af(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Nf(t){return t.producerNode!==void 0}function Rf(t){let e=Object.create(ky);e.computation=t;let n=()=>{if(If(e),Oo(e),e.value===Ro)throw e.error;return e.value};return n[Et]=e,n}var Pc=Symbol("UNSET"),Lc=Symbol("COMPUTING"),Ro=Symbol("ERRORED"),ky=R(y({},cr),{value:Pc,dirty:!0,error:null,equal:Ef,producerMustRecompute(t){return t.value===Pc||t.value===Lc},producerRecomputeValue(t){if(t.value===Lc)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Lc;let n=yi(t),r;try{r=t.computation()}catch(i){r=Ro,t.error=i}finally{Fo(t,n)}if(e!==Pc&&e!==Ro&&r!==Ro&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function Py(){throw new Error}var Of=Py;function Ff(){Of()}function kf(t){Of=t}var Ly=null;function Pf(t){let e=Object.create(jc);e.value=t;let n=()=>(Oo(e),e.value);return n[Et]=e,n}function jo(t,e){Mf()||Ff(),t.equal(t.value,e)||(t.value=e,Vy(t))}function Lf(t,e){Mf()||Ff(),jo(t,e(t.value))}var jc=R(y({},cr),{equal:Ef,value:void 0});function Vy(t){t.version++,Fy(),xf(t),Ly?.()}function Vf(t,e,n){let r=Object.create(jy);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function o(c){return c.fn===null&&c.schedule===null}function s(c){o(c)||(Po(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=Vc)}let a=()=>{if(r.fn===null)return;if(Oy())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!ko(r))return;r.hasRun=!0;let c=yi(r);try{r.cleanupFn(),r.cleanupFn=Vc,r.fn(i)}finally{Fo(r,c)}};return r.ref={notify:()=>Sf(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[Et]:r},r.ref}var Vc=()=>{},jy=R(y({},cr),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:Vc});function x(t){return typeof t=="function"}function ur(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var $o=ur(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Rn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var he=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(x(r))try{r()}catch(o){e=o instanceof $o?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{jf(o)}catch(s){e=e??[],s instanceof $o?e=[...e,...s.errors]:e.push(s)}}if(e)throw new $o(e)}}add(e){var n;if(e&&e!==this)if(this.closed)jf(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Rn(n,e)}remove(e){let{_finalizers:n}=this;n&&Rn(n,e),e instanceof t&&e._removeParent(this)}};he.EMPTY=(()=>{let t=new he;return t.closed=!0,t})();var $c=he.EMPTY;function Bo(t){return t instanceof he||t&&"closed"in t&&x(t.remove)&&x(t.add)&&x(t.unsubscribe)}function jf(t){x(t)?t():t.unsubscribe()}var dt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var lr={setTimeout(t,e,...n){let{delegate:r}=lr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=lr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Uo(t){lr.setTimeout(()=>{let{onUnhandledError:e}=dt;if(e)e(t);else throw t})}function zt(){}var $f=Bc("C",void 0,void 0);function Bf(t){return Bc("E",void 0,t)}function Uf(t){return Bc("N",t,void 0)}function Bc(t,e,n){return{kind:t,value:e,error:n}}var On=null;function dr(t){if(dt.useDeprecatedSynchronousErrorHandling){let e=!On;if(e&&(On={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=On;if(On=null,n)throw r}}else t()}function Hf(t){dt.useDeprecatedSynchronousErrorHandling&&On&&(On.errorThrown=!0,On.error=t)}var Fn=class extends he{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Bo(e)&&e.add(this)):this.destination=Uy}static create(e,n,r){return new fr(e,n,r)}next(e){this.isStopped?Hc(Uf(e),this):this._next(e)}error(e){this.isStopped?Hc(Bf(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hc($f,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},$y=Function.prototype.bind;function Uc(t,e){return $y.call(t,e)}var zc=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ho(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ho(r)}else Ho(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ho(n)}}},fr=class extends Fn{constructor(e,n,r){super();let i;if(x(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&dt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Uc(e.next,o),error:e.error&&Uc(e.error,o),complete:e.complete&&Uc(e.complete,o)}):i=e}this.destination=new zc(i)}};function Ho(t){dt.useDeprecatedSynchronousErrorHandling?Hf(t):Uo(t)}function By(t){throw t}function Hc(t,e){let{onStoppedNotification:n}=dt;n&&lr.setTimeout(()=>n(t,e))}var Uy={closed:!0,next:zt,error:By,complete:zt};var hr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ze(t){return t}function qc(...t){return Gc(t)}function Gc(t){return t.length===0?Ze:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var j=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=zy(n)?n:new fr(n,r,i);return dr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=zf(r),new r((i,o)=>{let s=new fr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[hr](){return this}pipe(...n){return Gc(n)(this)}toPromise(n){return n=zf(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function zf(t){var e;return(e=t??dt.Promise)!==null&&e!==void 0?e:Promise}function Hy(t){return t&&x(t.next)&&x(t.error)&&x(t.complete)}function zy(t){return t&&t instanceof Fn||Hy(t)&&Bo(t)}function Wc(t){return x(t?.lift)}function H(t){return e=>{if(Wc(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function z(t,e,n,r,i){return new Zc(t,e,n,r,i)}var Zc=class extends Fn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function pr(){return H((t,e)=>{let n=null;t._refCount++;let r=z(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var tn=class extends j{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Wc(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new he;let n=this.getSubject();e.add(this.source.subscribe(z(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=he.EMPTY)}return e}refCount(){return pr()(this)}};var qf=ur(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=(()=>{class t extends j{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new zo(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new qf}next(n){dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?$c:(this.currentObservers=null,o.push(n),new he(()=>{this.currentObservers=null,Rn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new j;return n.source=this,n}}return t.create=(e,n)=>new zo(e,n),t})(),zo=class extends se{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:$c}};var _e=class extends se{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ci={now(){return(Ci.delegate||Date).now()},delegate:void 0};var Di=class extends se{constructor(e=1/0,n=1/0,r=Ci){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var qo=class extends he{constructor(e,n){super()}schedule(e,n=0){return this}};var wi={setInterval(t,e,...n){let{delegate:r}=wi;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=wi;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Go=class extends qo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return wi.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&wi.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Rn(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var mr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};mr.now=Ci.now;var Wo=class extends mr{constructor(e,n=mr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var bi=new Wo(Go),Gf=bi;var Ae=new j(t=>t.complete());function Zo(t){return t&&x(t.schedule)}function Qc(t){return t[t.length-1]}function Qo(t){return x(Qc(t))?t.pop():void 0}function _t(t){return Zo(Qc(t))?t.pop():void 0}function Wf(t,e){return typeof Qc(t)=="number"?t.pop():e}function Qf(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Zf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kn(t){return this instanceof kn?(this.v=t,this):new kn(t)}function Yf(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(D){return Promise.resolve(D).then(p,d)}}function a(p,D){r[p]&&(i[p]=function(F){return new Promise(function(K,Q){o.push([p,F,K,Q])>1||c(p,F)})},D&&(i[p]=D(i[p])))}function c(p,D){try{u(r[p](D))}catch(F){g(o[0][3],F)}}function u(p){p.value instanceof kn?Promise.resolve(p.value.v).then(l,d):g(o[0][2],p)}function l(p){c("next",p)}function d(p){c("throw",p)}function g(p,D){p(D),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Kf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Zf=="function"?Zf(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var gr=t=>t&&typeof t.length=="number"&&typeof t!="function";function Yo(t){return x(t?.then)}function Ko(t){return x(t[hr])}function Jo(t){return Symbol.asyncIterator&&x(t?.[Symbol.asyncIterator])}function Xo(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function qy(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var es=qy();function ts(t){return x(t?.[es])}function ns(t){return Yf(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield kn(n.read());if(i)return yield kn(void 0);yield yield kn(r)}}finally{n.releaseLock()}})}function rs(t){return x(t?.getReader)}function re(t){if(t instanceof j)return t;if(t!=null){if(Ko(t))return Gy(t);if(gr(t))return Wy(t);if(Yo(t))return Zy(t);if(Jo(t))return Jf(t);if(ts(t))return Qy(t);if(rs(t))return Yy(t)}throw Xo(t)}function Gy(t){return new j(e=>{let n=t[hr]();if(x(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Wy(t){return new j(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Zy(t){return new j(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Uo)})}function Qy(t){return new j(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Jf(t){return new j(e=>{Ky(t,e).catch(n=>e.error(n))})}function Yy(t){return Jf(ns(t))}function Ky(t,e){var n,r,i,o;return Qf(this,void 0,void 0,function*(){try{for(n=Kf(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function je(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function is(t,e=0){return H((n,r)=>{n.subscribe(z(r,i=>je(r,t,()=>r.next(i),e),()=>je(r,t,()=>r.complete(),e),i=>je(r,t,()=>r.error(i),e)))})}function os(t,e=0){return H((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Xf(t,e){return re(t).pipe(os(e),is(e))}function eh(t,e){return re(t).pipe(os(e),is(e))}function th(t,e){return new j(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function nh(t,e){return new j(n=>{let r;return je(n,e,()=>{r=t[es](),je(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>x(r?.return)&&r.return()})}function ss(t,e){if(!t)throw new Error("Iterable cannot be null");return new j(n=>{je(n,e,()=>{let r=t[Symbol.asyncIterator]();je(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function rh(t,e){return ss(ns(t),e)}function ih(t,e){if(t!=null){if(Ko(t))return Xf(t,e);if(gr(t))return th(t,e);if(Yo(t))return eh(t,e);if(Jo(t))return ss(t,e);if(ts(t))return nh(t,e);if(rs(t))return rh(t,e)}throw Xo(t)}function ie(t,e){return e?ih(t,e):re(t)}function A(...t){let e=_t(t);return ie(t,e)}function nn(t,e){let n=x(t)?t:()=>t,r=i=>i.error(n());return new j(e?i=>e.schedule(r,0,i):r)}function Yc(t){return!!t&&(t instanceof j||x(t.lift)&&x(t.subscribe))}var qt=ur(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function oh(t){return t instanceof Date&&!isNaN(t)}function L(t,e){return H((n,r)=>{let i=0;n.subscribe(z(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Jy}=Array;function Xy(t,e){return Jy(e)?t(...e):t(e)}function vr(t){return L(e=>Xy(t,e))}var{isArray:e0}=Array,{getPrototypeOf:t0,prototype:n0,keys:r0}=Object;function as(t){if(t.length===1){let e=t[0];if(e0(e))return{args:e,keys:null};if(i0(e)){let n=r0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function i0(t){return t&&typeof t=="object"&&t0(t)===n0}function cs(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ei(...t){let e=_t(t),n=Qo(t),{args:r,keys:i}=as(t);if(r.length===0)return ie([],e);let o=new j(o0(r,e,i?s=>cs(i,s):Ze));return n?o.pipe(vr(n)):o}function o0(t,e,n=Ze){return r=>{sh(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)sh(e,()=>{let u=ie(t[c],e),l=!1;u.subscribe(z(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function sh(t,e,n){t?je(n,t,e):e()}function ah(t,e,n,r,i,o,s,a){let c=[],u=0,l=0,d=!1,g=()=>{d&&!c.length&&!u&&e.complete()},p=F=>u<r?D(F):c.push(F),D=F=>{o&&e.next(F),u++;let K=!1;re(n(F,l++)).subscribe(z(e,Q=>{i?.(Q),o?p(Q):e.next(Q)},()=>{K=!0},void 0,()=>{if(K)try{for(u--;c.length&&u<r;){let Q=c.shift();s?je(e,s,()=>D(Q)):D(Q)}g()}catch(Q){e.error(Q)}}))};return t.subscribe(z(e,p,()=>{d=!0,g()})),()=>{a?.()}}function le(t,e,n=1/0){return x(e)?le((r,i)=>L((o,s)=>e(r,o,i,s))(re(t(r,i))),n):(typeof e=="number"&&(n=e),H((r,i)=>ah(r,i,t,n)))}function rn(t=1/0){return le(Ze,t)}function ch(){return rn(1)}function It(...t){return ch()(ie(t,_t(t)))}function Pn(t){return new j(e=>{re(t()).subscribe(e)})}function Kc(...t){let e=Qo(t),{args:n,keys:r}=as(t),i=new j(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;re(n[l]).subscribe(z(o,g=>{d||(d=!0,u--),a[l]=g},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?cs(r,a):a),o.complete())}))}});return e?i.pipe(vr(e)):i}var s0=["addListener","removeListener"],a0=["addEventListener","removeEventListener"],c0=["on","off"];function yr(t,e,n,r){if(x(n)&&(r=n,n=void 0),r)return yr(t,e,n).pipe(vr(r));let[i,o]=d0(t)?a0.map(s=>a=>t[s](e,a,n)):u0(t)?s0.map(uh(t,e)):l0(t)?c0.map(uh(t,e)):[];if(!i&&gr(t))return le(s=>yr(s,e,n))(re(t));if(!i)throw new TypeError("Invalid event target");return new j(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function uh(t,e){return n=>r=>t[n](e,r)}function u0(t){return x(t.addListener)&&x(t.removeListener)}function l0(t){return x(t.on)&&x(t.off)}function d0(t){return x(t.addEventListener)&&x(t.removeEventListener)}function lh(t=0,e,n=Gf){let r=-1;return e!=null&&(Zo(e)?n=e:r=e),new j(i=>{let o=oh(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function us(...t){let e=_t(t),n=Wf(t,1/0),r=t;return r.length?r.length===1?re(r[0]):rn(n)(ie(r,e)):Ae}var Ln=new j(zt);function Ie(t,e){return H((n,r)=>{let i=0;n.subscribe(z(r,o=>t.call(e,o,i++)&&r.next(o)))})}function on(t){return H((e,n)=>{let r=null,i=!1,o;r=e.subscribe(z(n,void 0,void 0,s=>{o=re(t(s,on(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function dh(t,e,n,r,i){return(o,s)=>{let a=n,c=e,u=0;o.subscribe(z(s,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Vn(t,e){return x(e)?le(t,e,1):le(t,1)}function fh(t){return new j(e=>t.subscribe(e))}var f0={connector:()=>new se};function ls(t,e=f0){let{connector:n}=e;return H((r,i)=>{let o=n();re(t(fh(o))).subscribe(i),i.add(r.subscribe(o))})}function jn(t,e=bi){return H((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=o;o=null,r.next(u)}};function c(){let u=s+t,l=e.now();if(l<u){i=this.schedule(void 0,u-l),r.add(i);return}a()}n.subscribe(z(r,u=>{o=u,s=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function sn(t){return H((e,n)=>{let r=!1;e.subscribe(z(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function we(t){return t<=0?()=>Ae:H((e,n)=>{let r=0;e.subscribe(z(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function hh(){return H((t,e)=>{t.subscribe(z(e,zt))})}function _i(t){return L(()=>t)}function Jc(t,e){return e?n=>It(e.pipe(we(1),hh()),n.pipe(Jc(t))):le((n,r)=>re(t(n,r)).pipe(we(1),_i(n)))}function Xc(t,e=bi){let n=lh(t,e);return Jc(()=>n)}function ds(t=h0){return H((e,n)=>{let r=!1;e.subscribe(z(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function h0(){return new qt}function Ii(t){return H((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function xt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ie((i,o)=>t(i,o,r)):Ze,we(1),n?sn(e):ds(()=>new qt))}function Cr(t){return t<=0?()=>Ae:H((e,n)=>{let r=[];e.subscribe(z(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function eu(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ie((i,o)=>t(i,o,r)):Ze,Cr(1),n?sn(e):ds(()=>new qt))}function ph(t,e){let n=x(t)?t:()=>t;return x(e)?ls(e,{connector:n}):r=>new tn(r,n)}function tu(t){return t?e=>ls(t)(e):e=>ph(new se)(e)}function nu(t,e){return H(dh(t,e,arguments.length>=2,!0))}function ru(...t){let e=_t(t);return H((n,r)=>{(e?It(t,n,e):It(t,n)).subscribe(r)})}function xe(t,e){return H((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(z(r,c=>{i?.unsubscribe();let u=0,l=o++;re(t(c,l)).subscribe(i=z(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function xi(t){return H((e,n)=>{re(t).subscribe(z(n,()=>n.complete(),zt)),!n.closed&&e.subscribe(n)})}function pe(t,e,n){let r=x(t)||e||n?{next:t,error:e,complete:n}:t;return r?H((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(z(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Ze}var Xh="https://g.co/ng/security#xss",_=class extends Error{constructor(e,n){super(hl(e,n)),this.code=e}};function hl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var ep=Symbol("InputSignalNode#UNSET"),p0=R(y({},jc),{transformFn:void 0,applyValueToInputSignal(t,e){jo(t,e)}});function tp(t,e){let n=Object.create(p0);n.value=t,n.transformFn=e?.transform;function r(){if(Oo(n),n.value===ep)throw new _(-950,!1);return n.value}return r[Et]=n,r}function ji(t){return{toString:t}.toString()}var fs="__parameters__";function m0(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function np(t,e,n){return ji(()=>{let r=m0(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(fs)?c[fs]:Object.defineProperty(c,fs,{value:[]})[fs];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var vu=globalThis;function oe(t){for(let e in t)if(t[e]===oe)return e;throw Error("Could not find renamed property on target object.")}function g0(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Be(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Be).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function mh(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var v0=oe({__forward_ref__:oe});function Rt(t){return t.__forward_ref__=Rt,t.toString=function(){return Be(this())},t}function Ne(t){return rp(t)?t():t}function rp(t){return typeof t=="function"&&t.hasOwnProperty(v0)&&t.__forward_ref__===Rt}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function gn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Qs(t){return gh(t,op)||gh(t,sp)}function ip(t){return Qs(t)!==null}function gh(t,e){return t.hasOwnProperty(e)?t[e]:null}function y0(t){let e=t&&(t[op]||t[sp]);return e||null}function vh(t){return t&&(t.hasOwnProperty(yh)||t.hasOwnProperty(C0))?t[yh]:null}var op=oe({\u0275prov:oe}),yh=oe({\u0275inj:oe}),sp=oe({ngInjectableDef:oe}),C0=oe({ngInjectorDef:oe}),M=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ap(t){return t&&!!t.\u0275providers}var D0=oe({\u0275cmp:oe}),w0=oe({\u0275dir:oe}),b0=oe({\u0275pipe:oe}),E0=oe({\u0275mod:oe}),Es=oe({\u0275fac:oe}),Si=oe({__NG_ELEMENT_ID__:oe}),Ch=oe({__NG_ENV_ID__:oe});function xr(t){return typeof t=="string"?t:t==null?"":String(t)}function _0(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():xr(t)}function I0(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new _(-200,t)}function pl(t,e){throw new _(-201,!1)}var Z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Z||{}),yu;function cp(){return yu}function $e(t){let e=yu;return yu=t,e}function up(t,e,n){let r=Qs(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Z.Optional)return null;if(e!==void 0)return e;pl(t,"Injector")}var x0={},Ti=x0,Cu="__NG_DI_FLAG__",_s="ngTempTokenPath",M0="ngTokenPath",S0=/\n/gm,T0="\u0275",Dh="__source",_r;function A0(){return _r}function an(t){let e=_r;return _r=t,e}function N0(t,e=Z.Default){if(_r===void 0)throw new _(-203,!1);return _r===null?up(t,void 0,e):_r.get(t,e&Z.Optional?null:void 0,e)}function O(t,e=Z.Default){return(cp()||N0)(Ne(t),e)}function m(t,e=Z.Default){return O(t,Ys(e))}function Ys(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Du(t){let e=[];for(let n=0;n<t.length;n++){let r=Ne(t[n]);if(Array.isArray(r)){if(r.length===0)throw new _(900,!1);let i,o=Z.Default;for(let s=0;s<r.length;s++){let a=r[s],c=R0(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(O(i,o))}else e.push(O(r))}return e}function lp(t,e){return t[Cu]=e,t.prototype[Cu]=e,t}function R0(t){return t[Cu]}function O0(t,e,n,r){let i=t[_s];throw e[Dh]&&i.unshift(e[Dh]),t.message=F0(`
`+t.message,i,n,r),t[M0]=i,t[_s]=null,t}function F0(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==T0?t.slice(2):t;let i=Be(e);if(Array.isArray(e))i=e.map(Be).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Be(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(S0,`
  `)}`}var Ks=lp(np("Optional"),8);var ml=lp(np("SkipSelf"),4);function Hn(t,e){let n=t.hasOwnProperty(Es);return n?t[Es]:null}function gl(t,e){t.forEach(n=>Array.isArray(n)?gl(n,e):e(n))}function dp(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Is(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function k0(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function P0(t,e,n){let r=$i(t,e);return r>=0?t[r|1]=n:(r=~r,k0(t,r,e,n)),r}function iu(t,e){let n=$i(t,e);if(n>=0)return t[n|1]}function $i(t,e){return L0(t,e,1)}function L0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Mr={},Je=[],Sr=new M(""),fp=new M("",-1),hp=new M(""),xs=class{get(e,n=Ti){if(n===Ti){let r=new Error(`NullInjectorError: No provider for ${Be(e)}!`);throw r.name="NullInjectorError",r}return n}},pp=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(pp||{}),Tt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Tt||{}),ln=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ln||{});function V0(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function wu(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];j0(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function mp(t){return t===3||t===4||t===6}function j0(t){return t.charCodeAt(0)===64}function Ai(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?wh(t,n,i,null,e[++r]):wh(t,n,i,null,null))}}return t}function wh(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var gp="ng-template";function $0(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&V0(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(vl(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function vl(t){return t.type===4&&t.value!==gp}function B0(t,e,n){let r=t.type===4&&!n?gp:t.value;return e===r}function U0(t,e,n){let r=4,i=t.attrs,o=i!==null?q0(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!ft(r)&&!ft(c))return!1;if(s&&ft(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!B0(t,c,n)||c===""&&e.length===1){if(ft(r))return!1;s=!0}}else if(r&8){if(i===null||!$0(t,i,c,n)){if(ft(r))return!1;s=!0}}else{let u=e[++a],l=H0(c,i,vl(t),n);if(l===-1){if(ft(r))return!1;s=!0;continue}if(u!==""){let d;if(l>o?d="":d=i[l+1].toLowerCase(),r&2&&u!==d){if(ft(r))return!1;s=!0}}}}return ft(r)||s}function ft(t){return(t&1)===0}function H0(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return G0(e,t)}function z0(t,e,n=!1){for(let r=0;r<e.length;r++)if(U0(t,e[r],n))return!0;return!1}function q0(t){for(let e=0;e<t.length;e++){let n=t[e];if(mp(n))return e}return t.length}function G0(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function bh(t,e){return t?":not("+e.trim()+")":e}function W0(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ft(s)&&(e+=bh(o,i),i=""),r=s,o=o||!ft(r);n++}return i!==""&&(e+=bh(o,i)),e}function Z0(t){return t.map(W0).join(",")}function Q0(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!ft(i))break;i=o}r++}return{attrs:e,classes:n}}function S(t){return ji(()=>{let e=bp(t),n=R(y({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===pp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Tt.Emulated,styles:t.styles||Je,_:null,schemas:t.schemas||null,tView:null,id:""});Ep(n);let r=t.dependencies;return n.directiveDefs=_h(r,!1),n.pipeDefs=_h(r,!0),n.id=J0(n),n})}function Y0(t){return dn(t)||yp(t)}function K0(t){return t!==null}function vn(t){return ji(()=>({type:t.type,bootstrap:t.bootstrap||Je,declarations:t.declarations||Je,imports:t.imports||Je,exports:t.exports||Je,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Eh(t,e){if(t==null)return Mr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=ln.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==ln.None?[r,a]:r,e[o]=s):n[o]=r}return n}function ye(t){return ji(()=>{let e=bp(t);return Ep(e),e})}function vp(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function dn(t){return t[D0]||null}function yp(t){return t[w0]||null}function Cp(t){return t[b0]||null}function Dp(t){let e=dn(t)||yp(t)||Cp(t);return e!==null?e.standalone:!1}function wp(t,e){let n=t[E0]||null;if(!n&&e===!0)throw new Error(`Type ${Be(t)} does not have '\u0275mod' property.`);return n}function bp(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Mr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Je,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Eh(t.inputs,e),outputs:Eh(t.outputs),debugInfo:null}}function Ep(t){t.features?.forEach(e=>e(t))}function _h(t,e){if(!t)return null;let n=e?Cp:Y0;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(K0)}function J0(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Vr(t){return{\u0275providers:t}}function X0(...t){return{\u0275providers:_p(!0,t),\u0275fromNgModule:!0}}function _p(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return gl(e,s=>{let a=s;bu(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Ip(i,o),n}function Ip(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];yl(i,o=>{e(o,r)})}}function bu(t,e,n,r){if(t=Ne(t),!t)return!1;let i=null,o=vh(t),s=!o&&dn(t);if(!o&&!s){let c=t.ngModule;if(o=vh(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)bu(u,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{gl(o.imports,l=>{bu(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Ip(u,e)}if(!a){let u=Hn(i)||(()=>new i);e({provide:i,useFactory:u,deps:Je},i),e({provide:hp,useValue:i,multi:!0},i),e({provide:Sr,useValue:()=>O(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=t;yl(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function yl(t,e){for(let n of t)ap(n)&&(n=n.\u0275providers),Array.isArray(n)?yl(n,e):e(n)}var eC=oe({provide:String,useValue:oe});function xp(t){return t!==null&&typeof t=="object"&&eC in t}function tC(t){return!!(t&&t.useExisting)}function nC(t){return!!(t&&t.useFactory)}function Tr(t){return typeof t=="function"}function rC(t){return!!t.useClass}var Js=new M(""),vs={},iC={},ou;function Cl(){return ou===void 0&&(ou=new xs),ou}var Qe=class{},Ni=class extends Qe{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_u(e,s=>this.processProvider(s)),this.records.set(fp,Dr(void 0,this)),i.has("environment")&&this.records.set(Qe,Dr(void 0,this));let o=this.records.get(Js);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(hp,Je,Z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=W(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),W(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=an(this),r=$e(void 0),i;try{return e()}finally{an(n),$e(r)}}get(e,n=Ti,r=Z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Ch))return e[Ch](this);r=Ys(r);let i,o=an(this),s=$e(void 0);try{if(!(r&Z.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=uC(e)&&Qs(e);u&&this.injectableDefInScope(u)?c=Dr(Eu(e),vs):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Z.Self?Cl():this.parent;return n=r&Z.Optional&&n===Ti?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[_s]=a[_s]||[]).unshift(Be(e)),o)throw a;return O0(a,e,"R3InjectorError",this.source)}else throw a}finally{$e(s),an(o)}}resolveInjectorInitializers(){let e=W(null),n=an(this),r=$e(void 0),i;try{let o=this.get(Sr,Je,Z.Self);for(let s of o)s()}finally{an(n),$e(r),W(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Be(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _(205,!1)}processProvider(e){e=Ne(e);let n=Tr(e)?e:Ne(e&&e.provide),r=sC(e);if(!Tr(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Dr(void 0,vs,!0),i.factory=()=>Du(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=W(null);try{return n.value===vs&&(n.value=iC,n.value=n.factory()),typeof n.value=="object"&&n.value&&cC(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{W(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ne(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Eu(t){let e=Qs(t),n=e!==null?e.factory:Hn(t);if(n!==null)return n;if(t instanceof M)throw new _(204,!1);if(t instanceof Function)return oC(t);throw new _(204,!1)}function oC(t){if(t.length>0)throw new _(204,!1);let n=y0(t);return n!==null?()=>n.factory(t):()=>new t}function sC(t){if(xp(t))return Dr(void 0,t.useValue);{let e=Mp(t);return Dr(e,vs)}}function Mp(t,e,n){let r;if(Tr(t)){let i=Ne(t);return Hn(i)||Eu(i)}else if(xp(t))r=()=>Ne(t.useValue);else if(nC(t))r=()=>t.useFactory(...Du(t.deps||[]));else if(tC(t))r=()=>O(Ne(t.useExisting));else{let i=Ne(t&&(t.useClass||t.provide));if(aC(t))r=()=>new i(...Du(t.deps));else return Hn(i)||Eu(i)}return r}function Dr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function aC(t){return!!t.deps}function cC(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function uC(t){return typeof t=="function"||typeof t=="object"&&t instanceof M}function _u(t,e){for(let n of t)Array.isArray(n)?_u(n,e):n&&ap(n)?_u(n.\u0275providers,e):e(n)}function Ot(t,e){t instanceof Ni&&t.assertNotDestroyed();let n,r=an(t),i=$e(void 0);try{return e()}finally{an(r),$e(i)}}function Sp(){return cp()!==void 0||A0()!=null}function Bi(t){if(!Sp())throw new _(-203,!1)}function lC(t){return typeof t=="function"}var Zt=0,$=1,k=2,Oe=3,ht=4,gt=5,Ri=6,Ms=7,Me=8,Ar=9,At=10,be=11,Oi=12,Ih=13,jr=14,pt=15,Nr=16,wr=17,Rr=18,Xs=19,Tp=20,cn=21,ys=22,Xe=23,Fe=25,Ap=1;var zn=7,Ss=8,Ts=9,Re=10,As=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(As||{});function un(t){return Array.isArray(t)&&typeof t[Ap]=="object"}function Qt(t){return Array.isArray(t)&&t[Ap]===!0}function Dl(t){return(t.flags&4)!==0}function ea(t){return t.componentOffset>-1}function ta(t){return(t.flags&1)===1}function fn(t){return!!t.template}function Iu(t){return(t[k]&512)!==0}var xu=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Np(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Ue(){return Rp}function Rp(t){return t.type.prototype.ngOnChanges&&(t.setInput=fC),dC}Ue.ngInherit=!0;function dC(){let t=Fp(this),e=t?.current;if(e){let n=t.previous;if(n===Mr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function fC(t,e,n,r,i){let o=this.declaredInputs[r],s=Fp(t)||hC(t,{previous:Mr,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new xu(u&&u.currentValue,n,c===Mr),Np(t,e,i,n)}var Op="__ngSimpleChanges__";function Fp(t){return t[Op]||null}function hC(t,e){return t[Op]=e}var xh=null;var Mt=function(t,e,n){xh?.(t,e,n)},kp="svg",pC="math";function Nt(t){for(;Array.isArray(t);)t=t[Zt];return t}function Pp(t,e){return Nt(e[t])}function et(t,e){return Nt(e[t.index])}function wl(t,e){return t.data[e]}function Lp(t,e){return t[e]}function yn(t,e){let n=e[t];return un(n)?n:n[Zt]}function bl(t){return(t[k]&128)===128}function mC(t){return Qt(t[Oe])}function hn(t,e){return e==null?null:t[e]}function Vp(t){t[wr]=0}function jp(t){t[k]&1024||(t[k]|=1024,bl(t)&&ra(t))}function gC(t,e){for(;t>0;)e=e[jr],t--;return e}function na(t){return!!(t[k]&9216||t[Xe]?.dirty)}function Mu(t){t[At].changeDetectionScheduler?.notify(8),t[k]&64&&(t[k]|=1024),na(t)&&ra(t)}function ra(t){t[At].changeDetectionScheduler?.notify(0);let e=qn(t);for(;e!==null&&!(e[k]&8192||(e[k]|=8192,!bl(e)));)e=qn(e)}function $p(t,e){if((t[k]&256)===256)throw new _(911,!1);t[cn]===null&&(t[cn]=[]),t[cn].push(e)}function vC(t,e){if(t[cn]===null)return;let n=t[cn].indexOf(e);n!==-1&&t[cn].splice(n,1)}function qn(t){let e=t[Oe];return Qt(e)?e[Oe]:e}var q={lFrame:Yp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Bp=!1;function yC(){return q.lFrame.elementDepthCount}function CC(){q.lFrame.elementDepthCount++}function DC(){q.lFrame.elementDepthCount--}function Up(){return q.bindingsEnabled}function wC(){return q.skipHydrationRootTNode!==null}function bC(t){return q.skipHydrationRootTNode===t}function EC(){q.skipHydrationRootTNode=null}function J(){return q.lFrame.lView}function Te(){return q.lFrame.tView}function X(t){return q.lFrame.contextLView=t,t[Me]}function ee(t){return q.lFrame.contextLView=null,t}function ke(){let t=Hp();for(;t!==null&&t.type===64;)t=t.parent;return t}function Hp(){return q.lFrame.currentTNode}function _C(){let t=q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Kn(t,e){let n=q.lFrame;n.currentTNode=t,n.isParent=e}function El(){return q.lFrame.isParent}function zp(){q.lFrame.isParent=!1}function IC(){return q.lFrame.contextLView}function qp(){return Bp}function Mh(t){Bp=t}function _l(){let t=q.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function xC(){return q.lFrame.bindingIndex}function MC(t){return q.lFrame.bindingIndex=t}function Ui(){return q.lFrame.bindingIndex++}function Gp(t){let e=q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function SC(){return q.lFrame.inI18n}function TC(t,e){let n=q.lFrame;n.bindingIndex=n.bindingRootIndex=t,Su(e)}function AC(){return q.lFrame.currentDirectiveIndex}function Su(t){q.lFrame.currentDirectiveIndex=t}function NC(t){let e=q.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Wp(t){q.lFrame.currentQueryIndex=t}function RC(t){let e=t[$];return e.type===2?e.declTNode:e.type===1?t[gt]:null}function Zp(t,e,n){if(n&Z.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Z.Host);)if(i=RC(o),i===null||(o=o[jr],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=q.lFrame=Qp();return r.currentTNode=e,r.lView=t,!0}function Il(t){let e=Qp(),n=t[$];q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Qp(){let t=q.lFrame,e=t===null?null:t.child;return e===null?Yp(t):e}function Yp(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Kp(){let t=q.lFrame;return q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Jp=Kp;function xl(){let t=Kp();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function OC(t){return(q.lFrame.contextLView=gC(t,q.lFrame.contextLView))[Me]}function Cn(){return q.lFrame.selectedIndex}function Gn(t){q.lFrame.selectedIndex=t}function Ml(){let t=q.lFrame;return wl(t.tView,t.selectedIndex)}function me(){q.lFrame.currentNamespace=kp}function FC(){return q.lFrame.currentNamespace}var Xp=!0;function ia(){return Xp}function oa(t){Xp=t}function kC(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Rp(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function sa(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Cs(t,e,n){em(t,e,3,n)}function Ds(t,e,n,r){(t[k]&3)===n&&em(t,e,n,r)}function su(t,e){let n=t[k];(n&3)===e&&(n&=16383,n+=1,t[k]=n)}function em(t,e,n,r){let i=r!==void 0?t[wr]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[wr]+=65536),(a<o||o==-1)&&(PC(t,n,e,c),t[wr]=(t[wr]&4294901760)+c+2),c++}function Sh(t,e){Mt(4,t,e);let n=W(null);try{e.call(t)}finally{W(n),Mt(5,t,e)}}function PC(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[k]>>14<t[wr]>>16&&(t[k]&3)===e&&(t[k]+=16384,Sh(a,o)):Sh(a,o)}var Ir=-1,Wn=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function LC(t){return t instanceof Wn}function VC(t){return(t.flags&8)!==0}function jC(t){return(t.flags&16)!==0}var au={},Tu=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ys(r);let i=this.injector.get(e,au,r);return i!==au||n===au?i:this.parentInjector.get(e,n,r)}};function tm(t){return t!==Ir}function Ns(t){return t&32767}function $C(t){return t>>16}function Rs(t,e){let n=$C(t),r=e;for(;n>0;)r=r[jr],n--;return r}var Au=!0;function Os(t){let e=Au;return Au=t,e}var BC=256,nm=BC-1,rm=5,UC=0,St={};function HC(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Si)&&(r=n[Si]),r==null&&(r=n[Si]=UC++);let i=r&nm,o=1<<i;e.data[t+(i>>rm)]|=o}function Fs(t,e){let n=im(t,e);if(n!==-1)return n;let r=e[$];r.firstCreatePass&&(t.injectorIndex=e.length,cu(r.data,t),cu(e,null),cu(r.blueprint,null));let i=Sl(t,e),o=t.injectorIndex;if(tm(i)){let s=Ns(i),a=Rs(i,e),c=a[$].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function cu(t,e){t.push(0,0,0,0,0,0,0,0,e)}function im(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Sl(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=um(i),r===null)return Ir;if(n++,i=i[jr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ir}function Nu(t,e,n){HC(t,e,n)}function zC(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(mp(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function om(t,e,n){if(n&Z.Optional||t!==void 0)return t;pl(e,"NodeInjector")}function sm(t,e,n,r){if(n&Z.Optional&&r===void 0&&(r=null),!(n&(Z.Self|Z.Host))){let i=t[Ar],o=$e(void 0);try{return i?i.get(e,r,n&Z.Optional):up(e,r,n&Z.Optional)}finally{$e(o)}}return om(r,e,n)}function am(t,e,n,r=Z.Default,i){if(t!==null){if(e[k]&2048&&!(r&Z.Self)){let s=QC(t,e,n,r,St);if(s!==St)return s}let o=cm(t,e,n,r,St);if(o!==St)return o}return sm(e,n,r,i)}function cm(t,e,n,r,i){let o=WC(n);if(typeof o=="function"){if(!Zp(e,t,r))return r&Z.Host?om(i,n,r):sm(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Z.Optional))pl(n);else return s}finally{Jp()}}else if(typeof o=="number"){let s=null,a=im(t,e),c=Ir,u=r&Z.Host?e[pt][gt]:null;for((a===-1||r&Z.SkipSelf)&&(c=a===-1?Sl(t,e):e[a+8],c===Ir||!Ah(r,!1)?a=-1:(s=e[$],a=Ns(c),e=Rs(c,e)));a!==-1;){let l=e[$];if(Th(o,a,l.data)){let d=qC(a,e,n,s,r,u);if(d!==St)return d}c=e[a+8],c!==Ir&&Ah(r,e[$].data[a+8]===u)&&Th(o,a,e)?(s=l,a=Ns(c),e=Rs(c,e)):a=-1}}return i}function qC(t,e,n,r,i,o){let s=e[$],a=s.data[t+8],c=r==null?ea(a)&&Au:r!=s&&(a.type&3)!==0,u=i&Z.Host&&o===a,l=GC(a,s,n,c,u);return l!==null?Or(e,s,l,a):St}function GC(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,u=t.directiveEnd,l=o>>20,d=r?a:a+l,g=i?a+l:u;for(let p=d;p<g;p++){let D=s[p];if(p<c&&n===D||p>=c&&D.type===n)return p}if(i){let p=s[c];if(p&&fn(p)&&p.type===n)return c}return null}function Or(t,e,n,r){let i=t[n],o=e.data;if(LC(i)){let s=i;s.resolving&&I0(_0(o[n]));let a=Os(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?$e(s.injectImpl):null,l=Zp(t,r,Z.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&kC(n,o[n],e)}finally{u!==null&&$e(u),Os(a),s.resolving=!1,Jp()}}return i}function WC(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Si)?t[Si]:void 0;return typeof e=="number"?e>=0?e&nm:ZC:e}function Th(t,e,n){let r=1<<t;return!!(n[e+(t>>rm)]&r)}function Ah(t,e){return!(t&Z.Self)&&!(t&Z.Host&&e)}var Un=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return am(this._tNode,this._lView,e,Ys(r),n)}};function ZC(){return new Un(ke(),J())}function Dn(t){return ji(()=>{let e=t.prototype.constructor,n=e[Es]||Ru(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Es]||Ru(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Ru(t){return rp(t)?()=>{let e=Ru(Ne(t));return e&&e()}:Hn(t)}function QC(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[k]&2048&&!(s[k]&512);){let a=cm(o,s,n,r|Z.Self,St);if(a!==St)return a;let c=o.parent;if(!c){let u=s[Tp];if(u){let l=u.get(n,St,r);if(l!==St)return l}c=um(s),s=s[jr]}o=c}return i}function um(t){let e=t[$],n=e.type;return n===2?e.declTNode:n===1?t[gt]:null}function Tl(t){return zC(ke(),t)}function Nh(t,e=null,n=null,r){let i=lm(t,e,n,r);return i.resolveInjectorInitializers(),i}function lm(t,e=null,n=null,r,i=new Set){let o=[n||Je,X0(t)];return r=r||(typeof t=="object"?void 0:Be(t)),new Ni(o,e||Cl(),r||null,i)}var $n=class $n{static create(e,n){if(Array.isArray(e))return Nh({name:""},n,e,"");{let r=e.name??"";return Nh({name:r},e.parent,e.providers,r)}}};$n.THROW_IF_NOT_FOUND=Ti,$n.NULL=new xs,$n.\u0275prov=E({token:$n,providedIn:"any",factory:()=>O(fp)}),$n.__NG_ELEMENT_ID__=-1;var Se=$n;var YC=new M("");YC.__NG_ELEMENT_ID__=t=>{let e=ke();if(e===null)throw new _(204,!1);if(e.type&2)return e.value;if(t&Z.Optional)return null;throw new _(204,!1)};var KC="ngOriginalError";function uu(t){return t[KC]}var dm=!0,wn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=JC,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Ou=class extends wn{constructor(e){super(),this._lView=e}onDestroy(e){return $p(this._lView,e),()=>vC(this._lView,e)}};function JC(){return new Ou(J())}var Jn=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _e(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Fu=class extends se{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Sp()&&(this.destroyRef=m(wn,{optional:!0})??void 0,this.pendingTasks=m(Jn,{optional:!0})??void 0)}emit(e){let n=W(null);try{super.next(e)}finally{W(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof he&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ve=Fu;function ks(...t){}function fm(t){let e,n;function r(){t=ks;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Rh(t){return queueMicrotask(()=>t()),()=>{t=ks}}var Al="isAngularZone",Ps=Al+"_ID",XC=0,de=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ve(!1),this.onMicrotaskEmpty=new ve(!1),this.onStable=new ve(!1),this.onError=new ve(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=dm}=e;if(typeof Zone>"u")throw new _(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,nD(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Al)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new _(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new _(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,eD,ks,ks);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},eD={};function Nl(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function tD(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){fm(()=>{t.callbackScheduled=!1,ku(t),t.isCheckStableRunning=!0,Nl(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),ku(t)}function nD(t){let e=()=>{tD(t)},n=XC++;t._inner=t._inner.fork({name:"angular",properties:{[Al]:!0,[Ps]:n,[Ps+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(rD(c))return r.invokeTask(o,s,a,c);try{return Oh(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Fh(t)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return Oh(t),r.invoke(o,s,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!iD(c)&&e(),Fh(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,ku(t),Nl(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function ku(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Oh(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Fh(t){t._nesting--,Nl(t)}var Ls=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ve,this.onMicrotaskEmpty=new ve,this.onStable=new ve,this.onError=new ve}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function rD(t){return hm(t,"__ignore_ng_zone__")}function iD(t){return hm(t,"__scheduler_tick__")}function hm(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var mt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&uu(e);for(;n&&uu(n);)n=uu(n);return n||null}},oD=new M("",{providedIn:"root",factory:()=>{let t=m(de),e=m(mt);return n=>t.runOutsideAngular(()=>e.handleError(n))}}),Pu=class{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=m(mt,{optional:!0}),this.destroyRef=m(wn),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new _(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed)throw new _(953,!1);if(this.listeners===null)return;let n=W(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{W(n)}}};function Ft(t){return new Pu}function kh(t,e){return tp(t,e)}function sD(t){return tp(ep,t)}var P=(kh.required=sD,kh);function aD(){return aa(ke(),J())}function aa(t,e){return new vt(et(t,e))}var vt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=aD;let t=e;return t})();function pm(t){return(t.flags&128)===128}var mm=new Map,cD=0;function uD(){return cD++}function lD(t){mm.set(t[Xs],t)}function Lu(t){mm.delete(t[Xs])}var Ph="__ngContext__";function pn(t,e){un(e)?(t[Ph]=e[Xs],lD(e)):t[Ph]=e}function gm(t){return ym(t[Oi])}function vm(t){return ym(t[ht])}function ym(t){for(;t!==null&&!Qt(t);)t=t[ht];return t}var Vu;function Cm(t){Vu=t}function dD(){if(Vu!==void 0)return Vu;if(typeof document<"u")return document;throw new _(210,!1)}var Rl=new M("",{providedIn:"root",factory:()=>fD}),fD="ng",Ol=new M(""),yt=new M("",{providedIn:"platform",factory:()=>"unknown"});var Fl=new M("",{providedIn:"root",factory:()=>dD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var hD="h",pD="b";var mD=()=>null;function kl(t,e,n=!1){return mD(t,e,n)}var Dm=!1,gD=new M("",{providedIn:"root",factory:()=>Dm});var hs;function vD(){if(hs===void 0&&(hs=null,vu.trustedTypes))try{hs=vu.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hs}function Lh(t){return vD()?.createScriptURL(t)||t}var Vs=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xh})`}};function Hi(t){return t instanceof Vs?t.changingThisBreaksApplicationSecurity:t}function Pl(t,e){let n=yD(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Xh})`)}return n===e}function yD(t){return t instanceof Vs&&t.getTypeName()||null}var CD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wm(t){return t=String(t),t.match(CD)?t:"unsafe:"+t}var ca=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ca||{});function Ll(t){let e=Em();return e?e.sanitize(ca.URL,t)||"":Pl(t,"URL")?Hi(t):wm(xr(t))}function DD(t){let e=Em();if(e)return Lh(e.sanitize(ca.RESOURCE_URL,t)||"");if(Pl(t,"ResourceURL"))return Lh(Hi(t));throw new _(904,!1)}function wD(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?DD:Ll}function bm(t,e,n){return wD(e,n)(t)}function Em(){let t=J();return t&&t[At].sanitizer}var bD=/^>|^->|<!--|-->|--!>|<!-$/g,ED=/(<|>)/g,_D="\u200B$1\u200B";function ID(t){return t.replace(bD,e=>e.replace(ED,_D))}function _m(t){return t.ownerDocument.defaultView}function Im(t){return t instanceof Function?t():t}function xD(t){return(t??m(Se)).get(yt)==="browser"}var Gt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Gt||{}),MD;function Vl(t,e){return MD(t,e)}function br(t,e,n,r,i){if(r!=null){let o,s=!1;Qt(r)?o=r:un(r)&&(s=!0,r=r[Zt]);let a=Nt(r);t===0&&n!==null?i==null?Tm(e,n,a):js(e,n,a,i||null,!0):t===1&&n!==null?js(e,n,a,i||null,!0):t===2?HD(e,a,s):t===3&&e.destroyNode(a),o!=null&&qD(e,t,o,n,i)}}function SD(t,e){return t.createText(e)}function TD(t,e,n){t.setValue(e,n)}function AD(t,e){return t.createComment(ID(e))}function xm(t,e,n){return t.createElement(e,n)}function ND(t,e){Mm(t,e),e[Zt]=null,e[gt]=null}function RD(t,e,n,r,i,o){r[Zt]=i,r[gt]=e,da(t,r,n,1,i,o)}function Mm(t,e){e[At].changeDetectionScheduler?.notify(9),da(t,e,e[be],2,null,null)}function OD(t){let e=t[Oi];if(!e)return lu(t[$],t);for(;e;){let n=null;if(un(e))n=e[Oi];else{let r=e[Re];r&&(n=r)}if(!n){for(;e&&!e[ht]&&e!==t;)un(e)&&lu(e[$],e),e=e[Oe];e===null&&(e=t),un(e)&&lu(e[$],e),n=e&&e[ht]}e=n}}function FD(t,e,n,r){let i=Re+r,o=n.length;r>0&&(n[i-1][ht]=e),r<o-Re?(e[ht]=n[i],dp(n,Re+r,e)):(n.push(e),e[ht]=null),e[Oe]=n;let s=e[Nr];s!==null&&n!==s&&Sm(s,e);let a=e[Rr];a!==null&&a.insertView(t),Mu(e),e[k]|=128}function Sm(t,e){let n=t[Ts],r=e[Oe];if(un(r))t[k]|=As.HasTransplantedViews;else{let i=r[Oe][pt];e[pt]!==i&&(t[k]|=As.HasTransplantedViews)}n===null?t[Ts]=[e]:n.push(e)}function jl(t,e){let n=t[Ts],r=n.indexOf(e);n.splice(r,1)}function Fi(t,e){if(t.length<=Re)return;let n=Re+e,r=t[n];if(r){let i=r[Nr];i!==null&&i!==t&&jl(i,r),e>0&&(t[n-1][ht]=r[ht]);let o=Is(t,Re+e);ND(r[$],r);let s=o[Rr];s!==null&&s.detachView(o[$]),r[Oe]=null,r[ht]=null,r[k]&=-129}return r}function ua(t,e){if(!(e[k]&256)){let n=e[be];n.destroyNode&&da(t,e,n,3,null,null),OD(e)}}function lu(t,e){if(e[k]&256)return;let n=W(null);try{e[k]&=-129,e[k]|=256,e[Xe]&&Po(e[Xe]),PD(t,e),kD(t,e),e[$].type===1&&e[be].destroy();let r=e[Nr];if(r!==null&&Qt(e[Oe])){r!==e[Oe]&&jl(r,e);let i=e[Rr];i!==null&&i.detachView(t)}Lu(e)}finally{W(n)}}function kD(t,e){let n=t.cleanup,r=e[Ms];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Ms]=null);let i=e[cn];if(i!==null){e[cn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function PD(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Wn)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Mt(4,a,c);try{c.call(a)}finally{Mt(5,a,c)}}else{Mt(4,i,o);try{o.call(i)}finally{Mt(5,i,o)}}}}}function LD(t,e,n){return VD(t,e.parent,n)}function VD(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Zt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Tt.None||o===Tt.Emulated)return null}return et(r,n)}}function js(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Tm(t,e,n){t.appendChild(e,n)}function Vh(t,e,n,r,i){r!==null?js(t,e,n,r,i):Tm(t,e,n)}function Am(t,e){return t.parentNode(e)}function jD(t,e){return t.nextSibling(e)}function $D(t,e,n){return UD(t,e,n)}function BD(t,e,n){return t.type&40?et(t,n):null}var UD=BD,jh;function la(t,e,n,r){let i=LD(t,r,e),o=e[be],s=r.parent||e[gt],a=$D(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Vh(o,i,n[c],a,!1);else Vh(o,i,n,a,!1);jh!==void 0&&jh(o,r,e,n,i)}function Mi(t,e){if(e!==null){let n=e.type;if(n&3)return et(e,t);if(n&4)return ju(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Mi(t,r);{let i=t[e.index];return Qt(i)?ju(-1,i):Nt(i)}}else{if(n&128)return Mi(t,e.next);if(n&32)return Vl(e,t)()||Nt(t[e.index]);{let r=Nm(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=qn(t[pt]);return Mi(i,r)}else return Mi(t,e.next)}}}return null}function Nm(t,e){if(e!==null){let r=t[pt][gt],i=e.projection;return r.projection[i]}return null}function ju(t,e){let n=Re+t+1;if(n<e.length){let r=e[n],i=r[$].firstChild;if(i!==null)return Mi(r,i)}return e[zn]}function HD(t,e,n){t.removeChild(null,e,n)}function $l(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&pn(Nt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)$l(t,e,n.child,r,i,o,!1),br(e,t,i,a,o);else if(c&32){let u=Vl(n,r),l;for(;l=u();)br(e,t,i,l,o);br(e,t,i,a,o)}else c&16?zD(t,e,r,n,i,o):br(e,t,i,a,o);n=s?n.projectionNext:n.next}}function da(t,e,n,r,i,o){$l(n,r,t.firstChild,e,i,o,!1)}function zD(t,e,n,r,i,o){let s=n[pt],c=s[gt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];br(e,t,i,l,o)}else{let u=c,l=s[Oe];pm(r)&&(u.flags|=128),$l(t,e,u,l,i,o,!0)}}function qD(t,e,n,r,i){let o=n[zn],s=Nt(n);o!==s&&br(e,t,r,o,i);for(let a=Re;a<n.length;a++){let c=n[a];da(c[$],c,t,e,r,o)}}function GD(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Gt.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Gt.Important),t.setStyle(n,r,i,o))}}function WD(t,e,n){t.setAttribute(e,"style",n)}function Rm(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Om(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&wu(t,e,r),i!==null&&Rm(t,e,i),o!==null&&WD(t,e,o)}var tt={};function w(t=1){Fm(Te(),J(),Cn()+t,!1)}function Fm(t,e,n,r){if(!r)if((e[k]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Cs(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Ds(e,o,0,n)}Gn(n)}function V(t,e=Z.Default){let n=J();if(n===null)return O(t,e);let r=ke();return am(r,n,Ne(t),e)}function km(){let t="invalid";throw new Error(t)}function Pm(t,e,n,r,i,o){let s=W(null);try{let a=null;i&ln.SignalBased&&(a=e[r][Et]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ln.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):Np(e,a,r,o)}finally{W(s)}}function ZD(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Gn(~i);else{let o=i,s=n[++r],a=n[++r];TC(s,o);let c=e[o];a(2,c)}}}finally{Gn(-1)}}function fa(t,e,n,r,i,o,s,a,c,u,l){let d=e.blueprint.slice();return d[Zt]=i,d[k]=r|4|128|8|64,(u!==null||t&&t[k]&2048)&&(d[k]|=2048),Vp(d),d[Oe]=d[jr]=t,d[Me]=n,d[At]=s||t&&t[At],d[be]=a||t&&t[be],d[Ar]=c||t&&t[Ar]||null,d[gt]=o,d[Xs]=uD(),d[Ri]=l,d[Tp]=u,d[pt]=e.type==2?t[pt]:d,d}function zi(t,e,n,r,i){let o=t.data[e];if(o===null)o=QD(t,e,n,r,i),SC()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=_C();o.injectorIndex=s===null?-1:s.injectorIndex}return Kn(o,!0),o}function QD(t,e,n,r,i){let o=Hp(),s=El(),a=s?o:o&&o.parent,c=t.data[e]=ew(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function Lm(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Vm(t,e,n,r,i){let o=Cn(),s=r&2;try{Gn(-1),s&&e.length>Fe&&Fm(t,e,Fe,!1),Mt(s?2:0,i),n(r,i)}finally{Gn(o),Mt(s?3:1,i)}}function Bl(t,e,n){if(Dl(e)){let r=W(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{W(r)}}}function Ul(t,e,n){Up()&&(sw(t,e,n,et(n,e)),(n.flags&64)===64&&Um(t,e,n))}function Hl(t,e,n=et){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function jm(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=zl(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function zl(t,e,n,r,i,o,s,a,c,u,l){let d=Fe+r,g=d+i,p=YD(d,g),D=typeof u=="function"?u():u;return p[$]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:D,incompleteFirstPass:!1,ssrId:l}}function YD(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:tt);return n}function KD(t,e,n,r){let o=r.get(gD,Dm)||n===Tt.ShadowDom,s=t.selectRootElement(e,o);return JD(s),s}function JD(t){XD(t)}var XD=()=>null;function ew(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return wC()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function $h(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=ln.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}t===0?Bh(r,n,u,a,c):Bh(r,n,u,a)}return r}function Bh(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function tw(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=o[l],g=n?n.get(d):null,p=g?g.inputs:null,D=g?g.outputs:null;c=$h(0,d.inputs,l,c,p),u=$h(1,d.outputs,l,u,D);let F=c!==null&&s!==null&&!vl(e)?vw(c,l,s):null;a.push(F)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function nw(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function $m(t,e,n,r,i,o,s,a){let c=et(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(Gl(t,n,l,r,i),ea(e)&&rw(n,e.index)):e.type&3?(r=nw(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function rw(t,e){let n=yn(e,t);n[k]&16||(n[k]|=64)}function ql(t,e,n,r){if(Up()){let i=r===null?null:{"":-1},o=cw(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Bm(t,e,n,s,i,a),i&&uw(n,r,i)}n.mergedAttrs=Ai(n.mergedAttrs,n.attrs)}function Bm(t,e,n,r,i,o){for(let u=0;u<r.length;u++)Nu(Fs(n,e),t,r[u].type);dw(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=Lm(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=Ai(n.mergedAttrs,l.hostAttrs),fw(t,n,e,c,l),lw(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}tw(t,n,o)}function iw(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;ow(s)!=a&&s.push(a),s.push(n,r,o)}}function ow(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function sw(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;ea(n)&&hw(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Fs(n,e),pn(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],u=Or(e,t,a,n);if(pn(u,e),s!==null&&gw(e,a-i,u,c,n,s),fn(c)){let l=yn(n.index,e);l[Me]=Or(e,t,a,n)}}}function Um(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=AC();try{Gn(o);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Su(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&aw(c,u)}}finally{Gn(-1),Su(s)}}function aw(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function cw(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(z0(e,s.selectors,!1))if(r||(r=[]),fn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;$u(t,e,c)}else r.unshift(s),$u(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function $u(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function uw(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new _(-301,!1);r.push(e[i],o)}}}function lw(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;fn(e)&&(n[""]=t)}}function dw(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function fw(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Hn(i.type,!0)),s=new Wn(o,fn(i),V);t.blueprint[r]=s,n[r]=s,iw(t,e,r,Lm(t,n,i.hostVars,tt),i)}function hw(t,e,n){let r=et(e,t),i=jm(n),o=t[At].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=ha(t,fa(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function pw(t,e,n,r,i,o){let s=et(t,e);mw(e[be],s,o,t.value,n,r,i)}function mw(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?xr(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function gw(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],l=s[a++],d=s[a++];Pm(r,n,c,u,l,d)}}function vw(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function Hm(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function zm(t,e){let n=t.contentQueries;if(n!==null){let r=W(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Wp(o),a.contentQueries(2,e[s],s)}}}finally{W(r)}}}function ha(t,e){return t[Oi]?t[Ih][ht]=e:t[Oi]=e,t[Ih]=e,e}function Bu(t,e,n){Wp(0);let r=W(null);try{e(t,n)}finally{W(r)}}function yw(t){return t[Ms]??=[]}function Cw(t){return t.cleanup??=[]}function qm(t,e){let n=t[Ar],r=n?n.get(mt,null):null;r&&r.handleError(e)}function Gl(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],u=e[s],l=t.data[s];Pm(l,u,r,a,c,i)}}function Gm(t,e,n){let r=Pp(e,t);TD(t[be],r,n)}function Dw(t,e){let n=yn(e,t),r=n[$];ww(r,n);let i=n[Zt];i!==null&&n[Ri]===null&&(n[Ri]=kl(i,n[Ar])),Wl(r,n,n[Me])}function ww(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Wl(t,e,n){Il(e);try{let r=t.viewQuery;r!==null&&Bu(1,r,n);let i=t.template;i!==null&&Vm(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Rr]?.finishViewCreation(t),t.staticContentQueries&&zm(t,e),t.staticViewQueries&&Bu(2,t.viewQuery,n);let o=t.components;o!==null&&bw(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[k]&=-5,xl()}}function bw(t,e){for(let n=0;n<e.length;n++)Dw(t,e[n])}function pa(t,e,n,r){let i=W(null);try{let o=e.tView,a=t[k]&4096?4096:16,c=fa(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[Nr]=u;let l=t[Rr];return l!==null&&(c[Rr]=l.createEmbeddedView(o)),Wl(o,c,n),c}finally{W(i)}}function Wm(t,e){let n=Re+e;if(n<t.length)return t[n]}function ki(t,e){return!e||e.firstChild===null||pm(t)}function ma(t,e,n,r=!0){let i=e[$];if(FD(i,e,t,n),r){let s=ju(n,t),a=e[be],c=Am(a,t[zn]);c!==null&&RD(i,t[gt],a,e,c,s)}let o=e[Ri];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Zm(t,e){let n=Fi(t,e);return n!==void 0&&ua(n[$],n),n}function $s(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Nt(o)),Qt(o)&&Ew(o,r);let s=n.type;if(s&8)$s(t,e,n.child,r);else if(s&32){let a=Vl(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Nm(e,n);if(Array.isArray(a))r.push(...a);else{let c=qn(e[pt]);$s(c[$],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Ew(t,e){for(let n=Re;n<t.length;n++){let r=t[n],i=r[$].firstChild;i!==null&&$s(r[$],r,i,e)}t[zn]!==t[Zt]&&e.push(t[zn])}var Qm=[];function _w(t){return t[Xe]??Iw(t)}function Iw(t){let e=Qm.pop()??Object.create(Mw);return e.lView=t,e}function xw(t){t.lView[Xe]!==t&&(t.lView=null,Qm.push(t))}var Mw=R(y({},cr),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ra(t.lView)},consumerOnSignalRead(){this.lView[Xe]=this}});function Sw(t){let e=t[Xe]??Object.create(Tw);return e.lView=t,e}var Tw=R(y({},cr),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=qn(t.lView);for(;e&&!Ym(e[$]);)e=qn(e);e&&jp(e)},consumerOnSignalRead(){this.lView[Xe]=this}});function Ym(t){return t.type!==2}var Aw=100;function Km(t,e=!0,n=0){let r=t[At],i=r.rendererFactory,o=!1;o||i.begin?.();try{Nw(t,n)}catch(s){throw e&&qm(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Nw(t,e){let n=qp();try{Mh(!0),Uu(t,e);let r=0;for(;na(t);){if(r===Aw)throw new _(103,!1);r++,Uu(t,1)}}finally{Mh(n)}}function Rw(t,e,n,r){let i=e[k];if((i&256)===256)return;let o=!1,s=!1;!o&&e[At].inlineEffectRunner?.flush(),Il(e);let a=!0,c=null,u=null;o||(Ym(t)?(u=_w(e),c=yi(u)):_f()===null?(a=!1,u=Sw(e),c=yi(u)):e[Xe]&&(Po(e[Xe]),e[Xe]=null));try{Vp(e),MC(t.bindingStartIndex),n!==null&&Vm(t,e,n,2,r);let l=(i&3)===3;if(!o)if(l){let p=t.preOrderCheckHooks;p!==null&&Cs(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Ds(e,p,0,null),su(e,0)}if(s||Ow(e),Jm(e,0),t.contentQueries!==null&&zm(t,e),!o)if(l){let p=t.contentCheckHooks;p!==null&&Cs(e,p)}else{let p=t.contentHooks;p!==null&&Ds(e,p,1),su(e,1)}ZD(t,e);let d=t.components;d!==null&&eg(e,d,0);let g=t.viewQuery;if(g!==null&&Bu(2,g,r),!o)if(l){let p=t.viewCheckHooks;p!==null&&Cs(e,p)}else{let p=t.viewHooks;p!==null&&Ds(e,p,2),su(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ys]){for(let p of e[ys])p();e[ys]=null}o||(e[k]&=-73)}catch(l){throw o||ra(e),l}finally{u!==null&&(Fo(u,c),a&&xw(u)),xl()}}function Jm(t,e){for(let n=gm(t);n!==null;n=vm(n))for(let r=Re;r<n.length;r++){let i=n[r];Xm(i,e)}}function Ow(t){for(let e=gm(t);e!==null;e=vm(e)){if(!(e[k]&As.HasTransplantedViews))continue;let n=e[Ts];for(let r=0;r<n.length;r++){let i=n[r];jp(i)}}}function Fw(t,e,n){let r=yn(e,t);Xm(r,n)}function Xm(t,e){bl(t)&&Uu(t,e)}function Uu(t,e){let r=t[$],i=t[k],o=t[Xe],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ko(o)),s||=!1,o&&(o.dirty=!1),t[k]&=-9217,s)Rw(r,t,r.template,t[Me]);else if(i&8192){Jm(t,1);let a=r.components;a!==null&&eg(t,a,1)}}function eg(t,e,n){for(let r=0;r<e.length;r++)Fw(t,e[r],n)}function Zl(t,e){let n=qp()?64:1088;for(t[At].changeDetectionScheduler?.notify(e);t;){t[k]|=n;let r=qn(t);if(Iu(t)&&!r)return t;t=r}return null}var Zn=class{get rootNodes(){let e=this._lView,n=e[$];return $s(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Me]}set context(e){this._lView[Me]=e}get destroyed(){return(this._lView[k]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Oe];if(Qt(e)){let n=e[Ss],r=n?n.indexOf(this):-1;r>-1&&(Fi(e,r),Is(n,r))}this._attachedToViewContainer=!1}ua(this._lView[$],this._lView)}onDestroy(e){$p(this._lView,e)}markForCheck(){Zl(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[k]&=-129}reattach(){Mu(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,Km(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Iu(this._lView),n=this._lView[Nr];n!==null&&!e&&jl(n,this._lView),Mm(this._lView[$],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new _(902,!1);this._appRef=e;let n=Iu(this._lView),r=this._lView[Nr];r!==null&&!n&&Sm(r,this._lView),Mu(this._lView)}},tg=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Lw;let t=e;return t})(),kw=tg,Pw=class extends kw{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=pa(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Zn(i)}};function Lw(){return ng(ke(),J())}function ng(t,e){return t.type&4?new Pw(e,t,aa(t,e)):null}var yF=new RegExp(`^(\\d+)*(${pD}|${hD})*(.*)`);var Vw=()=>null;function Pi(t,e){return Vw(t,e)}var Qn=class{},Ql=new M("",{providedIn:"root",factory:()=>!1});var rg=new M(""),Yl=new M(""),Hu=class{},Bs=class{};function jw(t){let e=Error(`No component factory found for ${Be(t)}.`);return e[$w]=t,e}var $w="ngComponent";var zu=class{resolveComponentFactory(e){throw jw(e)}},nd=class nd{};nd.NULL=new zu;var Fr=nd,kr=class{},kt=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Bw();let t=e;return t})();function Bw(){let t=J(),e=ke(),n=yn(e.index,t);return(un(n)?n:t)[be]}var Uw=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function Us(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=mh(i,a);else if(o==2){let c=a,u=e[++s];r=mh(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Hs=class extends Fr{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=dn(e);return new Pr(n,this.ngModule)}};function Uh(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:ln.None;e?n.push({propName:s,templateName:r,isSignal:(a&ln.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function Hw(t){let e=t.toLowerCase();return e==="svg"?kp:e==="math"?pC:null}var Pr=class extends Bs{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Uh(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Uh(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Z0(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=W(null);try{i=i||this.ngModule;let s=i instanceof Qe?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Tu(e,s):e,c=a.get(kr,null);if(c===null)throw new _(407,!1);let u=a.get(Uw,null),l=a.get(Qn,null),d={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:l},g=c.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",D=r?KD(g,r,this.componentDef.encapsulation,a):xm(g,p,Hw(p)),F=512;this.componentDef.signals?F|=4096:this.componentDef.onPush||(F|=16);let K=null;D!==null&&(K=kl(D,a,!0));let Q=zl(0,null,null,1,0,null,null,null,null,null,null),fe=fa(null,Q,null,F,null,null,d,g,a,null,K);Il(fe);let Ve,lt,sr=null;try{let We=this.componentDef,ar,kc=null;We.findHostDirectiveDefs?(ar=[],kc=new Map,We.findHostDirectiveDefs(We,ar,kc),ar.push(We)):ar=[We];let My=zw(fe,D);sr=qw(My,D,We,ar,fe,d,g),lt=wl(Q,Fe),D&&Zw(g,We,D,r),n!==void 0&&Qw(lt,this.ngContentSelectors,n),Ve=Ww(sr,We,ar,kc,fe,[Yw]),Wl(Q,fe,null)}catch(We){throw sr!==null&&Lu(sr),Lu(fe),We}finally{xl()}return new qu(this.componentType,Ve,aa(lt,fe),fe,lt)}finally{W(o)}}},qu=class extends Hu{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Zn(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Gl(o[$],o,i,e,n),this.previousInputValues.set(e,n);let s=yn(this._tNode.index,o);Zl(s,1)}}get injector(){return new Un(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function zw(t,e){let n=t[$],r=Fe;return t[r]=e,zi(n,r,2,"#host",null)}function qw(t,e,n,r,i,o,s){let a=i[$];Gw(r,t,e,s);let c=null;e!==null&&(c=kl(e,i[Ar]));let u=o.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=fa(i,jm(n),null,l,i[t.index],t,o,u,null,null,c);return a.firstCreatePass&&$u(a,t,r.length-1),ha(i,d),i[t.index]=d}function Gw(t,e,n,r){for(let i of t)e.mergedAttrs=Ai(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Us(e,e.mergedAttrs,!0),n!==null&&Om(r,n,e))}function Ww(t,e,n,r,i,o){let s=ke(),a=i[$],c=et(s,i);Bm(a,i,s,n,null,r);for(let l=0;l<n.length;l++){let d=s.directiveStart+l,g=Or(i,a,d,s);pn(g,i)}Um(a,i,s),c&&pn(c,i);let u=Or(i,a,s.directiveStart+s.componentOffset,s);if(t[Me]=i[Me]=u,o!==null)for(let l of o)l(u,e);return Bl(a,s,i),u}function Zw(t,e,n,r){if(r)wu(t,n,["ng-version","18.2.2"]);else{let{attrs:i,classes:o}=Q0(e.selectors[0]);i&&wu(t,n,i),o&&o.length>0&&Rm(t,n,o.join(" "))}}function Qw(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function Yw(){let t=ke();sa(J()[$],t)}var qi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Kw;let t=e;return t})();function Kw(){let t=ke();return Xw(t,J())}var Jw=qi,ig=class extends Jw{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return aa(this._hostTNode,this._hostLView)}get injector(){return new Un(this._hostTNode,this._hostLView)}get parentInjector(){let e=Sl(this._hostTNode,this._hostLView);if(tm(e)){let n=Rs(e,this._hostLView),r=Ns(e),i=n[$].data[r+8];return new Un(i,n)}else return new Un(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Hh(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Re}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Pi(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,ki(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!lC(e),a;if(s)a=n;else{let D=n||{};a=D.index,r=D.injector,i=D.projectableNodes,o=D.environmentInjector||D.ngModuleRef}let c=s?e:new Pr(dn(e)),u=r||this.parentInjector;if(!o&&c.ngModule==null){let F=(s?u:this.parentInjector).get(Qe,null);F&&(o=F)}let l=dn(c.componentType??{}),d=Pi(this._lContainer,l?.id??null),g=d?.firstChild??null,p=c.create(u,i,g,o);return this.insertImpl(p.hostView,a,ki(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(mC(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Oe],u=new ig(c,c[gt],c[Oe]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return ma(s,i,o,r),e.attachToViewContainerRef(),dp(du(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Hh(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Fi(this._lContainer,n);r&&(Is(du(this._lContainer),n),ua(r[$],r))}detach(e){let n=this._adjustIndex(e,-1),r=Fi(this._lContainer,n);return r&&Is(du(this._lContainer),n)!=null?new Zn(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Hh(t){return t[Ss]}function du(t){return t[Ss]||(t[Ss]=[])}function Xw(t,e){let n,r=e[t.index];return Qt(r)?n=r:(n=Hm(r,e,null,t),e[t.index]=n,ha(e,n)),tb(n,e,t,r),new ig(n,t,e)}function eb(t,e){let n=t[be],r=n.createComment(""),i=et(e,t),o=Am(n,i);return js(n,o,r,jD(n,i),!1),r}var tb=ib,nb=()=>!1;function rb(t,e,n){return nb(t,e,n)}function ib(t,e,n,r){if(t[zn])return;let i;n.type&8?i=Nt(r):i=eb(e,n),t[zn]=i}var zh=new Set;function Yt(t){zh.has(t)||(zh.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function ae(t,e){Yt("NgSignals");let n=Pf(t),r=n[Et];return e?.equal&&(r.equal=e.equal),n.set=i=>jo(r,i),n.update=i=>Lf(r,i),n.asReadonly=ob.bind(n),n}function ob(){let t=this[Et];if(t.readonlyFn===void 0){let e=()=>this();e[Et]=t,t.readonlyFn=e}return t.readonlyFn}function sb(t){return Object.getPrototypeOf(t.prototype).constructor}function nt(t){let e=sb(t.type),n=!0,r=[t];for(;e;){let i;if(fn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new _(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=ps(t.inputs),s.inputTransforms=ps(t.inputTransforms),s.declaredInputs=ps(t.declaredInputs),s.outputs=ps(t.outputs);let a=i.hostBindings;a&&db(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&ub(t,c),u&&lb(t,u),ab(t,i),g0(t.outputs,i.outputs),fn(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===nt&&(n=!1)}}e=Object.getPrototypeOf(e)}cb(r)}function ab(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function cb(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ai(i.hostAttrs,n=Ai(n,i.hostAttrs))}}function ps(t){return t===Mr?{}:t===Je?[]:t}function ub(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function lb(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function db(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Kl(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var mn=class{},Li=class{};var Gu=class extends mn{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Hs(this);let o=wp(e);this._bootstrapComponents=Im(o.bootstrap),this._r3Injector=lm(e,n,[{provide:mn,useValue:this},{provide:Fr,useValue:this.componentFactoryResolver},...r],Be(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Wu=class extends Li{constructor(e){super(),this.moduleType=e}create(e){return new Gu(this.moduleType,e,[])}};var zs=class extends mn{constructor(e){super(),this.componentFactoryResolver=new Hs(this),this.instance=null;let n=new Ni([...e.providers,{provide:mn,useValue:this},{provide:Fr,useValue:this.componentFactoryResolver}],e.parent||Cl(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ga(t,e,n=null){return new zs({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function og(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function sg(t,e,n){return t[e]=n}function fb(t,e){return t[e]}function Wt(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function hb(t,e,n,r){let i=Wt(t,e,n);return Wt(t,e+1,r)||i}function pb(t){return(t.flags&32)===32}function mb(t,e,n,r,i,o,s,a,c){let u=e.consts,l=zi(e,t,4,s||null,a||null);ql(e,n,l,hn(u,c)),sa(e,l);let d=l.tView=zl(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function Zu(t,e,n,r,i,o,s,a,c,u){let l=n+Fe,d=e.firstCreatePass?mb(l,e,t,r,i,o,s,a,c):e.data[l];Kn(d,!1);let g=gb(e,t,d,n);ia()&&la(e,t,g,d),pn(g,t);let p=Hm(g,t,g,d);return t[l]=p,ha(t,p),rb(p,d,t),ta(d)&&Ul(e,t,d),c!=null&&Hl(t,d,u),d}function G(t,e,n,r,i,o,s,a){let c=J(),u=Te(),l=hn(u.consts,o);return Zu(c,u,t,e,n,r,i,l,s,a),G}var gb=vb;function vb(t,e,n,r){return oa(!0),e[be].createComment("")}var Er=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Er||{}),ag=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Bn=class Bn{constructor(){this.ngZone=m(de),this.scheduler=m(Qn),this.errorHandler=m(mt,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Bn.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Bn.PHASES=[Er.EarlyRead,Er.Write,Er.MixedReadWrite,Er.Read],Bn.\u0275prov=E({token:Bn,providedIn:"root",factory:()=>new Bn});var Qu=Bn,Yu=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Jl(t,e){!e?.injector&&Bi(Jl);let n=e?.injector??m(Se);return xD(n)?(Yt("NgAfterNextRender"),Cb(t,n,e,!0)):Db}function yb(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function Cb(t,e,n,r){let i=e.get(ag);i.impl??=e.get(Qu);let o=n?.phase??Er.MixedReadWrite,s=new Yu(i.impl,yb(t,o),r,e.get(wn));return i.impl.register(s),s}var Db={destroy(){}};function ce(t,e,n,r){let i=J(),o=Ui();if(Wt(i,o,e)){let s=Te(),a=Ml();pw(a,i,t,e,n,r)}return ce}function cg(t,e,n,r){return Wt(t,Ui(),n)?e+xr(n)+r:tt}function wb(t,e,n,r,i,o){let s=xC(),a=hb(t,s,n,i);return Gp(2),a?e+xr(n)+r+xr(i)+o:tt}function ms(t,e){return t<<17|e<<2}function Yn(t){return t>>17&32767}function bb(t){return(t&2)==2}function Eb(t,e){return t&131071|e<<17}function Ku(t){return t|2}function Lr(t){return(t&131068)>>2}function fu(t,e){return t&-131069|e<<2}function _b(t){return(t&1)===1}function Ju(t){return t|1}function Ib(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Yn(s),c=Lr(s);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||$i(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let g=Yn(t[a+1]);t[r+1]=ms(g,a),g!==0&&(t[g+1]=fu(t[g+1],r)),t[a+1]=Eb(t[a+1],r)}else t[r+1]=ms(a,0),a!==0&&(t[a+1]=fu(t[a+1],r)),a=r;else t[r+1]=ms(c,0),a===0?a=r:t[c+1]=fu(t[c+1],r),c=r;u&&(t[r+1]=Ku(t[r+1])),qh(t,l,r,!0),qh(t,l,r,!1),xb(e,l,t,r,o),s=ms(a,c),o?e.classBindings=s:e.styleBindings=s}function xb(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&$i(o,e)>=0&&(n[r+1]=Ju(n[r+1]))}function qh(t,e,n,r){let i=t[n+1],o=e===null,s=r?Yn(i):Lr(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],u=t[s+1];Mb(c,e)&&(a=!0,t[s+1]=r?Ju(u):Ku(u)),s=r?Yn(u):Lr(u)}a&&(t[n+1]=r?Ku(i):Ju(i))}function Mb(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?$i(t,e)>=0:!1}function N(t,e,n){let r=J(),i=Ui();if(Wt(r,i,e)){let o=Te(),s=Ml();$m(o,s,r,t,e,r[be],n,!1)}return N}function Gh(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Gl(t,n,o[s],s,r)}function va(t,e){return Sb(t,e,null,!0),va}function Sb(t,e,n,r){let i=J(),o=Te(),s=Gp(2);if(o.firstUpdatePass&&Ab(o,t,s,r),e!==tt&&Wt(i,s,e)){let a=o.data[Cn()];kb(o,a,i,i[be],t,i[s+1]=Pb(e,n),r,s)}}function Tb(t,e){return e>=t.expandoStartIndex}function Ab(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Cn()],s=Tb(t,n);Lb(o,r)&&e===null&&!s&&(e=!1),e=Nb(i,o,e,r),Ib(i,o,e,n,s,r)}}function Nb(t,e,n,r){let i=NC(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=hu(null,t,e,n,r),n=Vi(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=hu(i,t,e,n,r),o===null){let c=Rb(t,e,r);c!==void 0&&Array.isArray(c)&&(c=hu(null,t,e,c[1],r),c=Vi(c,e.attrs,r),Ob(t,e,r,c))}else o=Fb(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function Rb(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Lr(r)!==0)return t[Yn(r)]}function Ob(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Yn(i)]=r}function Fb(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Vi(r,s,n)}return Vi(r,e.attrs,n)}function hu(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Vi(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Vi(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),P0(t,s,n?!0:e[++o]))}return t===void 0?null:t}function kb(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=_b(u)?Wh(c,e,n,i,Lr(u),s):void 0;if(!qs(l)){qs(o)||bb(u)&&(o=Wh(c,null,n,i,a,s));let d=Pp(Cn(),n);GD(r,s,d,i,o)}}function Wh(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,g=n[i+1];g===tt&&(g=d?Je:void 0);let p=d?iu(g,r):l===r?g:void 0;if(u&&!qs(p)&&(p=iu(c,r)),qs(p)&&(a=p,s))return a;let D=t[i+1];i=s?Yn(D):Lr(D)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=iu(c,r))}return a}function qs(t){return t!==void 0}function Pb(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Be(Hi(t)))),t}function Lb(t,e){return(t.flags&(e?8:16))!==0}var Xu=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function pu(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function Vb(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let u=t.at(o),l=e[o],d=pu(o,u,o,l,n);if(d!==0){d<0&&t.updateValue(o,l),o++;continue}let g=t.at(s),p=e[c],D=pu(s,g,c,p,n);if(D!==0){D<0&&t.updateValue(s,p),s--,c--;continue}let F=n(o,u),K=n(s,g),Q=n(o,l);if(Object.is(Q,K)){let fe=n(c,p);Object.is(fe,F)?(t.swap(o,s),t.updateValue(s,p),c--,s--):t.move(s,o),t.updateValue(o,l),o++;continue}if(r??=new Gs,i??=Qh(t,o,s,n),el(t,r,o,Q))t.updateValue(o,l),o++,s++;else if(i.has(Q))r.set(F,t.detach(o)),s--;else{let fe=t.create(o,e[o]);t.attach(o,fe),o++,s++}}for(;o<=c;)Zh(t,r,n,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&o<=s;){let l=t.at(o),d=u.value,g=pu(o,l,o,d,n);if(g!==0)g<0&&t.updateValue(o,d),o++,u=c.next();else{r??=new Gs,i??=Qh(t,o,s,n);let p=n(o,d);if(el(t,r,o,p))t.updateValue(o,d),o++,s++,u=c.next();else if(!i.has(p))t.attach(o,t.create(o,d)),o++,s++,u=c.next();else{let D=n(o,l);r.set(D,t.detach(o)),s--}}}for(;!u.done;)Zh(t,r,n,t.length,u.value),u=c.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(c=>{t.destroy(c)})}function el(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function Zh(t,e,n,r,i){if(el(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function Qh(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Gs=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function B(t,e){Yt("NgControlFlow");let n=J(),r=Ui(),i=n[r]!==tt?n[r]:-1,o=i!==-1?Ws(n,Fe+i):void 0,s=0;if(Wt(n,r,t)){let a=W(null);try{if(o!==void 0&&Zm(o,s),t!==-1){let c=Fe+t,u=Ws(n,c),l=il(n[$],c),d=Pi(u,l.tView.ssrId),g=pa(n,l,e,{dehydratedView:d});ma(u,g,s,ki(l,d))}}finally{W(a)}}else if(o!==void 0){let a=Wm(o,s);a!==void 0&&(a[Me]=e)}}var tl=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Re}};function Xn(t){return t}function ya(t,e){return e}var nl=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function He(t,e,n,r,i,o,s,a,c,u,l,d,g){Yt("NgControlFlow");let p=J(),D=Te(),F=c!==void 0,K=J(),Q=a?s.bind(K[pt][Me]):s,fe=new nl(F,Q);K[Fe+t]=fe,Zu(p,D,t+1,e,n,r,i,hn(D.consts,o)),F&&Zu(p,D,t+2,c,u,l,d,hn(D.consts,g))}var rl=class extends Xu{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Re}at(e){return this.getLView(e)[Me].$implicit}attach(e,n){let r=n[Ri];this.needsIndexUpdate||=e!==this.length,ma(this.lContainer,n,e,ki(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,jb(this.lContainer,e)}create(e,n){let r=Pi(this.lContainer,this.templateTNode.tView.ssrId),i=pa(this.hostLView,this.templateTNode,new tl(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){ua(e[$],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Me].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Me].$index=e}getLView(e){return $b(this.lContainer,e)}};function ze(t){let e=W(null),n=Cn();try{let r=J(),i=r[$],o=r[n],s=n+1,a=Ws(r,s);if(o.liveCollection===void 0){let u=il(i,s);o.liveCollection=new rl(a,r,u)}else o.liveCollection.reset();let c=o.liveCollection;if(Vb(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let u=Ui(),l=c.length===0;if(Wt(r,u,l)){let d=n+2,g=Ws(r,d);if(l){let p=il(i,d),D=Pi(g,p.tView.ssrId),F=pa(r,p,void 0,{dehydratedView:D});ma(g,F,0,ki(p,D))}else Zm(g,0)}}}finally{W(e)}}function Ws(t,e){return t[e]}function jb(t,e){return Fi(t,e)}function $b(t,e){return Wm(t,e)}function il(t,e){return wl(t,e)}function Bb(t,e,n,r,i,o){let s=e.consts,a=hn(s,i),c=zi(e,t,2,r,a);return ql(e,n,c,hn(s,o)),c.attrs!==null&&Us(c,c.attrs,!1),c.mergedAttrs!==null&&Us(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function f(t,e,n,r){let i=J(),o=Te(),s=Fe+t,a=i[be],c=o.firstCreatePass?Bb(s,o,i,e,n,r):o.data[s],u=Ub(o,i,c,a,e,t);i[s]=u;let l=ta(c);return Kn(c,!0),Om(a,u,c),!pb(c)&&ia()&&la(o,i,u,c),yC()===0&&pn(u,i),CC(),l&&(Ul(o,i,c),Bl(o,c,i)),r!==null&&Hl(i,c),f}function h(){let t=ke();El()?zp():(t=t.parent,Kn(t,!1));let e=t;bC(e)&&EC(),DC();let n=Te();return n.firstCreatePass&&(sa(n,t),Dl(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&VC(e)&&Gh(n,e,J(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&jC(e)&&Gh(n,e,J(),e.stylesWithoutHost,!1),h}function b(t,e,n,r){return f(t,e,n,r),h(),b}var Ub=(t,e,n,r,i,o)=>(oa(!0),xm(r,i,FC()));function Hb(t,e,n,r,i){let o=e.consts,s=hn(o,r),a=zi(e,t,8,"ng-container",s);s!==null&&Us(a,s,!0);let c=hn(o,i);return ql(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function ug(t,e,n){let r=J(),i=Te(),o=t+Fe,s=i.firstCreatePass?Hb(o,i,r,e,n):i.data[o];Kn(s,!0);let a=zb(i,r,s,t);return r[o]=a,ia()&&la(i,r,a,s),pn(a,r),ta(s)&&(Ul(i,r,s),Bl(i,s,r)),n!=null&&Hl(r,s),ug}function lg(){let t=ke(),e=Te();return El()?zp():(t=t.parent,Kn(t,!1)),e.firstCreatePass&&(sa(e,t),Dl(t)&&e.queries.elementEnd(t)),lg}function Ca(t,e,n){return ug(t,e,n),lg(),Ca}var zb=(t,e,n,r)=>(oa(!0),AD(e[be],""));function te(){return J()}var Zs="en-US";var qb=Zs;function Gb(t){typeof t=="string"&&(qb=t.toLowerCase().replace(/_/g,"-"))}var Wb=(t,e,n)=>{};function I(t,e,n,r){let i=J(),o=Te(),s=ke();return Qb(o,i,i[be],s,t,e,r),I}function Zb(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Ms],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Qb(t,e,n,r,i,o,s){let a=ta(r),u=t.firstCreatePass&&Cw(t),l=e[Me],d=yw(e),g=!0;if(r.type&3||s){let F=et(r,e),K=s?s(F):F,Q=d.length,fe=s?lt=>s(Nt(lt[r.index])):r.index,Ve=null;if(!s&&a&&(Ve=Zb(t,e,i,r.index)),Ve!==null){let lt=Ve.__ngLastListenerFn__||Ve;lt.__ngNextListenerFn__=o,Ve.__ngLastListenerFn__=o,g=!1}else{o=Kh(r,e,l,o),Wb(F,i,o);let lt=n.listen(K,i,o);d.push(o,lt),u&&u.push(i,fe,Q,Q+1)}}else o=Kh(r,e,l,o);let p=r.outputs,D;if(g&&p!==null&&(D=p[i])){let F=D.length;if(F)for(let K=0;K<F;K+=2){let Q=D[K],fe=D[K+1],sr=e[Q][fe].subscribe(o),We=d.length;d.push(o,sr),u&&u.push(i,r.index,We,-(We+1))}}}function Yh(t,e,n,r){let i=W(null);try{return Mt(6,e,n),n(r)!==!1}catch(o){return qm(t,o),!1}finally{Mt(7,e,n),W(i)}}function Kh(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?yn(t.index,e):e;Zl(s,5);let a=Yh(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Yh(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function C(t=1){return OC(t)}function Gi(t,e,n){return Da(t,"",e,"",n),Gi}function Da(t,e,n,r,i){let o=J(),s=cg(o,e,n,r);if(s!==tt){let a=Te(),c=Ml();$m(a,c,o,t,s,o[be],i,!1)}return Da}function Yb(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function wa(t){let e=IC();return Lp(e,Fe+t)}function v(t,e=""){let n=J(),r=Te(),i=t+Fe,o=r.firstCreatePass?zi(r,i,1,e,null):r.data[i],s=Kb(r,n,o,e,t);n[i]=s,ia()&&la(r,n,s,o),Kn(o,!1)}var Kb=(t,e,n,r,i)=>(oa(!0),SD(e[be],r));function Ce(t){return qe("",t,""),Ce}function qe(t,e,n){let r=J(),i=cg(r,t,e,n);return i!==tt&&Gm(r,Cn(),i),qe}function Xl(t,e,n,r,i){let o=J(),s=wb(o,t,e,n,r,i);return s!==tt&&Gm(o,Cn(),s),Xl}function Jb(t,e,n){let r=Te();if(r.firstCreatePass){let i=fn(t);ol(n,r.data,r.blueprint,i,!0),ol(e,r.data,r.blueprint,i,!1)}}function ol(t,e,n,r,i){if(t=Ne(t),Array.isArray(t))for(let o=0;o<t.length;o++)ol(t[o],e,n,r,i);else{let o=Te(),s=J(),a=ke(),c=Tr(t)?t:Ne(t.provide),u=Mp(t),l=a.providerIndexes&1048575,d=a.directiveStart,g=a.providerIndexes>>20;if(Tr(t)||!t.multi){let p=new Wn(u,i,V),D=gu(c,e,i?l:l+g,d);D===-1?(Nu(Fs(a,s),o,c),mu(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),s.push(p)):(n[D]=p,s[D]=p)}else{let p=gu(c,e,l+g,d),D=gu(c,e,l,l+g),F=p>=0&&n[p],K=D>=0&&n[D];if(i&&!K||!i&&!F){Nu(Fs(a,s),o,c);let Q=tE(i?eE:Xb,n.length,i,r,u);!i&&K&&(n[D].providerFactory=Q),mu(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(Q),s.push(Q)}else{let Q=dg(n[i?D:p],u,!i&&r);mu(o,t,p>-1?p:D,Q)}!i&&r&&K&&n[D].componentProviders++}}}function mu(t,e,n,r){let i=Tr(e),o=rC(e);if(i||o){let c=(o?Ne(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function dg(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function gu(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Xb(t,e,n,r){return sl(this.multi,[])}function eE(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Or(n,n[$],this.providerFactory.index,r);o=a.slice(0,s),sl(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],sl(i,o);return o}function sl(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function tE(t,e,n,r,i){let o=new Wn(t,n,V);return o.multi=[],o.index=e,o.componentProviders=0,dg(o,i,r&&!n),o}function bn(t,e=[]){return n=>{n.providersResolver=(r,i)=>Jb(r,i?i(t):t,e)}}var nE=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=_p(!1,r.type),o=i.length>0?ga([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=E({token:e,providedIn:"environment",factory:()=>new e(O(Qe))});let t=e;return t})();function T(t){Yt("NgStandalone"),t.getStandaloneInjector=e=>e.get(nE).getOrCreateStandaloneInjector(t)}function $r(t,e,n){let r=_l()+t,i=J();return i[r]===tt?sg(i,r,n?e.call(n):e()):fb(i,r)}function Ct(t,e,n,r){return fg(J(),_l(),t,e,n,r)}function rE(t,e){let n=t[e];return n===tt?void 0:n}function fg(t,e,n,r,i,o){let s=e+n;return Wt(t,s,i)?sg(t,s+1,o?r.call(o,i):r(i)):rE(t,s+1)}function hg(t,e){let n=Te(),r,i=t+Fe;n.firstCreatePass?(r=iE(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Hn(r.type,!0)),s,a=$e(V);try{let c=Os(!1),u=o();return Os(c),Yb(n,J(),i,u),u}finally{$e(a)}}function iE(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function pg(t,e,n){let r=t+Fe,i=J(),o=Lp(i,r);return oE(i,r)?fg(i,_l(),e,o.transform,n,o):o.transform(n)}function oE(t,e){return t[$].data[e].pure}function mg(t,e){return ng(t,e)}var ba=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var gg=new M("");function er(t){return!!t&&typeof t.then=="function"}function vg(t){return!!t&&typeof t.subscribe=="function"}var Br=new M(""),yg=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=m(Br,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(er(s))r.push(s);else if(vg(s)){let a=new Promise((c,u)=>{s.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ea=new M("");function sE(){kf(()=>{throw new _(600,!1)})}function aE(t){return t.isBoundToModule}var cE=10;function uE(t,e,n){try{let r=n();return er(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Pt=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=m(oD),this.afterRenderManager=m(ag),this.zonelessEnabled=m(Ql),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new se,this.afterTick=new se,this.componentTypes=[],this.components=[],this.isStable=m(Jn).hasPendingTasks.pipe(L(r=>!r)),this._injector=m(Qe)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Bs;if(!this._injector.get(yg).done){let p=!o&&Dp(r),D=!1;throw new _(405,D)}let a;o?a=r:a=this._injector.get(Fr).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=aE(a)?void 0:this._injector.get(mn),u=i||a.selector,l=a.create(Se.NULL,[],u,c),d=l.location.nativeElement,g=l.injector.get(gg,null);return g?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),ws(this.components,l),g?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new _(101,!1);let r=W(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,W(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(kr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<cE;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:o,notifyErrorHandler:s}of this._views)lE(o,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>na(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;ws(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Ea,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ws(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new _(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ws(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function lE(t,e,n,r){if(!n&&!na(t))return;Km(t,e,n&&!r?0:1)}var al=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},_a=(()=>{let e=class e{compileModuleSync(r){return new Wu(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=wp(r),s=Im(o.declarations).reduce((a,c)=>{let u=dn(c);return u&&a.push(new Pr(u)),a},[]);return new al(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var dE=(()=>{let e=class e{constructor(){this.zone=m(de),this.changeDetectionScheduler=m(Qn),this.applicationRef=m(Pt)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fE({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new de(R(y({},hE()),{scheduleInRootZone:n})),[{provide:de,useFactory:t},{provide:Sr,multi:!0,useFactory:()=>{let r=m(dE,{optional:!0});return()=>r.initialize()}},{provide:Sr,multi:!0,useFactory:()=>{let r=m(pE);return()=>{r.initialize()}}},e===!0?{provide:rg,useValue:!0}:[],{provide:Yl,useValue:n??dm}]}function hE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var pE=(()=>{let e=class e{constructor(){this.subscription=new he,this.initialized=!1,this.zone=m(de),this.pendingTasks=m(Jn)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{de.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{de.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Cg=(()=>{let e=class e{constructor(){this.appRef=m(Pt),this.taskService=m(Jn),this.ngZone=m(de),this.zonelessEnabled=m(Ql),this.disableScheduling=m(rg,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new he,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ps):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(m(Yl,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ls||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Rh:fm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ps+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Rh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Dg(){return Yt("NgZoneless"),Vr([{provide:Qn,useExisting:Cg},{provide:de,useClass:Ls},{provide:Ql,useValue:!0},{provide:Yl,useValue:!1},[]])}function mE(){return typeof $localize<"u"&&$localize.locale||Zs}var ed=new M("",{providedIn:"root",factory:()=>m(ed,Z.Optional|Z.SkipSelf)||mE()});var wg=new M("");function gs(t){return!!t.platformInjector}function gE(t){let e=gs(t)?t.r3Injector:t.moduleRef.injector,n=e.get(de);return n.run(()=>{gs(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(mt,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),gs(t)){let o=()=>e.destroy(),s=t.platformInjector.get(wg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{ws(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return uE(r,n,()=>{let o=e.get(yg);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(ed,Zs);if(Gb(s||Zs),gs(t)){let a=e.get(Pt);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return vE(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function vE(t,e){let n=t.injector.get(Pt);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new _(-403,!1);e.push(t)}var bs=null;function yE(t=[],e){return Se.create({name:e,providers:[{provide:Js,useValue:"platform"},{provide:wg,useValue:new Set([()=>bs=null])},...t]})}function CE(t=[]){if(bs)return bs;let e=yE(t);return bs=e,sE(),DE(e),e}function DE(t){t.get(Ol,null)?.forEach(n=>n())}function bg(){return!1}var tr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=wE;let t=e;return t})();function wE(t){return bE(ke(),J(),(t&16)===16)}function bE(t,e,n){if(ea(t)&&!n){let r=yn(t.index,e);return new Zn(r,r)}else if(t.type&175){let r=e[pt];return new Zn(r,e)}return null}var cl=class{constructor(){}supports(e){return e instanceof Map||og(e)}create(){return new ul}},ul=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||og(e)))throw new _(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new ll(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},ll=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Jh(){return new td([new cl])}var td=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Jh()),deps:[[e,new ml,new Ks]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i)return i;throw new _(901,!1)}};e.\u0275prov=E({token:e,providedIn:"root",factory:Jh});let t=e;return t})();function Eg(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=CE(r),o=[fE({}),{provide:Qn,useExisting:Cg},...n||[]],s=new zs({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return gE({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var _g=new M("");function Ur(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ge(t,e){Yt("NgSignals");let n=Rf(t);return e?.equal&&(n[Et].equal=e.equal),n}function rt(t){let e=W(null);try{return t()}finally{W(e)}}var EE=new M("",{providedIn:"root",factory:()=>m(_E)}),_E=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>new dl});let t=e;return t})(),dl=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=m(Jn),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},fl=class{constructor(e,n,r,i,o,s){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=o,this.watcher=Vf(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(mt,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function Wi(t,e){Yt("NgSignals"),!e?.injector&&Bi(Wi);let n=e?.injector??m(Se),r=e?.manualCleanup!==!0?n.get(wn):null,i=new fl(n.get(EE),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),o=n.get(tr,null,{optional:!0});return!o||!(o._lView[k]&8)?i.watcher.notify():(o._lView[ys]??=[]).push(i.watcher.notify),i}function Ig(t){let e=dn(t);if(!e)return null;let n=new Pr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Ag=null;function Jt(){return Ag}function Ng(t){Ag??=t}var Ia=class{};var Pe=new M(""),ad=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>m(IE),providedIn:"platform"});let t=e;return t})(),Rg=new M(""),IE=(()=>{let e=class e extends ad{constructor(){super(),this._doc=m(Pe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Jt().getBaseHref(this._doc)}onPopState(r){let i=Jt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Jt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function cd(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function xg(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Kt(t){return t&&t[0]!=="?"?"?"+t:t}var Lt=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>m(ud),providedIn:"root"});let t=e;return t})(),Og=new M(""),ud=(()=>{let e=class e extends Lt{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??m(Pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return cd(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Kt(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Kt(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Kt(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(O(ad),O(Og,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ld=(()=>{let e=class e extends Lt{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=cd(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Kt(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Kt(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(O(ad),O(Og,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Hr=(()=>{let e=class e{constructor(r){this._subject=new ve,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=SE(xg(Mg(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Kt(i))}normalize(r){return e.stripTrailingSlash(ME(this._basePath,Mg(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Kt(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Kt(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Kt,e.joinWithSlash=cd,e.stripTrailingSlash=xg,e.\u0275fac=function(i){return new(i||e)(O(Lt))},e.\u0275prov=E({token:e,factory:()=>xE(),providedIn:"root"});let t=e;return t})();function xE(){return new Hr(O(Lt))}function ME(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Mg(t){return t.replace(/\/index.html$/,"")}function SE(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Fg(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var rd=/\s+/,Sg=[],zr=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=Sg,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(rd):Sg}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(rd):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(rd).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(V(vt),V(kt))},e.\u0275dir=ye({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var kg=(()=>{let e=class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,o):!1,get:(r,i,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,o)}})}};e.\u0275fac=function(i){return new(i||e)(V(qi))},e.\u0275dir=ye({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ue]});let t=e;return t})();function TE(t,e){return{key:t,value:e}}var Pg=(()=>{let e=class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=Tg}transform(r,i=Tg){if(!r||!(r instanceof Map)&&typeof r!="object")return null;this.differ??=this.differs.find(r).create();let o=this.differ.diff(r),s=i!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(a=>{this.keyValues.push(TE(a.key,a.currentValue))})),(o||s)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}};e.\u0275fac=function(i){return new(i||e)(V(td,16))},e.\u0275pipe=vp({name:"keyvalue",type:e,pure:!1,standalone:!0});let t=e;return t})();function Tg(t,e){let n=t.key,r=e.key;if(n===r)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(n===null)return 1;if(r===null)return-1;if(typeof n=="string"&&typeof r=="string")return n<r?-1:1;if(typeof n=="number"&&typeof r=="number")return n-r;if(typeof n=="boolean"&&typeof r=="boolean")return n<r?-1:1;let i=String(n),o=String(r);return i==o?0:i<o?-1:1}var dd="browser",AE="server";function Ma(t){return t===dd}function fd(t){return t===AE}var Sa=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>Ma(m(yt))?new id(m(Pe),window):new od});let t=e;return t})(),id=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=NE(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function NE(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var od=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},xa=class{};var md=class extends Ia{constructor(){super(...arguments),this.supportsDOMEvents=!0}},gd=class t extends md{static makeCurrent(){Ng(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=OE();return n==null?null:FE(n)}resetBaseElement(){Zi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Fg(document.cookie,e)}},Zi=null;function OE(){return Zi=Zi||document.querySelector("base"),Zi?Zi.getAttribute("href"):null}function FE(t){return new URL(t,document.baseURI).pathname}var kE=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Ta=new M(""),$g=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new _(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(O(Ta),O(de))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Qi=class{constructor(e){this._doc=e}},hd="ng-app-id",Bg=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=fd(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${hd}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(hd),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(hd,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(O(Pe),O(Rl),O(Fl,8),O(yt))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),pd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},yd=/%COMP%/g,Ug="%COMP%",PE=`_nghost-${Ug}`,LE=`_ngcontent-${Ug}`,VE=!0,jE=new M("",{providedIn:"root",factory:()=>VE});function $E(t){return LE.replace(yd,t)}function BE(t){return PE.replace(yd,t)}function Hg(t,e){return e.map(n=>n.replace(yd,t))}var Lg=(()=>{let e=class e{constructor(r,i,o,s,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=fd(c),this.defaultRenderer=new Yi(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Tt.ShadowDom&&(i=R(y({},i),{encapsulation:Tt.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Aa?o.applyToHost(r):o instanceof Ki&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case Tt.Emulated:s=new Aa(u,l,i,this.appId,d,a,c,g);break;case Tt.ShadowDom:return new vd(u,l,r,i,a,c,this.nonce,g);default:s=new Ki(u,l,i,d,a,c,g);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(O($g),O(Bg),O(Rl),O(jE),O(Pe),O(yt),O(de),O(Fl))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Yi=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(pd[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Vg(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Vg(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new _(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=pd[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=pd[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Gt.DashCase|Gt.Important)?e.style.setProperty(n,r,i&Gt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Gt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Jt().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Vg(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var vd=class extends Yi{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=Hg(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ki=class extends Yi{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Hg(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Aa=class extends Ki{constructor(e,n,r,i,o,s,a,c){let u=i+"-"+r.id;super(e,n,r,o,s,a,c,u),this.contentAttr=$E(u),this.hostAttr=BE(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},UE=(()=>{let e=class e extends Qi{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(O(Pe))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),HE=(()=>{let e=class e extends Qi{constructor(r){super(r),this.delegate=m(_g,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(O(Pe))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),jg=["alt","control","meta","shift"],zE={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qE={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},GE=(()=>{let e=class e extends Qi{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jt().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),jg.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=s,i.length!=0||s.length===0)return null;let u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let o=zE[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),jg.forEach(a=>{if(a!==o){let c=qE[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(O(Pe))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function zg(t,e){return Eg(y({rootComponent:t},WE(e)))}function WE(t){return{appProviders:[...JE,...t?.providers??[]],platformProviders:KE}}function ZE(){gd.makeCurrent()}function QE(){return new mt}function YE(){return Cm(document),document}var KE=[{provide:yt,useValue:dd},{provide:Ol,useValue:ZE,multi:!0},{provide:Pe,useFactory:YE,deps:[]}];var JE=[{provide:Js,useValue:"root"},{provide:mt,useFactory:QE,deps:[]},{provide:Ta,useClass:UE,multi:!0,deps:[Pe,de,yt]},{provide:Ta,useClass:GE,multi:!0,deps:[Pe]},{provide:Ta,useClass:HE,multi:!0},Lg,Bg,$g,{provide:kr,useExisting:Lg},{provide:xa,useClass:kE,deps:[]},[]];var qg=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(O(Pe))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var U="primary",ho=Symbol("RouteTitle"),Ed=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Yr(t){return new Ed(t)}function e_(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function t_(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vt(t[n],e[n]))return!1;return!0}function Vt(t,e){let n=t?_d(t):void 0,r=e?_d(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!nv(t[i],e[i]))return!1;return!0}function _d(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function nv(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function rv(t){return t.length>0?t[t.length-1]:null}function In(t){return Yc(t)?t:er(t)?ie(Promise.resolve(t)):A(t)}var n_={exact:ov,subset:sv},iv={exact:r_,subset:i_,ignored:()=>!0};function Gg(t,e,n){return n_[n.paths](t.root,e.root,n.matrixParams)&&iv[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function r_(t,e){return Vt(t,e)}function ov(t,e,n){if(!rr(t.segments,e.segments)||!Oa(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!ov(t.children[r],e.children[r],n))return!1;return!0}function i_(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>nv(t[n],e[n]))}function sv(t,e,n){return av(t,e,e.segments,n)}function av(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!rr(i,n)||e.hasChildren()||!Oa(i,n,r))}else if(t.segments.length===n.length){if(!rr(t.segments,n)||!Oa(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!sv(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!rr(t.segments,i)||!Oa(t.segments,i,r)||!t.children[U]?!1:av(t.children[U],e,o,r)}}function Oa(t,e,n){return e.every((r,i)=>iv[n](t[i].parameters,r.parameters))}var en=class{constructor(e=new ne([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Yr(this.queryParams),this._queryParamMap}toString(){return a_.serialize(this)}},ne=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fa(this)}},nr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Yr(this.parameters),this._parameterMap}toString(){return uv(this)}};function o_(t,e){return rr(t,e)&&t.every((n,r)=>Vt(n.parameters,e[r].parameters))}function rr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function s_(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===U&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==U&&(n=n.concat(e(i,r)))}),n}var po=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new Kr,providedIn:"root"});let t=e;return t})(),Kr=class{parse(e){let n=new xd(e);return new en(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ji(e.root,!0)}`,r=l_(e.queryParams),i=typeof e.fragment=="string"?`#${c_(e.fragment)}`:"";return`${n}${r}${i}`}},a_=new Kr;function Fa(t){return t.segments.map(e=>uv(e)).join("/")}function Ji(t,e){if(!t.hasChildren())return Fa(t);if(e){let n=t.children[U]?Ji(t.children[U],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==U&&r.push(`${i}:${Ji(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=s_(t,(r,i)=>i===U?[Ji(t.children[U],!1)]:[`${i}:${Ji(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[U]!=null?`${Fa(t)}/${n[0]}`:`${Fa(t)}/(${n.join("//")})`}}function cv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Na(t){return cv(t).replace(/%3B/gi,";")}function c_(t){return encodeURI(t)}function Id(t){return cv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ka(t){return decodeURIComponent(t)}function Wg(t){return ka(t.replace(/\+/g,"%20"))}function uv(t){return`${Id(t.path)}${u_(t.parameters)}`}function u_(t){return Object.entries(t).map(([e,n])=>`;${Id(e)}=${Id(n)}`).join("")}function l_(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Na(n)}=${Na(i)}`).join("&"):`${Na(n)}=${Na(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var d_=/^[^\/()?;#]+/;function Cd(t){let e=t.match(d_);return e?e[0]:""}var f_=/^[^\/()?;=#]+/;function h_(t){let e=t.match(f_);return e?e[0]:""}var p_=/^[^=?&#]+/;function m_(t){let e=t.match(p_);return e?e[0]:""}var g_=/^[^&#]+/;function v_(t){let e=t.match(g_);return e?e[0]:""}var xd=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ne([],{}):new ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[U]=new ne(e,n)),r}parseSegment(){let e=Cd(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new _(4009,!1);return this.capture(e),new nr(ka(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=h_(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Cd(this.remaining);i&&(r=i,this.capture(r))}e[ka(n)]=ka(r)}parseQueryParam(e){let n=m_(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=v_(this.remaining);s&&(r=s,this.capture(r))}let i=Wg(n),o=Wg(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Cd(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new _(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=U);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[U]:new ne([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new _(4011,!1)}};function lv(t){return t.segments.length>0?new ne([],{[U]:t}):t}function dv(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=dv(i);if(r===U&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ne(t.segments,e);return y_(n)}function y_(t){if(t.numberOfChildren===1&&t.children[U]){let e=t.children[U];return new ne(t.segments.concat(e.segments),e.children)}return t}function ir(t){return t instanceof en}function C_(t,e,n=null,r=null){let i=fv(t);return hv(i,e,n,r)}function fv(t){let e;function n(o){let s={};for(let c of o.children){let u=n(c);s[c.outlet]=u}let a=new ne(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=lv(r);return e??i}function hv(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Dd(i,i,i,n,r);let o=D_(e);if(o.toRoot())return Dd(i,i,new ne([],{}),n,r);let s=w_(o,i,t),a=s.processChildren?to(s.segmentGroup,s.index,o.commands):mv(s.segmentGroup,s.index,o.commands);return Dd(i,s.segmentGroup,a,n,r)}function Pa(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function io(t){return typeof t=="object"&&t!=null&&t.outlets}function Dd(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;t===e?s=n:s=pv(t,e,n);let a=lv(dv(s));return new en(a,o,i)}function pv(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=pv(o,e,n)}),new ne(t.segments,r)}var La=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Pa(r[0]))throw new _(4003,!1);let i=r.find(io);if(i&&i!==rv(r))throw new _(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function D_(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new La(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new La(n,e,r)}var Wr=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function w_(t,e,n){if(t.isAbsolute)return new Wr(e,!0,0);if(!n)return new Wr(e,!1,NaN);if(n.parent===null)return new Wr(n,!0,0);let r=Pa(t.commands[0])?0:1,i=n.segments.length-1+r;return b_(n,i,t.numberOfDoubleDots)}function b_(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new _(4005,!1);i=r.segments.length}return new Wr(r,!1,i-o)}function E_(t){return io(t[0])?t[0].outlets:{[U]:t}}function mv(t,e,n){if(t??=new ne([],{}),t.segments.length===0&&t.hasChildren())return to(t,e,n);let r=__(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ne(t.segments.slice(0,r.pathIndex),{});return o.children[U]=new ne(t.segments.slice(r.pathIndex),t.children),to(o,0,i)}else return r.match&&i.length===0?new ne(t.segments,{}):r.match&&!t.hasChildren()?Md(t,e,n):r.match?to(t,0,i):Md(t,e,n)}function to(t,e,n){if(n.length===0)return new ne(t.segments,{});{let r=E_(n),i={};if(Object.keys(r).some(o=>o!==U)&&t.children[U]&&t.numberOfChildren===1&&t.children[U].segments.length===0){let o=to(t.children[U],e,n);return new ne(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=mv(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ne(t.segments,i)}}function __(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(io(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Qg(c,u,s))return o;r+=2}else{if(!Qg(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Md(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(io(o)){let c=I_(o.outlets);return new ne(r,c)}if(i===0&&Pa(n[0])){let c=t.segments[e];r.push(new nr(c.path,Zg(n[0]))),i++;continue}let s=io(o)?o.outlets[U]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Pa(a)?(r.push(new nr(s,Zg(a))),i+=2):(r.push(new nr(s,{})),i++)}return new ne(r,{})}function I_(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Md(new ne([],{}),0,r))}),e}function Zg(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Qg(t,e,n){return t==n.path&&Vt(e,n.parameters)}var no="imperative",Ee=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ee||{}),it=class{constructor(e,n){this.id=e,this.url=n}},Jr=class extends it{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ee.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},jt=class extends it{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ee.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ke=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ke||{}),Va=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Va||{}),Xt=class extends it{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ee.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},En=class extends it{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ee.NavigationSkipped}},oo=class extends it{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ee.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ja=class extends it{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sd=class extends it{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Td=class extends it{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ee.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ad=class extends it{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nd=class extends it{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rd=class{constructor(e){this.route=e,this.type=Ee.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Od=class{constructor(e){this.route=e,this.type=Ee.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Fd=class{constructor(e){this.snapshot=e,this.type=Ee.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kd=class{constructor(e){this.snapshot=e,this.type=Ee.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pd=class{constructor(e){this.snapshot=e,this.type=Ee.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ld=class{constructor(e){this.snapshot=e,this.type=Ee.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$a=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ee.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},so=class{},Xr=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function x_(t,e){return t.providers&&!t._injector&&(t._injector=ga(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Dt(t){return t.outlet||U}function M_(t,e){let n=t.filter(r=>Dt(r)===e);return n.push(...t.filter(r=>Dt(r)!==e)),n}function mo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Vd=class{get injector(){return mo(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new go(this.rootInjector),this.attachRef=null}},go=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Vd(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(O(Qe))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ba=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=jd(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=jd(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=$d(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $d(e,this._root).map(n=>n.value)}};function jd(t,e){if(t===e.value)return e;for(let n of e.children){let r=jd(t,n);if(r)return r}return null}function $d(t,e){if(t===e.value)return[e];for(let n of e.children){let r=$d(t,n);if(r.length)return r.unshift(e),r}return[]}var Ye=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Gr(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ua=class extends Ba{constructor(e,n){super(e),this.snapshot=n,Qd(this,e)}toString(){return this.snapshot.toString()}};function gv(t){let e=S_(t),n=new _e([new nr("",{})]),r=new _e({}),i=new _e({}),o=new _e({}),s=new _e(""),a=new _n(n,r,o,s,i,U,t,e.root);return a.snapshot=e.root,new Ua(new Ye(a,[]),e)}function S_(t){let e={},n={},r={},i="",o=new Zr([],e,r,i,n,U,t,null,{});return new za("",new Ye(o,[]))}var _n=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(L(u=>u[ho]))??A(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(L(e=>Yr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(L(e=>Yr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ha(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:y(y({},e.params),t.params),data:y(y({},e.data),t.data),resolve:y(y(y(y({},t.data),e.data),i?.data),t._resolvedData)}:r={params:y({},t.params),data:y({},t.data),resolve:y(y({},t.data),t._resolvedData??{})},i&&yv(i)&&(r.resolve[ho]=i.title),r}var Zr=class{get title(){return this.data?.[ho]}constructor(e,n,r,i,o,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Yr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Yr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},za=class extends Ba{constructor(e,n){super(n),this.url=e,Qd(this,n)}toString(){return vv(this._root)}};function Qd(t,e){e.value._routerState=t,e.children.forEach(n=>Qd(t,n))}function vv(t){let e=t.children.length>0?` { ${t.children.map(vv).join(", ")} } `:"";return`${t.value}${e}`}function wd(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Vt(e.params,n.params)||t.paramsSubject.next(n.params),t_(e.url,n.url)||t.urlSubject.next(n.url),Vt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Bd(t,e){let n=Vt(t.params,e.params)&&o_(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Bd(t.parent,e.parent))}function yv(t){return typeof t.title=="string"||t.title===null}var Yd=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=U,this.activateEvents=new ve,this.deactivateEvents=new ve,this.attachEvents=new ve,this.detachEvents=new ve,this.parentContexts=m(go),this.location=m(qi),this.changeDetector=m(tr),this.inputBinder=m(Za,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new _(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new _(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new _(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new _(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Ud(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:u,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ye({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ue]});let t=e;return t})(),Ud=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===_n?this.route:e===go?this.childContexts:this.parent.get(e,n)}},Za=new M(""),Yg=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Ei([i.queryParams,i.params,i.data]).pipe(xe(([s,a,c],u)=>(c=y(y(y({},s),a),c),u===0?A(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=Ig(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function T_(t,e,n){let r=ao(t,e._root,n?n._root:void 0);return new Ua(r,e)}function ao(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=A_(t,e,n);return new Ye(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ao(t,a)),s}}let r=N_(e.value),i=e.children.map(o=>ao(t,o));return new Ye(r,i)}}function A_(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ao(t,r,i);return ao(t,r)})}function N_(t){return new _n(new _e(t.url),new _e(t.params),new _e(t.queryParams),new _e(t.fragment),new _e(t.data),t.outlet,t.component,t)}var co=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Cv="ngNavigationCancelingError";function qa(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ir(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Dv(!1,Ke.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Dv(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Cv]=!0,n.cancellationCode=e,n}function R_(t){return wv(t)&&ir(t.url)}function wv(t){return!!t&&t[Cv]}var O_=(t,e,n,r)=>L(i=>(new Hd(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Hd=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),wd(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Gr(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Gr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Gr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Gr(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ld(o.value.snapshot))}),e.children.length&&this.forwardEvent(new kd(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(wd(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),wd(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ga=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Qr=class{constructor(e,n){this.component=e,this.route=n}};function F_(t,e,n){let r=t._root,i=e?e._root:null;return Xi(r,i,n,[r.value])}function k_(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ti(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ip(t)?t:e.get(t):r}function Xi(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Gr(e);return t.children.forEach(s=>{P_(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ro(a,n.getContext(s),i)),i}function P_(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=L_(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ga(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Xi(t,e,a?a.children:null,r,i):Xi(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Qr(a.outlet.component,s))}else s&&ro(e,a,i),i.canActivateChecks.push(new Ga(r)),o.component?Xi(t,null,a?a.children:null,r,i):Xi(t,null,n,r,i);return i}function L_(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!rr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!rr(t.url,e.url)||!Vt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bd(t,e)||!Vt(t.queryParams,e.queryParams);case"paramsChange":default:return!Bd(t,e)}}function ro(t,e,n){let r=Gr(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ro(s,e.children.getContext(o),n):ro(s,null,n):ro(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Qr(e.outlet.component,i)):n.canDeactivateChecks.push(new Qr(null,i)):n.canDeactivateChecks.push(new Qr(null,i))}function vo(t){return typeof t=="function"}function V_(t){return typeof t=="boolean"}function j_(t){return t&&vo(t.canLoad)}function $_(t){return t&&vo(t.canActivate)}function B_(t){return t&&vo(t.canActivateChild)}function U_(t){return t&&vo(t.canDeactivate)}function H_(t){return t&&vo(t.canMatch)}function bv(t){return t instanceof qt||t?.name==="EmptyError"}var Ra=Symbol("INITIAL_VALUE");function ei(){return xe(t=>Ei(t.map(e=>e.pipe(we(1),ru(Ra)))).pipe(L(e=>{for(let n of e)if(n!==!0){if(n===Ra)return Ra;if(n===!1||z_(n))return n}return!0}),Ie(e=>e!==Ra),we(1)))}function z_(t){return ir(t)||t instanceof co}function q_(t,e){return le(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?A(R(y({},n),{guardsResult:!0})):G_(s,r,i,t).pipe(le(a=>a&&V_(a)?W_(r,o,t,e):A(a)),L(a=>R(y({},n),{guardsResult:a})))})}function G_(t,e,n,r){return ie(t).pipe(le(i=>J_(i.component,i.route,n,e,r)),xt(i=>i!==!0,!0))}function W_(t,e,n,r){return ie(e).pipe(Vn(i=>It(Q_(i.route.parent,r),Z_(i.route,r),K_(t,i.path,n),Y_(t,i.route,n))),xt(i=>i!==!0,!0))}function Z_(t,e){return t!==null&&e&&e(new Pd(t)),A(!0)}function Q_(t,e){return t!==null&&e&&e(new Fd(t)),A(!0)}function Y_(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return A(!0);let i=r.map(o=>Pn(()=>{let s=mo(e)??n,a=ti(o,s),c=$_(a)?a.canActivate(e,t):Ot(s,()=>a(e,t));return In(c).pipe(xt())}));return A(i).pipe(ei())}function K_(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>k_(s)).filter(s=>s!==null).map(s=>Pn(()=>{let a=s.guards.map(c=>{let u=mo(s.node)??n,l=ti(c,u),d=B_(l)?l.canActivateChild(r,t):Ot(u,()=>l(r,t));return In(d).pipe(xt())});return A(a).pipe(ei())}));return A(o).pipe(ei())}function J_(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return A(!0);let s=o.map(a=>{let c=mo(e)??i,u=ti(a,c),l=U_(u)?u.canDeactivate(t,e,n,r):Ot(c,()=>u(t,e,n,r));return In(l).pipe(xt())});return A(s).pipe(ei())}function X_(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return A(!0);let o=i.map(s=>{let a=ti(s,t),c=j_(a)?a.canLoad(e,n):Ot(t,()=>a(e,n));return In(c)});return A(o).pipe(ei(),Ev(r))}function Ev(t){return qc(pe(e=>{if(typeof e!="boolean")throw qa(t,e)}),L(e=>e===!0))}function eI(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return A(!0);let o=i.map(s=>{let a=ti(s,t),c=H_(a)?a.canMatch(e,n):Ot(t,()=>a(e,n));return In(c)});return A(o).pipe(ei(),Ev(r))}var uo=class{constructor(e){this.segmentGroup=e||null}},lo=class extends Error{constructor(e){super(),this.urlTree=e}};function qr(t){return nn(new uo(t))}function tI(t){return nn(new _(4e3,!1))}function nI(t){return nn(Dv(!1,Ke.GuardRejected))}var zd=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return A(r);if(i.numberOfChildren>1||!i.children[U])return tI(`${e.redirectTo}`);i=i.children[U]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:u,routeConfig:l,url:d,outlet:g,params:p,data:D,title:F}=i,K=Ot(o,()=>a({params:p,data:D,queryParams:c,fragment:u,routeConfig:l,url:d,outlet:g,title:F}));if(K instanceof en)throw new lo(K);n=K}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new lo(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new en(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new ne(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new _(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},qd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rI(t,e,n,r,i){let o=_v(t,e,n);return o.matched?(r=x_(e,r),eI(r,e,n,i).pipe(L(s=>s===!0?o:y({},qd)))):A(o)}function _v(t,e,n){if(e.path==="**")return iI(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?y({},qd):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||e_)(n,t,e);if(!i)return y({},qd);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?y(y({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function iI(t){return{matched:!0,parameters:t.length>0?rv(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Kg(t,e,n,r){return n.length>0&&aI(t,n,r)?{segmentGroup:new ne(e,sI(r,new ne(n,t.children))),slicedSegments:[]}:n.length===0&&cI(t,n,r)?{segmentGroup:new ne(t.segments,oI(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ne(t.segments,t.children),slicedSegments:n}}function oI(t,e,n,r){let i={};for(let o of n)if(Qa(t,e,o)&&!r[Dt(o)]){let s=new ne([],{});i[Dt(o)]=s}return y(y({},r),i)}function sI(t,e){let n={};n[U]=e;for(let r of t)if(r.path===""&&Dt(r)!==U){let i=new ne([],{});n[Dt(r)]=i}return n}function aI(t,e,n){return n.some(r=>Qa(t,e,r)&&Dt(r)!==U)}function cI(t,e,n){return n.some(r=>Qa(t,e,r))}function Qa(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function uI(t,e,n){return e.length===0&&!t.children[n]}var Gd=class{};function lI(t,e,n,r,i,o,s="emptyOnly"){return new Wd(t,e,n,r,i,s,o).recognize()}var dI=31,Wd=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new zd(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new _(4002,`'${e.segmentGroup}'`)}recognize(){let e=Kg(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(L(({children:n,rootSnapshot:r})=>{let i=new Ye(r,n),o=new za("",i),s=C_(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Zr([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),U,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,U,n).pipe(L(r=>({children:r,rootSnapshot:n})),on(r=>{if(r instanceof lo)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof uo?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(L(s=>s instanceof Ye?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ie(o).pipe(Vn(s=>{let a=r.children[s],c=M_(n,s);return this.processSegmentGroup(e,c,a,s,i)}),nu((s,a)=>(s.push(...a),s)),sn(null),eu(),le(s=>{if(s===null)return qr(r);let a=Iv(s);return fI(a),A(a)}))}processSegment(e,n,r,i,o,s,a){return ie(n).pipe(Vn(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(on(u=>{if(u instanceof uo)return A(null);throw u}))),xt(c=>!!c),on(c=>{if(bv(c))return uI(r,i,o)?A(new Gd):qr(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return Dt(r)!==s&&(s===U||!Qa(i,o,r))?qr(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):qr(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:d,remainingSegments:g}=_v(n,i,o);if(!c)return qr(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>dI&&(this.allowRedirects=!1));let p=new Zr(o,u,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Jg(i),Dt(i),i.component??i._loadedComponent??null,i,Xg(i)),D=Ha(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(D.params),p.data=Object.freeze(D.data);let F=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,d,p,e);return this.applyRedirects.lineralizeSegments(i,F).pipe(le(K=>this.processSegment(e,r,n,K.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=rI(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(xe(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(xe(({routes:u})=>{let l=r._loadedInjector??e,{parameters:d,consumedSegments:g,remainingSegments:p}=c,D=new Zr(g,d,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Jg(r),Dt(r),r.component??r._loadedComponent??null,r,Xg(r)),F=Ha(D,s,this.paramsInheritanceStrategy);D.params=Object.freeze(F.params),D.data=Object.freeze(F.data);let{segmentGroup:K,slicedSegments:Q}=Kg(n,g,p,u);if(Q.length===0&&K.hasChildren())return this.processChildren(l,u,K,D).pipe(L(Ve=>new Ye(D,Ve)));if(u.length===0&&Q.length===0)return A(new Ye(D,[]));let fe=Dt(r)===o;return this.processSegment(l,u,K,Q,fe?U:o,!0,D).pipe(L(Ve=>new Ye(D,Ve instanceof Ye?[Ve]:[])))}))):qr(n)))}getChildConfig(e,n,r){return n.children?A({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?A({routes:n._loadedRoutes,injector:n._loadedInjector}):X_(e,n,r,this.urlSerializer).pipe(le(i=>i?this.configLoader.loadChildren(e,n).pipe(pe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):nI(n))):A({routes:[],injector:e})}};function fI(t){t.sort((e,n)=>e.value.outlet===U?-1:n.value.outlet===U?1:e.value.outlet.localeCompare(n.value.outlet))}function hI(t){let e=t.value.routeConfig;return e&&e.path===""}function Iv(t){let e=[],n=new Set;for(let r of t){if(!hI(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Iv(r.children);e.push(new Ye(r.value,i))}return e.filter(r=>!n.has(r))}function Jg(t){return t.data||{}}function Xg(t){return t.resolve||{}}function pI(t,e,n,r,i,o){return le(s=>lI(t,e,n,r,s.extractedUrl,i,o).pipe(L(({state:a,tree:c})=>R(y({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function mI(t,e){return le(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return A(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of xv(c))s.add(u);let a=0;return ie(s).pipe(Vn(c=>o.has(c)?gI(c,r,t,e):(c.data=Ha(c,c.parent,t).resolve,A(void 0))),pe(()=>a++),Cr(1),le(c=>a===s.size?A(n):Ae))})}function xv(t){let e=t.children.map(n=>xv(n)).flat();return[t,...e]}function gI(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!yv(i)&&(o[ho]=i.title),vI(o,t,e,r).pipe(L(s=>(t._resolvedData=s,t.data=Ha(t,t.parent,n).resolve,null)))}function vI(t,e,n,r){let i=_d(t);if(i.length===0)return A({});let o={};return ie(i).pipe(le(s=>yI(t[s],e,n,r).pipe(xt(),pe(a=>{if(a instanceof co)throw qa(new Kr,a);o[s]=a}))),Cr(1),_i(o),on(s=>bv(s)?Ae:nn(s)))}function yI(t,e,n,r){let i=mo(e)??r,o=ti(t,i),s=o.resolve?o.resolve(e,n):Ot(i,()=>o(e,n));return In(s)}function bd(t){return xe(e=>{let n=t(e);return n?ie(n).pipe(L(()=>e)):A(e)})}var Mv=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===U);return i}getResolvedTitleForRoute(r){return r.data[ho]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>m(CI),providedIn:"root"});let t=e;return t})(),CI=(()=>{let e=class e extends Mv{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(O(qg))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yo=new M("",{providedIn:"root",factory:()=>({})}),DI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=S({type:e,selectors:[["ng-component"]],standalone:!0,features:[T],decls:1,vars:0,template:function(i,o){i&1&&b(0,"router-outlet")},dependencies:[Yd],encapsulation:2});let t=e;return t})();function Kd(t){let e=t.children&&t.children.map(Kd),n=e?R(y({},t),{children:e}):y({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==U&&(n.component=DI),n}var fo=new M(""),Jd=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=m(_a)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return A(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=In(r.loadComponent()).pipe(L(Sv),pe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ii(()=>{this.componentLoaders.delete(r)})),o=new tn(i,()=>new se).pipe(pr());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return A({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=wI(i,this.compiler,r,this.onLoadEndListener).pipe(Ii(()=>{this.childrenLoaders.delete(i)})),a=new tn(s,()=>new se).pipe(pr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wI(t,e,n,r){return In(t.loadChildren()).pipe(L(Sv),le(i=>i instanceof Li||Array.isArray(i)?A(i):ie(e.compileModuleAsync(i))),L(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(fo,[],{optional:!0,self:!0}).flat()),{routes:s.map(Kd),injector:o}}))}function bI(t){return t&&typeof t=="object"&&"default"in t}function Sv(t){return bI(t)?t.default:t}var Xd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>m(EI),providedIn:"root"});let t=e;return t})(),EI=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Tv=new M(""),Av=new M("");function _I(t,e,n){let r=t.get(Av),i=t.get(Pe);return t.get(de).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),II(t))),{onViewTransitionCreated:c}=r;return c&&Ot(t,()=>c({transition:a,from:e,to:n})),s})}function II(t){return new Promise(e=>{Jl({read:()=>setTimeout(e)},{injector:t})})}var xI=new M(""),ef=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new se,this.transitionAbortSubject=new se,this.configLoader=m(Jd),this.environmentInjector=m(Qe),this.urlSerializer=m(po),this.rootContexts=m(go),this.location=m(Hr),this.inputBindingEnabled=m(Za,{optional:!0})!==null,this.titleStrategy=m(Mv),this.options=m(yo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=m(Xd),this.createViewTransition=m(Tv,{optional:!0}),this.navigationErrorHandler=m(xI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>A(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Rd(o)),i=o=>this.events.next(new Od(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(R(y(y({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new _e({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:no,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ie(s=>s.id!==0),L(s=>R(y({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),xe(s=>{let a=!1,c=!1;return A(s).pipe(xe(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ke.SupersededByNewNavigation),Ae;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?R(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let g="";return this.events.next(new En(u.id,this.urlSerializer.serialize(u.rawUrl),g,Va.IgnoredSameUrlNavigation)),u.resolve(!1),Ae}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return A(u).pipe(xe(g=>{let p=this.transitions?.getValue();return this.events.next(new Jr(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),p!==this.transitions?.getValue()?Ae:Promise.resolve(g)}),pI(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),pe(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=R(y({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let p=new ja(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:p,source:D,restoredState:F,extras:K}=u,Q=new Jr(g,this.urlSerializer.serialize(p),D,F);this.events.next(Q);let fe=gv(this.rootComponentType).snapshot;return this.currentTransition=s=R(y({},u),{targetSnapshot:fe,urlAfterRedirects:p,extras:R(y({},K),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,A(s)}else{let g="";return this.events.next(new En(u.id,this.urlSerializer.serialize(u.extractedUrl),g,Va.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Ae}}),pe(u=>{let l=new Sd(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),L(u=>(this.currentTransition=s=R(y({},u),{guards:F_(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),q_(this.environmentInjector,u=>this.events.next(u)),pe(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw qa(this.urlSerializer,u.guardsResult);let l=new Td(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Ie(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Ke.GuardRejected),!1)),bd(u=>{if(u.guards.canActivateChecks.length)return A(u).pipe(pe(l=>{let d=new Ad(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),xe(l=>{let d=!1;return A(l).pipe(mI(this.paramsInheritanceStrategy,this.environmentInjector),pe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",Ke.NoDataFromResolver)}}))}),pe(l=>{let d=new Nd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),bd(u=>{let l=d=>{let g=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(d.routeConfig).pipe(pe(p=>{d.component=p}),L(()=>{})));for(let p of d.children)g.push(...l(p));return g};return Ei(l(u.targetSnapshot.root)).pipe(sn(null),we(1))}),bd(()=>this.afterPreactivation()),xe(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?ie(d).pipe(L(()=>s)):A(s)}),L(u=>{let l=T_(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=R(y({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),pe(()=>{this.events.next(new so)}),O_(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),we(1),pe({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new jt(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),xi(this.transitionAbortSubject.pipe(pe(u=>{throw u}))),Ii(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",Ke.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),on(u=>{if(c=!0,wv(u))this.events.next(new Xt(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),R_(u)?this.events.next(new Xr(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new oo(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let d=Ot(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(d instanceof co){let{message:g,cancellationCode:p}=qa(this.urlSerializer,d);this.events.next(new Xt(s.id,this.urlSerializer.serialize(s.extractedUrl),g,p)),this.events.next(new Xr(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(l);let g=r.errorHandler(u);s.resolve(!!g)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Ae}))}))}cancelNavigationTransition(r,i,o){let s=new Xt(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function MI(t){return t!==no}var SI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>m(TI),providedIn:"root"});let t=e;return t})(),Zd=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},TI=(()=>{let e=class e extends Zd{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dn(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>m(AI),providedIn:"root"});let t=e;return t})(),AI=(()=>{let e=class e extends Nv{constructor(){super(...arguments),this.location=m(Hr),this.urlSerializer=m(po),this.options=m(yo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=m(Xd),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new en,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=gv(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Jr)this.stateMemento=this.createStateMemento();else if(r instanceof En)this.rawUrlTree=i.initialUrl;else if(r instanceof ja){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof so?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Xt&&(r.code===Ke.GuardRejected||r.code===Ke.NoDataFromResolver)?this.restoreHistory(i):r instanceof oo?this.restoreHistory(i,!0):r instanceof jt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof en?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=y(y({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=y(y({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dn(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(eo||{});function Rv(t,e){t.events.pipe(Ie(n=>n instanceof jt||n instanceof Xt||n instanceof oo||n instanceof En),L(n=>n instanceof jt||n instanceof En?eo.COMPLETE:(n instanceof Xt?n.code===Ke.Redirect||n.code===Ke.SupersededByNewNavigation:!1)?eo.REDIRECTING:eo.FAILED),Ie(n=>n!==eo.REDIRECTING),we(1)).subscribe(()=>{e()})}function NI(t){throw t}var RI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},OI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},wt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=m(ba),this.stateManager=m(Nv),this.options=m(yo,{optional:!0})||{},this.pendingTasks=m(Jn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=m(ef),this.urlSerializer=m(po),this.location=m(Hr),this.urlHandlingStrategy=m(Xd),this._events=new se,this.errorHandler=this.options.errorHandler||NI,this.navigated=!1,this.routeReuseStrategy=m(SI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=m(fo,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!m(Za,{optional:!0}),this.eventsSubscription=new he,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Xt&&i.code!==Ke.Redirect&&i.code!==Ke.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof jt)this.navigated=!0;else if(i instanceof Xr){let a=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),u=y({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||MI(o.source)},a);this.scheduleNavigation(c,no,null,u,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}kI(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),no,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let u=y({},o);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Kd),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":d=y(y({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let g;try{let p=o?o.snapshot:this.routerState.snapshot.root;g=fv(p)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),g=this.currentUrlTree.root}return hv(g,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=ir(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,no,null,i)}navigate(r,i={skipLocationChange:!1}){return FI(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=y({},RI):i===!1?o=y({},OI):o=i,ir(r))return Gg(this.currentUrlTree,r,o);let s=this.parseUrl(r);return Gg(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((g,p)=>{c=g,u=p});let d=this.pendingTasks.add();return Rv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(g=>Promise.reject(g))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function FI(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new _(4008,!1)}function kI(t){return!(t instanceof so)&&!(t instanceof Xr)}var ni=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.onChanges=new se,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof jt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ir(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,o,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:bm(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.routerLinkInput===null?null:ir(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(V(wt),V(_n),Tl("tabindex"),V(kt),V(vt),V(Lt))},e.\u0275dir=ye({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&I("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ce("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ur],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ur],replaceUrl:[2,"replaceUrl","replaceUrl",Ur],routerLink:"routerLink"},standalone:!0,features:[Kl,Ue]});let t=e;return t})();var Wa=class{};var PI=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ie(r=>r instanceof jt),Vn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=ga(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return ie(o).pipe(rn())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=A(null);let s=o.pipe(le(a=>a===null?A(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ie([s,a]).pipe(rn())}else return s})}};e.\u0275fac=function(i){return new(i||e)(O(wt),O(_a),O(Qe),O(Wa),O(Jd))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ov=new M(""),LI=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Jr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof jt?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof En&&r.code===Va.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof $a&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $a(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){km()},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function Fv(t,...e){return Vr([{provide:fo,multi:!0,useValue:t},[],{provide:_n,useFactory:kv,deps:[wt]},{provide:Ea,multi:!0,useFactory:Pv},e.map(n=>n.\u0275providers)])}function kv(t){return t.routerState.root}function ri(t,e){return{\u0275kind:t,\u0275providers:e}}function Pv(){let t=m(Se);return e=>{let n=t.get(Pt);if(e!==n.components[0])return;let r=t.get(wt),i=t.get(Lv);t.get(tf)===1&&r.initialNavigation(),t.get(Vv,null,Z.Optional)?.setUpPreloading(),t.get(Ov,null,Z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Lv=new M("",{factory:()=>new se}),tf=new M("",{providedIn:"root",factory:()=>1});function VI(){return ri(2,[{provide:tf,useValue:0},{provide:Br,multi:!0,deps:[Se],useFactory:e=>{let n=e.get(Rg,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(wt),o=e.get(Lv);Rv(i,()=>{r(!0)}),e.get(ef).afterPreactivation=()=>(r(!0),o.closed?A(void 0):o),i.initialNavigation()}))}}])}function jI(){return ri(3,[{provide:Br,multi:!0,useFactory:()=>{let e=m(wt);return()=>{e.setUpLocationChangeListener()}}},{provide:tf,useValue:2}])}var Vv=new M("");function $I(t){return ri(0,[{provide:Vv,useExisting:PI},{provide:Wa,useExisting:t}])}function jv(){return ri(6,[{provide:Lt,useClass:ld}])}function BI(){return ri(8,[Yg,{provide:Za,useExisting:Yg}])}function UI(t){let e=[{provide:Tv,useValue:_I},{provide:Av,useValue:y({skipNextTransition:!!t?.skipInitialTransition},t)}];return ri(9,e)}var ev=new M("ROUTER_FORROOT_GUARD"),HI=[Hr,{provide:po,useClass:Kr},wt,go,{provide:_n,useFactory:kv,deps:[wt]},Jd,[]],Ya=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[HI,[],{provide:fo,multi:!0,useValue:r},{provide:ev,useFactory:WI,deps:[[wt,new Ks,new ml]]},{provide:yo,useValue:i||{}},i?.useHash?qI():GI(),zI(),i?.preloadingStrategy?$I(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?ZI(i):[],i?.bindToComponentInputs?BI().\u0275providers:[],i?.enableViewTransitions?UI().\u0275providers:[],QI()]}}static forChild(r){return{ngModule:e,providers:[{provide:fo,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(O(ev,8))},e.\u0275mod=vn({type:e}),e.\u0275inj=gn({});let t=e;return t})();function zI(){return{provide:Ov,useFactory:()=>{let t=m(Sa),e=m(de),n=m(yo),r=m(ef),i=m(po);return n.scrollOffset&&t.setOffset(n.scrollOffset),new LI(i,r,t,e,n)}}}function qI(){return{provide:Lt,useClass:ld}}function GI(){return{provide:Lt,useClass:ud}}function WI(t){return"guarded"}function ZI(t){return[t.initialNavigation==="disabled"?jI().\u0275providers:[],t.initialNavigation==="enabledBlocking"?VI().\u0275providers:[]]}var tv=new M("");function QI(){return[{provide:tv,useFactory:Pv},{provide:Ea,multi:!0,useExisting:tv}]}var $t=class{evaluate(e){return!0}},Bt=class{constructor(e){this.variable=e}evaluate(e){return e[this.variable]}},Le=class t extends Bt{static string="please_select";constructor(){super(t.string)}},bt=class{constructor(e){this.not=e}evaluate(e){return!this.not.evaluate(e)}},ot=class{constructor(e,n){this.left=e;this.right=n}evaluate(e){return this.left.evaluate(e)&&this.right.evaluate(e)}},st=class{constructor(e,n){this.left=e;this.right=n}evaluate(e){return this.left.evaluate(e)||this.right.evaluate(e)}};function ii(t){let e=t.trim().split(" ");if(e.includes("OR")){let n=e.indexOf("OR");return new st(ii(e.slice(0,n).join(" ")),ii(e.slice(n+1).join(" ")))}else if(e.includes("AND")){let n=e.indexOf("AND");return new ot(ii(e.slice(0,n).join(" ")),ii(e.slice(n+1).join(" ")))}else{if(e[0]==="NOT")return new bt(ii(e.slice(1).join(" ")));if(e.length===1&&/^[a-zA-Z0-9_]+$/.test(e[0]))return new Bt(e[0]);throw new Error("Could not parse condition from '"+t+"'")}}var Bv=/^\s*(?<question>.*)\s+\$(?<variable>[a-zA-Z0-9_]+)\s*$/;function YI(t){let e=t.match(Bv);if(!e||!e.groups)throw new Error("Could not parse question from '"+t+"'");return{question:e.groups.question,variable:e.groups.variable}}var Uv=/^\s*\[(?<category>.+)\]\s*(?<name>.+)\s*$/;function nf(t){if(!t)return["",0];let e=t.trim().match(/^(.+)\s+(\d+(\.\d+)?)(k?g)?$/);if(e){let n=e[1].trim(),r=parseFloat(e[2])*(e[4]==="kg"?1e3:1);return[n,r]}else return[t.trim(),0]}function KI(t){let e=t.match(Uv);if(!e||!e.groups)throw new Error("Could not parse item from '"+t+"'");let[n,r]=nf(e.groups.name);return{category:e.groups.category,name:n,weight:r}}function JI(t){let e=t.split(",").map(i=>i.trim()).filter(Boolean),n=[],r=[];for(let i of e)if(Bv.test(i))n.push(YI(i));else if(Uv.test(i))r.push(KI(i));else throw new Error("Could not parse effect from '"+i+"'");return{questions:n,items:r}}function rf(t){let e=t.split(":-");if(e.length!==2)throw new Error("Could not parse rule from '"+t+"'");let n;return e[0].trim()?n=ii(e[0]):n=new $t,{condition:n,effects:JI(e[1])}}function xn(t){return t.split(`
`).filter(n=>!n.trim().startsWith("#")).map(n=>n.replace(/#.*/,"")).join(`
`).split(";").map(n=>n.trim()).filter(Boolean).map(rf)}function Hv(t){let e=new Set;for(let n of t)for(let r of n.effects.questions)e.add(r.variable);return Array.from(e)}function zv(t){let e=new Set;for(let n of t)for(let r of n.effects.items)e.add(r.category);return Array.from(e)}function at(t){t||(Bi(at),t=m(wn));let e=new j(n=>t.onDestroy(n.next.bind(n)));return n=>n.pipe(xi(e))}function of(t,e){!e?.injector&&Bi(of);let n=e?.injector??m(Se),r=new Di(1),i=Wi(()=>{let o;try{o=t()}catch(s){rt(()=>r.error(s));return}rt(()=>r.next(o))},{injector:n,manualCleanup:!0});return n.get(wn).onDestroy(()=>{i.destroy(),r.complete()}),r.asObservable()}var qv="view",Ge=class t{embedded=ae(qv);setMode(e){this.embedded.set(e)}isMode(...e){return e.includes(this.embedded())}asObservable(){return of(this.embedded)}reset(){this.setMode(qv)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})};var XI=()=>["","not","and","or"],Gv=()=>["","or"],Wv=()=>[""];function ex(t,e){t&1&&(f(0,"span",1),v(1,"IF"),h())}function tx(t,e){t&1&&Ca(0)}function nx(t,e){if(t&1&&G(0,tx,1,0,"ng-container",2),t&2){C();let n=wa(8);N("ngTemplateOutlet",n)("ngTemplateOutletContext","")}}function rx(t,e){t&1&&Ca(0)}function ix(t,e){if(t&1&&G(0,rx,1,0,"ng-container",2),t&2){let n=C(),r=wa(8);N("ngTemplateOutlet",r)("ngTemplateOutletContext",n.state())}}function ox(t,e){if(t&1){let n=te();f(0,"app-editor-condition",4),I("conditionChanged",function(i){X(n);let o=C(2);return ee(o.bubbleNotChange(i))}),h()}if(t&2){let n=C(2);N("depth",n.depth()+1)("condition",e.not)("variables",n.variables())("forbidden",$r(4,XI))}}function sx(t,e){if(t&1&&(f(0,"span",1),v(1,"NOT"),h(),G(2,ox,1,5,"app-editor-condition",3)),t&2){let n,r=C();w(2),B((n=r.asNot(r.state().condition))?2:-1,n)}}function ax(t,e){if(t&1){let n=te();f(0,"app-editor-condition",4),I("conditionChanged",function(i){X(n);let o=C(2);return ee(o.bubbleAndLeftChange(i))}),h(),f(1,"span",1),v(2,"AND"),h(),f(3,"app-editor-condition",4),I("conditionChanged",function(i){X(n);let o=C(2);return ee(o.bubbleAndRightChange(i))}),h()}if(t&2){let n=e,r=C(2);N("depth",r.depth()+1)("condition",n.left)("variables",r.variables())("forbidden",$r(8,Gv)),w(3),N("depth",r.depth()+1)("condition",n.right)("variables",r.variables())("forbidden",$r(9,Gv))}}function cx(t,e){if(t&1&&G(0,ax,4,10),t&2){let n,r=C();B((n=r.asAnd(r.state().condition))?0:-1,n)}}function ux(t,e){if(t&1){let n=te();f(0,"app-editor-condition",4),I("conditionChanged",function(i){X(n);let o=C(2);return ee(o.bubbleOrLeftChange(i))}),h(),f(1,"span",1),v(2,"OR"),h(),f(3,"app-editor-condition",4),I("conditionChanged",function(i){X(n);let o=C(2);return ee(o.bubbleOrRightChange(i))}),h()}if(t&2){let n=e,r=C(2);N("depth",r.depth()+1)("condition",n.left)("variables",r.variables())("forbidden",$r(8,Wv)),w(3),N("depth",r.depth()+1)("condition",n.right)("variables",r.variables())("forbidden",$r(9,Wv))}}function lx(t,e){if(t&1&&G(0,ux,4,10),t&2){let n,r=C();B((n=r.asOr(r.state().condition))?0:-1,n)}}function dx(t,e){t&1&&(f(0,"pre"),v(1,"UNKNOWN"),h())}function fx(t,e){t&1&&(f(0,"option",7),v(1,"always active"),h())}function hx(t,e){t&1&&(f(0,"option",8),v(1,"NOT x"),h())}function px(t,e){t&1&&(f(0,"option",9),v(1,"x AND x"),h())}function mx(t,e){t&1&&(f(0,"option",10),v(1,"x OR x"),h())}function gx(t,e){if(t&1&&(f(0,"option",11),v(1),h()),t&2){let n=C().$implicit,r=C(2).context,i=C();Gi("value",n),N("selected",r===n)("disabled",n===i.please_select),w(),qe(" ",n," ")}}function vx(t,e){if(t&1&&G(0,fx,2,0,"option",7)(1,hx,2,0,"option",8)(2,px,2,0,"option",9)(3,mx,2,0,"option",10)(4,gx,2,4,"option",11),t&2){let n,r=e.$implicit;B((n=r)===""?0:n==="not"?1:n==="and"?2:n==="or"?3:4)}}function yx(t,e){if(t&1){let n=te();f(0,"select",6,0),I("change",function(){X(n);let i=wa(1),o=C(2);return ee(o.selection(i.value))}),He(2,vx,5,1,null,null,ya),h()}if(t&2){let n=C(2);w(2),ze(n.options())}}function Cx(t,e){if(t&1&&(f(0,"span",5),v(1),h()),t&2){let n=C().context;w(),Ce(n)}}function Dx(t,e){if(t&1&&G(0,yx,4,0,"select",5)(1,Cx,2,1,"span",5),t&2){let n=e.context,r=C();B(r.mode.isMode("edit")?0:n?1:-1)}}var Ka=class t{condition=P.required();variables=P.required();forbidden=P([]);depth=P(0);mode=m(Ge);please_select=Le.string;options=ge(()=>{let e=[];this.condition()instanceof Le&&e.push(Le.string),this.forbidden().includes("")||e.push(""),e.push(...this.variables());for(let n of["not","or","and"])this.forbidden().includes(n)||e.push(n);return e});state=ge(()=>{let e=this.condition();return e instanceof $t?{type:"true"}:e instanceof Bt?{type:"variable",context:e.variable}:e instanceof bt?{type:"not",condition:e}:e instanceof ot?{type:"and",condition:e}:e instanceof st?{type:"or",condition:e}:{type:"unknown"}});isAlwaysActive(){return this.condition()instanceof $t}asNot(e){if(e instanceof bt)return e;throw new Error("Expected Not")}asAnd(e){if(e instanceof ot)return e;throw new Error("Expected And")}asOr(e){if(e instanceof st)return e;throw new Error("Expected Or")}conditionChanged=Ft();selection(e){e===""?this.conditionChanged.emit(new $t):e==="not"?this.conditionChanged.emit(new bt(new Le)):e==="and"?this.conditionChanged.emit(new ot(new Le,new Le)):e==="or"?this.conditionChanged.emit(new st(new Le,new Le)):this.conditionChanged.emit(new Bt(e))}bubbleNotChange(e){this.conditionChanged.emit(new bt(e))}bubbleAndLeftChange(e){this.conditionChanged.emit(new ot(e,this.asAnd(this.state().condition).right))}bubbleAndRightChange(e){this.conditionChanged.emit(new ot(this.asAnd(this.state().condition).left,e))}bubbleOrLeftChange(e){this.conditionChanged.emit(new st(e,this.asOr(this.state().condition).right))}bubbleOrRightChange(e){this.conditionChanged.emit(new st(this.asOr(this.state().condition).left,e))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-editor-condition"]],inputs:{condition:[1,"condition"],variables:[1,"variables"],forbidden:[1,"forbidden"],depth:[1,"depth"]},outputs:{conditionChanged:"conditionChanged"},standalone:!0,features:[T],decls:9,vars:2,consts:[["select",""],[1,"font-bold"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"depth","condition","variables","forbidden"],[3,"conditionChanged","depth","condition","variables","forbidden"],[1,"font-mono"],[1,"font-mono",3,"change"],["value",""],["value","not"],["value","and"],["value","or"],[3,"value","selected","disabled"]],template:function(n,r){if(n&1&&G(0,ex,2,0,"span",1)(1,nx,1,2,"ng-container")(2,ix,1,2,"ng-container")(3,sx,3,1)(4,cx,1,1)(5,lx,1,1)(6,dx,2,0,"pre")(7,Dx,2,1,"ng-template",null,0,mg),n&2){let i;B(r.depth()===0&&(r.mode.isMode("edit")||!r.isAlwaysActive())?0:-1),w(),B((i=r.state().type)==="true"?1:i==="variable"?2:i==="not"?3:i==="and"?4:i==="or"?5:i==="unknown"?6:-1)}},dependencies:[t,kg],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;gap:8px;flex-wrap:wrap}"]})};var ey=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(V(kt),V(vt))},e.\u0275dir=ye({type:e});let t=e;return t})(),ac=(()=>{let e=class e extends ey{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dn(e)))(o||e)}})(),e.\u0275dir=ye({type:e,features:[nt]});let t=e;return t})(),ui=new M(""),wx={provide:ui,useExisting:Rt(()=>lf),multi:!0},lf=(()=>{let e=class e extends ac{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dn(e)))(o||e)}})(),e.\u0275dir=ye({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&I("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},features:[bn([wx]),nt]});let t=e;return t})(),bx={provide:ui,useExisting:Rt(()=>Sn),multi:!0};function Ex(){let t=Jt()?Jt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var _x=new M(""),Sn=(()=>{let e=class e extends ey{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Ex())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(V(kt),V(vt),V(_x,8))},e.\u0275dir=ye({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&I("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[bn([bx]),nt]});let t=e;return t})();var df=new M(""),ff=new M("");function ty(t){return t!=null}function ny(t){return er(t)?ie(t):t}function ry(t){let e={};return t.forEach(n=>{e=n!=null?y(y({},e),n):e}),Object.keys(e).length===0?null:e}function iy(t,e){return e.map(n=>n(t))}function Ix(t){return!t.validate}function oy(t){return t.map(e=>Ix(e)?e:n=>e.validate(n))}function xx(t){if(!t)return null;let e=t.filter(ty);return e.length==0?null:function(n){return ry(iy(n,e))}}function sy(t){return t!=null?xx(oy(t)):null}function Mx(t){if(!t)return null;let e=t.filter(ty);return e.length==0?null:function(n){let r=iy(n,e).map(ny);return Kc(r).pipe(L(ry))}}function ay(t){return t!=null?Mx(oy(t)):null}function Zv(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function cy(t){return t._rawValidators}function uy(t){return t._rawAsyncValidators}function sf(t){return t?Array.isArray(t)?t:[t]:[]}function Xa(t,e){return Array.isArray(t)?t.includes(e):t===e}function Qv(t,e){let n=sf(e);return sf(t).forEach(i=>{Xa(n,i)||n.push(i)}),n}function Yv(t,e){return sf(e).filter(n=>!Xa(t,n))}var ec=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ay(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ai=class extends ec{get formDirective(){return null}get path(){return null}},or=class extends ec{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},tc=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Sx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},_P=R(y({},Sx),{"[class.ng-submitted]":"isSubmitted"}),Tn=(()=>{let e=class e extends tc{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(V(or,2))},e.\u0275dir=ye({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&va("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[nt]});let t=e;return t})(),cc=(()=>{let e=class e extends tc{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(V(ai,10))},e.\u0275dir=ye({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&va("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[nt]});let t=e;return t})();var Co="VALID",Ja="INVALID",oi="PENDING",Do="DISABLED",Mn=class{},nc=class extends Mn{constructor(e,n){super(),this.value=e,this.source=n}},wo=class extends Mn{constructor(e,n){super(),this.pristine=e,this.source=n}},bo=class extends Mn{constructor(e,n){super(),this.touched=e,this.source=n}},si=class extends Mn{constructor(e,n){super(),this.status=e,this.source=n}},af=class extends Mn{constructor(e){super(),this.source=e}},cf=class extends Mn{constructor(e){super(),this.source=e}};function ly(t){return(uc(t)?t.validators:t)||null}function Tx(t){return Array.isArray(t)?sy(t):t||null}function dy(t,e){return(uc(e)?e.asyncValidators:t)||null}function Ax(t){return Array.isArray(t)?ay(t):t||null}function uc(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Nx(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new _(1e3,"");if(!r[n])throw new _(1001,"")}function Rx(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new _(1002,"")})}var rc=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ge(()=>this.statusReactive()),this.statusReactive=ae(void 0),this._pristine=ge(()=>this.pristineReactive()),this.pristineReactive=ae(!0),this._touched=ge(()=>this.touchedReactive()),this.touchedReactive=ae(!1),this._events=new se,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return rt(this.statusReactive)}set status(e){rt(()=>this.statusReactive.set(e))}get valid(){return this.status===Co}get invalid(){return this.status===Ja}get pending(){return this.status==oi}get disabled(){return this.status===Do}get enabled(){return this.status!==Do}get pristine(){return rt(this.pristineReactive)}set pristine(e){rt(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return rt(this.touchedReactive)}set touched(e){rt(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Qv(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Qv(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Yv(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Yv(e,this._rawAsyncValidators))}hasValidator(e){return Xa(this._rawValidators,e)}hasAsyncValidator(e){return Xa(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(R(y({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new bo(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new bo(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(R(y({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new wo(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new wo(!0,r))}markAsPending(e={}){this.status=oi;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new si(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(R(y({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Do,this.errors=null,this._forEachChild(i=>{i.disable(R(y({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nc(this.value,r)),this._events.next(new si(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(R(y({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Co,this._forEachChild(r=>{r.enable(R(y({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(R(y({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Co||this.status===oi)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nc(this.value,n)),this._events.next(new si(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(R(y({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Do:Co}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=oi,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=ny(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new si(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ve,this.statusChanges=new ve}_calculateStatus(){return this._allControlsDisabled()?Do:this.errors?Ja:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oi)?oi:this._anyControlsHaveStatus(Ja)?Ja:Co}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new wo(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new bo(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uc(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Tx(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Ax(this._rawAsyncValidators)}},ci=class extends rc{constructor(e,n,r){super(ly(n),dy(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Rx(this,!0,e),Object.keys(e).forEach(r=>{Nx(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var hf=new M("CallSetDisabledState",{providedIn:"root",factory:()=>pf}),pf="always";function Ox(t,e){return[...e.path,t]}function uf(t,e,n=pf){mf(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),kx(t,e),Lx(t,e),Px(t,e),Fx(t,e)}function ic(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),sc(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function oc(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Fx(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function mf(t,e){let n=cy(t);e.validator!==null?t.setValidators(Zv(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=uy(t);e.asyncValidator!==null?t.setAsyncValidators(Zv(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();oc(e._rawValidators,i),oc(e._rawAsyncValidators,i)}function sc(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=cy(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=uy(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return oc(e._rawValidators,r),oc(e._rawAsyncValidators,r),n}function kx(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&fy(t,e)})}function Px(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&fy(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function fy(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Lx(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Vx(t,e){t==null,mf(t,e)}function jx(t,e){return sc(t,e)}function hy(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function $x(t){return Object.getPrototypeOf(t.constructor)===ac}function Bx(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function py(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Sn?n=o:$x(o)?r=o:i=o}),i||r||n||null}function Ux(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Kv(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Jv(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ct=class extends rc{constructor(e=null,n,r){super(ly(n),dy(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Jv(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Kv(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Kv(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Jv(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Hx=t=>t instanceof ct;var lc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ye({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var gf=new M(""),zx={provide:or,useExisting:Rt(()=>Eo)},Eo=(()=>{let e=class e extends or{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this.update=new ve,this._ngModelWarningSent=!1,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=py(this,o)}ngOnChanges(r){if(this._isControlChanged(r)){let i=r.form.previousValue;i&&ic(i,this,!1),uf(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}hy(r,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ic(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_isControlChanged(r){return r.hasOwnProperty("form")}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(V(df,10),V(ff,10),V(ui,10),V(gf,8),V(hf,8))},e.\u0275dir=ye({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[bn([zx]),nt,Ue]});let t=e;return t})(),qx={provide:ai,useExisting:Rt(()=>_o)},_o=(()=>{let e=class e extends ai{get submitted(){return rt(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=ge(()=>this._submittedReactive()),this._submittedReactive=ae(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ve,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return uf(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){ic(r.control||null,r,!1),Ux(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this._submittedReactive.set(!0),Bx(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new af(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new cf(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(ic(i||null,r),Hx(o)&&(uf(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);Vx(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&jx(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mf(this.form,this),this._oldForm&&sc(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(V(df,10),V(ff,10),V(hf,8))},e.\u0275dir=ye({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&I("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bn([qx]),nt,Ue]});let t=e;return t})();var Gx={provide:or,useExisting:Rt(()=>Io)},Io=(()=>{let e=class e extends or{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ve,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=py(this,s)}ngOnChanges(r){this._added||this._setUpControl(),hy(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return Ox(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(V(ai,13),V(df,10),V(ff,10),V(ui,10),V(gf,8))},e.\u0275dir=ye({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[bn([Gx]),nt,Ue]});let t=e;return t})(),Wx={provide:ui,useExisting:Rt(()=>dc),multi:!0};function my(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Zx(t){return t.split(":")[0]}var dc=(()=>{let e=class e extends ac{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=my(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=Zx(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dn(e)))(o||e)}})(),e.\u0275dir=ye({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&I("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[bn([Wx]),nt]});let t=e;return t})(),gy=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(my(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(V(vt),V(kt),V(dc,9))},e.\u0275dir=ye({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),Qx={provide:ui,useExisting:Rt(()=>vy),multi:!0};function Xv(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Yx(t){return t.split(":")[0]}var vy=(()=>{let e=class e extends ac{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let c=0;c<a.length;c++){let u=a[c],l=this._getOptionValue(u.value);o.push(l)}}else{let a=i.options;for(let c=0;c<a.length;c++){let u=a[c];if(u.selected){let l=this._getOptionValue(u.value);o.push(l)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=Yx(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Dn(e)))(o||e)}})(),e.\u0275dir=ye({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&I("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[bn([Qx]),nt]});let t=e;return t})(),yy=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(Xv(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(Xv(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(V(vt),V(kt),V(vy,9))},e.\u0275dir=ye({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var Kx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=vn({type:e}),e.\u0275inj=gn({});let t=e;return t})();var An=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:gf,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:hf,useValue:r.callSetDisabledState??pf}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=vn({type:e}),e.\u0275inj=gn({imports:[Kx]});let t=e;return t})();var hc=class t{question=P.required();questionChanged=Ft();control=new ci({question:new ct(""),variable:new ct("")});mode=m(Ge);constructor(){this.control.valueChanges.pipe(jn(500),at()).subscribe(e=>{this.questionChanged.emit(e)}),this.mode.asObservable().pipe(at()).subscribe(e=>{e==="edit"?this.control.enable({emitEvent:!1}):this.control.disable({emitEvent:!1})})}ngOnChanges(){this.control.patchValue(this.question(),{emitEvent:!1})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-editor-question"]],inputs:{question:[1,"question"]},outputs:{questionChanged:"questionChanged"},standalone:!0,features:[Ue,T],decls:6,vars:1,consts:[[1,"flex","flex-col",3,"formGroup"],["type","text","placeholder","question","formControlName","question",1,"grow"],[1,"flex","items-center","gap-2"],[1,"ml-3","font-mono"],["type","text","placeholder","variable","formControlName","variable",1,"grow","font-mono"]],template:function(n,r){n&1&&(f(0,"form",0),b(1,"input",1),f(2,"div",2)(3,"span",3),v(4,"->"),h(),b(5,"input",4),h()()),n&2&&N("formGroup",r.control)},dependencies:[An,lc,Sn,Tn,cc,_o,Io],encapsulation:2})};function vf(t){return t.map(ut).map(e=>e+";").join(`

`)}function Jx(t){return t.questions.map(ut).concat(t.items.map(ut))}function xo(t,e){if(!t)return"";let n=t/1e3+"kg",r=t*1+"g";return e?e==="kg"?n:r:n.length<=r.length?n:r}function ut(t){if("condition"in t){let e=[],n=ut(t.condition);n&&e.push(n," "),e.push(":-");let r=Jx(t.effects);if(r.length===1&&!n)e.push(" ",r[0]);else for(let i=0;i<r.length;i++){let o=r[i];i>0&&e.push(","),e.push(`
`,"   ",o)}return e.join("")}else{if(t instanceof $t)return"";if(t instanceof Bt)return t.variable;if(t instanceof bt)return"NOT "+ut(t.not);if(t instanceof ot)return ut(t.left)+" AND "+ut(t.right);if(t instanceof st)return ut(t.left)+" OR "+ut(t.right);if("evaluate"in t)throw new Error("Cannot serialize unknown condition");if("question"in t)return t.question+" $"+t.variable;if("category"in t&&"name"in t)return`[${t.category}] ${t.name} ${xo(t.weight)}`.trim();throw new Error("Cannot serialize unknown input")}}function Xx(t,e){if(t&1&&(f(0,"option",2),v(1),h()),t&2){let n=e.$implicit;Gi("value",n),w(),Ce(n)}}var pc=class t{item=P.required();categories=P.required();itemChanged=Ft();control=new ci({category:new ct(""),name:new ct("")});mode=m(Ge);constructor(){this.control.valueChanges.pipe(jn(500),at()).subscribe(e=>{if(e.category===""){this.addNewCategory();return}let[n,r]=nf(e.name);this.itemChanged.emit({category:e.category,name:n,weight:r})}),this.mode.asObservable().pipe(at()).subscribe(e=>{e==="edit"?this.control.enable({emitEvent:!1}):this.control.disable({emitEvent:!1})})}blockPatch=!1;ngOnChanges(){if(!this.blockPatch){let e=this.item().name;this.item().weight&&(e+=` ${xo(this.item().weight)}`),this.control.patchValue({category:this.item().category,name:e},{emitEvent:!1})}}focus(e){this.blockPatch=document.activeElement===e.target}blur(){this.blockPatch=!1,this.ngOnChanges()}addNewCategory(){console.log("add new category");let e=window.prompt("Enter new category name");e&&this.control.patchValue({category:e})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-editor-item"]],inputs:{item:[1,"item"],categories:[1,"categories"]},outputs:{itemChanged:"itemChanged"},standalone:!0,features:[Ue,T],decls:7,vars:1,consts:[[1,"flex",3,"formGroup"],["name","categories","formControlName","category",1,"max-w-24"],[3,"value"],["value",""],["type","text","formControlName","name",1,"grow",3,"focus","blur"]],template:function(n,r){n&1&&(f(0,"form",0)(1,"select",1),He(2,Xx,2,2,"option",2,ya),f(4,"option",3),v(5,"+"),h()(),f(6,"input",4),I("focus",function(o){return r.focus(o)})("blur",function(){return r.blur()}),h()()),n&2&&(N("formGroup",r.control),w(2),ze(r.categories()))},dependencies:[An,lc,gy,yy,Sn,dc,Tn,cc,_o,Io],encapsulation:2})};var li=class t{questions=[];items=[];cutQuestion(e){this.questions.push(e)}cutItem(e){this.items.push(e)}get itemsCount(){return this.items.length}get questionsCount(){return this.questions.length}paste(){let e={questions:this.questions,items:this.items};return this.questions=[],this.items=[],e}static \u0275fac=function(n){return new(n||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})};var di=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-delete"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var mc=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-cut"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M760-120 480-400l-94 94q8 15 11 32t3 34q0 66-47 113T240-80q-66 0-113-47T80-240q0-66 47-113t113-47q17 0 34 3t32 11l94-94-94-94q-15 8-32 11t-34 3q-66 0-113-47T80-720q0-66 47-113t113-47q66 0 113 47t47 113q0 17-3 34t-11 32l494 494v40H760ZM600-520l-80-80 240-240h120v40L600-520ZM240-640q33 0 56.5-23.5T320-720q0-33-23.5-56.5T240-800q-33 0-56.5 23.5T160-720q0 33 23.5 56.5T240-640Zm240 180q8 0 14-6t6-14q0-8-6-14t-14-6q-8 0-14 6t-6 14q0 8 6 14t14 6ZM240-160q33 0 56.5-23.5T320-240q0-33-23.5-56.5T240-320q-33 0-56.5 23.5T160-240q0 33 23.5 56.5T240-160Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var gc=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-paste"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h167q11-35 43-57.5t70-22.5q40 0 71.5 22.5T594-840h166q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560h-80v120H280v-120h-80v560Zm280-560q17 0 28.5-11.5T520-800q0-17-11.5-28.5T480-840q-17 0-28.5 11.5T440-800q0 17 11.5 28.5T480-760Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var vc=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-down"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M440-800v487L216-537l-56 57 320 320 320-320-56-57-224 224v-487h-80Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("width",r.size()+"px")("height",r.size()+"px")},encapsulation:2})};var yc=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-up"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M440-160v-487L216-423l-56-57 320-320 320 320-56 57-224-224v487h-80Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};function eM(t,e){if(t&1){let n=te();f(0,"button",7),I("click",function(){X(n);let i=C();return ee(i.resetCondition())}),b(1,"app-icon-delete"),h()}}function tM(t,e){if(t&1){let n=te();f(0,"button",7),I("click",function(){X(n);let i=C(2).$index,o=C();return ee(o.swapQuestions(i,i+1))}),b(1,"app-icon-down"),h()}}function nM(t,e){t&1&&b(0,"span",9)}function rM(t,e){if(t&1&&G(0,tM,2,0,"button",2)(1,nM,1,0,"span",9),t&2){let n=C().$index,r=C();B(n<r.rule().effects.questions.length-1?0:1)}}function iM(t,e){if(t&1){let n=te();f(0,"button",7),I("click",function(){X(n);let i=C().$index,o=C();return ee(o.deleteQuestion(i))}),b(1,"app-icon-delete"),h()}}function oM(t,e){if(t&1){let n=te();f(0,"button",7),I("click",function(){X(n);let i=C().$index,o=C();return ee(o.cutQuestion(i))}),b(1,"app-icon-cut"),h()}}function sM(t,e){if(t&1){let n=te();f(0,"button",7),I("click",function(){X(n);let i=C().$index,o=C();return ee(o.swapQuestions(i-1,i))}),b(1,"app-icon-up"),h()}}function aM(t,e){if(t&1){let n=te();f(0,"div",3),G(1,rM,2,1),f(2,"app-editor-question",8),I("questionChanged",function(i){let o=X(n).$index,s=C();return ee(s.updateQuestion(o,i))}),h(),G(3,iM,2,0,"button",2)(4,oM,2,0,"button",2)(5,sM,2,0,"button",2),h()}if(t&2){let n=e.$implicit,r=e.$index,i=C();w(),B(i.mode.isMode("swap")?1:-1),w(),N("question",n),w(),B(i.mode.isMode("delete")?3:i.mode.isMode("cut-paste")?4:i.mode.isMode("swap")&&r>0?5:-1)}}function cM(t,e){if(t&1){let n=te();f(0,"button",7),I("click",function(){X(n);let i=C(2).$index,o=C();return ee(o.swapItems(i,i+1))}),b(1,"app-icon-down"),h()}}function uM(t,e){t&1&&b(0,"span",9)}function lM(t,e){if(t&1&&G(0,cM,2,0,"button",2)(1,uM,1,0,"span",9),t&2){let n=C().$index,r=C();B(n<r.rule().effects.items.length-1?0:1)}}function dM(t,e){if(t&1){let n=te();f(0,"button",7),I("click",function(){X(n);let i=C().$index,o=C();return ee(o.deleteItem(i))}),b(1,"app-icon-delete"),h()}}function fM(t,e){if(t&1){let n=te();f(0,"button",7),I("click",function(){X(n);let i=C().$index,o=C();return ee(o.cutItem(i))}),b(1,"app-icon-cut"),h()}}function hM(t,e){if(t&1){let n=te();f(0,"button",7),I("click",function(){X(n);let i=C().$index,o=C();return ee(o.swapItems(i-1,i))}),b(1,"app-icon-up"),h()}}function pM(t,e){if(t&1){let n=te();f(0,"div",4),G(1,lM,2,1),f(2,"app-editor-item",10),I("itemChanged",function(i){let o=X(n).$index,s=C();return ee(s.updateItem(o,i))}),h(),G(3,dM,2,0,"button",2)(4,fM,2,0,"button",2)(5,hM,2,0,"button",2),h()}if(t&2){let n=e.$implicit,r=e.$index,i=C();w(),B(i.mode.isMode("swap")?1:-1),w(),N("item",n)("categories",i.categories()),w(),B(i.mode.isMode("delete")?3:i.mode.isMode("cut-paste")?4:i.mode.isMode("swap")&&r>0?5:-1)}}function mM(t,e){if(t&1){let n=te();f(0,"div",5)(1,"button",11),I("click",function(){X(n);let i=C();return ee(i.addQuestion())}),v(2,"+ Question"),h(),f(3,"button",11),I("click",function(){X(n);let i=C();return ee(i.addItem())}),v(4,"+ Item"),h()()}}function gM(t,e){if(t&1){let n=te();f(0,"button",7),I("click",function(){X(n);let i=C(2);return ee(i.deleteRule())}),b(1,"app-icon-delete"),h()}}function vM(t,e){if(t&1){let n=te();f(0,"button",7),I("click",function(){X(n);let i=C(2);return ee(i.paste())}),b(1,"app-icon-paste"),h()}}function yM(t,e){if(t&1&&(f(0,"div",6),G(1,gM,2,0,"button",2)(2,vM,2,0,"button",2),h()),t&2){let n=C();w(),B(n.mode.isMode("delete")?1:-1),w(),B(n.mode.isMode("cut-paste")?2:-1)}}function CM(t,e){if(t&1&&(f(0,"pre"),v(1),h(),f(2,"pre"),v(3),h()),t&2){let n=C();w(),Ce(e),w(2),Ce(n.ruleDebugString())}}var Cc=class t{rule=P.required();categories=P.required();variables=P.required();ruleChanged=Ft();ruleDebugString=ge(()=>ut(this.rule()));errorMessage=ae(null);mode=m(Ge);clipboard=m(li);compileRule(e){try{return rf(ut(e)),this.errorMessage.set(null),!0}catch(n){return n instanceof Error&&this.errorMessage.set(n.message),!1}}deleteRule(){this.ruleChanged.emit(null)}resetCondition(){this.updateCondition(new Le)}updateCondition(e){let n=R(y({},this.rule()),{condition:e});this.compileRule(n)&&this.ruleChanged.emit(n)}emitNewQuestions(e){let n=R(y({},this.rule()),{effects:R(y({},this.rule().effects),{questions:e})});this.compileRule(n)&&this.ruleChanged.emit(n)}updateQuestion(e,n){let r=this.rule().effects.questions;r[e]=n,this.emitNewQuestions(r)}addQuestion(){let e={variable:"",question:""};this.updateQuestion(this.rule().effects.questions.length,e)}deleteQuestion(e){let n=this.rule().effects.questions;n.splice(e,1),this.emitNewQuestions(n)}cutQuestion(e){let n=this.rule().effects.questions[e];this.deleteQuestion(e),this.clipboard.cutQuestion(n)}swapQuestions(e,n){let r=this.rule().effects.questions,i=r[e];r[e]=r[n],r[n]=i,this.emitNewQuestions(r)}emitNewItems(e){let n=R(y({},this.rule()),{effects:R(y({},this.rule().effects),{items:e})});this.compileRule(n)&&this.ruleChanged.emit(n)}updateItem(e,n){console.log("updateItem",e,n);let r=this.rule().effects.items;r[e]=n,this.emitNewItems(r)}addItem(){let e={category:"New",name:"Item"};this.updateItem(this.rule().effects.items.length,e)}deleteItem(e){let n=this.rule().effects.items;n.splice(e,1),this.emitNewItems(n)}cutItem(e){let n=this.rule().effects.items[e];this.deleteItem(e),this.clipboard.cutItem(n)}swapItems(e,n){let r=this.rule().effects.items,i=r[e];r[e]=r[n],r[n]=i,this.emitNewItems(r)}paste(){let e=this.clipboard.paste(),n=R(y({},this.rule()),{effects:{questions:[...this.rule().effects.questions,...e.questions],items:[...this.rule().effects.items,...e.items]}});this.ruleChanged.emit(n)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-editor-rule"]],inputs:{rule:[1,"rule"],categories:[1,"categories"],variables:[1,"variables"]},outputs:{ruleChanged:"ruleChanged"},standalone:!0,features:[T],decls:10,vars:5,consts:[[1,"mb-1","flex","items-center"],[1,"grow",3,"conditionChanged","variables","condition"],[1,"icon"],[1,"mb-1","flex","h-16","items-center"],[1,"mb-1","flex","h-8","items-center"],[1,"flex","justify-end","gap-2"],[1,"flex","justify-center"],[1,"icon",3,"click"],[1,"grow",3,"questionChanged","question"],[1,"ml-6"],[1,"grow",3,"itemChanged","item","categories"],[3,"click"]],template:function(n,r){if(n&1&&(f(0,"div",0)(1,"app-editor-condition",1),I("conditionChanged",function(o){return r.updateCondition(o)}),h(),G(2,eM,2,0,"button",2),h(),He(3,aM,6,3,"div",3,Xn),He(5,pM,6,4,"div",4,Xn),G(7,mM,5,0,"div",5)(8,yM,3,2,"div",6)(9,CM,4,2)),n&2){let i;w(),N("variables",r.variables())("condition",r.rule().condition),w(),B(r.mode.isMode("edit")?2:-1),w(),ze(r.rule().effects.questions),w(2),ze(r.rule().effects.items),w(2),B(r.mode.isMode("edit")?7:8),w(2),B((i=r.errorMessage())?9:-1,i)}},dependencies:[Ka,hc,pc,di,mc,gc,vc,yc],encapsulation:2})};function Cy(t,e){let n=localStorage.getItem(t);return n&&console.log("Loaded "+t+" from local storage"),n||e}function Mo(t,e){e?(console.log("Saved "+t+" to local storage"),localStorage.setItem(t,e)):(console.log("Deleted "+t+" from local storage"),localStorage.removeItem(t))}var Dc=`# This is the rules template

:-
   Will it be sunny? $sunny,
   [Utility] Paper Tissues,
   [Utility] Backpack;

sunny :-
   [Utility] Sunglasses,
   [Utility] Sunscreen,
   [Clothes] Short Pants;

NOT sunny :-
   [Clothes] Jacket,
   [Clothes] Long Pants;
`;var Ut=class t{rules=Cy("rules",Dc);getRules(){return this.rules}saveRules(e){e&&(this.rules=e,Mo("rules",e))}resetRules(){this.rules=Dc,Mo("rules",Dc)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})};var wc=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-view"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-146 0-266-81.5T40-500q54-137 174-218.5T480-800q146 0 266 81.5T920-500q-54 137-174 218.5T480-200Zm0-300Zm0 220q113 0 207.5-59.5T832-500q-50-101-144.5-160.5T480-720q-113 0-207.5 59.5T128-500q50 101 144.5 160.5T480-280Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var bc=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-edit"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var Ec=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-reorder"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M160-501q0 71 47.5 122T326-322l-62-62 56-56 160 160-160 160-56-56 64-64q-105-6-176.5-81T80-500q0-109 75.5-184.5T340-760h140v80H340q-75 0-127.5 52T160-501Zm400 261v-80h320v80H560Zm0-220v-80h320v80H560Zm0-220v-80h320v80H560Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var fi=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-swap"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M320-440v-287L217-624l-57-56 200-200 200 200-57 56-103-103v287h-80ZM600-80 400-280l57-56 103 103v-287h80v287l103-103 57 56L600-80Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var DM=t=>({"sticky left-0 top-0 z-50 shadow-md":t}),So=t=>({"ring ring-slate-700":t});function wM(t,e){t&1&&(f(0,"span"),v(1,"empty"),h())}function bM(t,e){if(t&1&&(f(0,"span"),v(1),h()),t&2){let n=C(3);w(),qe("",n.clipboard.itemsCount," Items")}}function EM(t,e){if(t&1&&(f(0,"span"),v(1),h()),t&2){let n=C(3);w(),qe("",n.clipboard.questionsCount," Questions")}}function _M(t,e){if(t&1&&G(0,bM,2,1,"span")(1,EM,2,1,"span"),t&2){let n=C(2);B(n.clipboard.itemsCount?0:-1),w(),B(n.clipboard.questionsCount?1:-1)}}function IM(t,e){if(t&1&&(f(0,"div",4)(1,"span"),v(2,"Clipboard:"),h(),G(3,wM,2,0,"span")(4,_M,2,2),h()),t&2){let n=C();w(3),B(n.clipboard.itemsCount===0&&n.clipboard.questionsCount===0?3:4)}}var _c=class t{mode=m(Ge);clipboard=m(li);sticky=ae(!1);scroller=m(Sa);ngOnDestroy(){this.mode.reset()}scroll(){this.sticky.set(this.scroller.getScrollPosition()?.[1]>100)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-toolbar"]],hostBindings:function(n,r){n&1&&I("scroll",function(){return r.scroll()},!1,_m)},standalone:!0,features:[T],decls:13,vars:24,consts:[[1,"bg-white","py-2",3,"ngClass"],[1,"mb-1","grid","grid-cols-5","gap-2"],[1,"icon",3,"click","ngClass"],[1,"my-auto",3,"size"],[1,"flex","justify-center","gap-5"]],template:function(n,r){n&1&&(f(0,"div",0)(1,"div",1)(2,"button",2),I("click",function(){return r.mode.setMode("view")}),b(3,"app-icon-view",3),h(),f(4,"button",2),I("click",function(){return r.mode.setMode("edit")}),b(5,"app-icon-edit",3),h(),f(6,"button",2),I("click",function(){return r.mode.setMode("delete")}),b(7,"app-icon-delete",3),h(),f(8,"button",2),I("click",function(){return r.mode.setMode("cut-paste")}),b(9,"app-icon-reorder",3),h(),f(10,"button",2),I("click",function(){return r.mode.setMode("swap")}),b(11,"app-icon-swap",3),h()(),G(12,IM,5,1,"div",4),h()),n&2&&(N("ngClass",Ct(12,DM,r.sticky())),w(2),N("ngClass",Ct(14,So,r.mode.isMode("view"))),w(),N("size",24),w(),N("ngClass",Ct(16,So,r.mode.isMode("edit"))),w(),N("size",24),w(),N("ngClass",Ct(18,So,r.mode.isMode("delete"))),w(),N("size",24),w(),N("ngClass",Ct(20,So,r.mode.isMode("cut-paste"))),w(),N("size",24),w(),N("ngClass",Ct(22,So,r.mode.isMode("swap"))),w(),N("size",24),w(),B(r.mode.isMode("cut-paste")?12:-1))},dependencies:[zr,wc,bc,di,Ec,fi],encapsulation:2})};var Ht=class t{answers={};checkedItems=[];constructor(){let e=localStorage.getItem("answers");e&&(this.answers=JSON.parse(e));let n=localStorage.getItem("checkedItems");n&&(this.checkedItems=JSON.parse(n))}getAnswers(){return this.answers}saveAnswers(e){e?(this.answers=e,localStorage.setItem("answers",JSON.stringify(e))):localStorage.removeItem("answers")}getCheckedItems(){return this.checkedItems}setCheckedItems(e){e?(this.checkedItems=e,localStorage.setItem("checkedItems",JSON.stringify(e))):localStorage.removeItem("checkedItems")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})};var Dy={fadeOutDisabledRules:!1,trackWeight:!1},Nn=class t{config=Dy;constructor(){let e=localStorage.getItem("config");e&&(this.config=JSON.parse(e))}persist(){Mo("config",JSON.stringify(this.config))}resetConfig(){this.config=Dy,this.persist()}setFadeOutDisabledRules(e){this.config.fadeOutDisabledRules=e,this.persist()}isFadeOutDisabledRules(){return this.config.fadeOutDisabledRules}setTrackWeight(e){this.config.trackWeight=e,this.persist()}isTrackWeight(){return this.config.trackWeight}static \u0275fac=function(n){return new(n||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})};var hi=class t{error=P();static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-error"]],inputs:{error:[1,"error"]},standalone:!0,features:[T],decls:11,vars:1,consts:[[1,"flex","flex-col","items-center","gap-3","text-center"],[1,"font-mono","text-red-700"],["routerLink","/rules-raw"]],template:function(n,r){n&1&&(f(0,"div",0)(1,"p"),v(2,"The following error occured while parsing the rules:"),h(),f(3,"p",1),v(4),h(),f(5,"p"),v(6," Unfortunately, this error can only be fixed by changing the rules manually. "),h(),f(7,"p"),v(8,"Please do that"),h(),f(9,"button",2),v(10,"here"),h()()),n&2&&(w(4),Ce(r.error()))},dependencies:[ni],encapsulation:2})};var xM=t=>({"opacity-50":t});function MM(t,e){t&1&&b(0,"app-error",0),t&2&&N("error",e)}function SM(t,e){if(t&1){let n=te();f(0,"div",3)(1,"button",5),I("click",function(){X(n);let i=C().$index,o=C(2);return ee(o.swapRules(i-1,i))}),b(2,"app-icon-swap"),h()()}}function TM(t,e){if(t&1){let n=te();G(0,SM,3,0,"div",3),f(1,"div",1)(2,"app-editor-rule",4),I("ruleChanged",function(i){let o=X(n).$index,s=C(2);return ee(s.updateRule(o,i))}),h()()}if(t&2){let n=e.$implicit,r=e.$index,i=C(2);B(r>0&&i.mode.isMode("swap")?0:-1),w(),N("ngClass",Ct(5,xM,i.showAsDisabled(n))),w(),N("rule",n)("categories",i.categories())("variables",i.variables())}}function AM(t,e){if(t&1){let n=te();f(0,"button",6),I("click",function(){X(n);let i=C(2);return ee(i.addRule())}),v(1,"+ Rule"),h()}}function NM(t,e){if(t&1&&(b(0,"app-toolbar"),He(1,TM,3,7,"div",1,Xn),G(3,AM,2,0,"button",2)),t&2){let n=C();w(),ze(n.parsedRules()),w(2),B(n.mode.isMode("edit")?3:-1)}}var Ic=class t{parsedRules=ae([]);categories=ae([]);variables=ae([]);persistence=m(Ut);mode=m(Ge);error=ae(void 0);answers=m(Ht).getAnswers();config=m(Nn);ngOnInit(){try{this.calculateFields(xn(this.persistence.getRules())),this.error.set(void 0)}catch(e){e instanceof Error?this.error.set(e.message):this.error.set("Unknown error"),console.error(e)}}calculateFields(e){this.parsedRules.set(e),this.categories.set(zv(e)),this.variables.set(Hv(e))}updateRule(e,n){console.log("updateRule",e,n);let r=this.parsedRules();n?r[e]=n:r.splice(e,1);let i=vf(r);this.persistence.saveRules(i),this.calculateFields(r)}addRule(){this.updateRule(this.parsedRules().length,{condition:new Le,effects:{questions:[],items:[]}}),setTimeout(()=>{window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})},100)}swapRules(e,n){let r=this.parsedRules(),i=r[e];r[e]=r[n],r[n]=i;let o=vf(r);this.persistence.saveRules(o),this.calculateFields(r)}showAsDisabled(e){return this.config.isFadeOutDisabledRules()&&!e.condition.evaluate(this.answers)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-rules"]],standalone:!0,features:[T],decls:2,vars:1,consts:[[3,"error"],[1,"card","mb-1",3,"ngClass"],[1,"sticky","bottom-0"],[1,"flex","justify-center"],[3,"ruleChanged","rule","categories","variables"],[1,"icon",3,"click"],[1,"sticky","bottom-0",3,"click"]],template:function(n,r){if(n&1&&G(0,MM,1,1,"app-error",0)(1,NM,4,1),n&2){let i;B((i=r.error())?0:1,i)}},dependencies:[Cc,_c,fi,zr,hi],encapsulation:2})};var pi=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-checkmark"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","300 -1000 500 800","fill","#000000"],["d","M382-240 154-468l57-57 171 171 367-367 57 57-424 424Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};function RM(t,e){t&1&&(f(0,"span"),b(1,"app-icon-checkmark"),h())}function OM(t,e){if(t&1){let n=te();f(0,"div",1),I("click",function(){X(n);let i=C();return ee(i.click())}),f(1,"span",2),v(2),h(),G(3,RM,2,0,"span"),h()}if(t&2){let n=C();w(2),Ce(e),w(),B(n.value()?3:-1)}}var xc=class t{question=P(void 0);value=P(void 0);valueChange=Ft();click(){this.valueChange.emit(!this.value())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-display-question"]],inputs:{question:[1,"question"],value:[1,"value"]},outputs:{valueChange:"valueChange"},standalone:!0,features:[T],decls:1,vars:1,consts:[[1,"flex","flex-row","justify-between"],[1,"flex","flex-row","justify-between",3,"click"],[1,"font-bold"]],template:function(n,r){if(n&1&&G(0,OM,4,2,"div",0),n&2){let i;B((i=r.question())?0:-1,i)}},dependencies:[pi],encapsulation:2})};function FM(t,e){t&1&&b(0,"app-icon-checkmark")}function kM(t,e){if(t&1&&(v(0),f(1,"span",0),v(2,"/"),h(),v(3)),t&2){let n=C();qe(" ",n.count(),""),w(3),qe("",n.total(),`
`)}}var Mc=class t{count=P(0);total=P(0);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-status"]],inputs:{count:[1,"count"],total:[1,"total"]},standalone:!0,features:[T],decls:2,vars:1,consts:[[1,"px-0.5"]],template:function(n,r){n&1&&G(0,FM,1,0,"app-icon-checkmark")(1,kM,4,2),n&2&&B(r.count()===r.total()?0:1)},dependencies:[pi],encapsulation:2})};var PM=(t,e)=>e.key,LM=t=>({"text-slate-500 line-through":t});function VM(t,e){if(t&1&&(f(0,"div",0),b(1,"progress",2),h(),f(2,"div",3),v(3),h()),t&2){let n=C();w(),N("value",n.weightChecked())("max",n.weightTotal()),w(2),Xl(" ",n.serializeWeight(n.weightChecked(),"kg")||"0kg"," / ",n.serializeWeight(n.weightTotal(),"kg")||"0kg"," ")}}function jM(t,e){if(t&1&&(f(0,"div",0),b(1,"progress",2),h()),t&2){let n=C();w(),N("value",n.percentage())("max",100)}}function $M(t,e){if(t&1&&(f(0,"span",9),v(1),h()),t&2){let n=C().$implicit,r=C(2);w(),Ce(r.serializeWeight(n.weight))}}function BM(t,e){if(t&1){let n=te();f(0,"li",8),I("click",function(){let i=X(n).$implicit,o=C(2);return ee(o.toggle(i))}),v(1),G(2,$M,2,1,"span",9),h()}if(t&2){let n=e.$implicit,r=C(2);N("ngClass",Ct(3,LM,n.checked)),w(),qe(" ",n.name," "),w(),B(n.weight&&r.trackWeight?2:-1)}}function UM(t,e){if(t&1&&(f(0,"div",1)(1,"div",4)(2,"span",5),v(3),h(),b(4,"app-status",6),h(),f(5,"ul"),He(6,BM,3,5,"li",7,Xn),h()()),t&2){let n=e.$implicit;w(3),Ce(n.key),w(),N("count",n.value.checked)("total",n.value.items.length),w(2),ze(n.value.items)}}function yf(t){return`${t.category}-${t.name}`}var Sc=class t{items=P([]);persistence=m(Ht);checkedItems=ae(this.persistence.getCheckedItems());groupedItems=ge(()=>{let e=this.checkedItems();return this.items().reduce((n,r)=>{n[r.category]||(n[r.category]={items:[],checked:0});let i=e.includes(yf(r));return n[r.category].items.push(R(y({},r),{checked:i})),i&&n[r.category].checked++,n},{})});percentage=ge(()=>{let e=this.groupedItems(),[n,r]=Object.values(e).reduce(([i,o],s)=>[i+s.checked,o+s.items.length],[0,0]);return r===0?0:n*100/r});trackWeight=m(Nn).isTrackWeight();weightTotal=ge(()=>Math.round(this.items().reduce((e,n)=>e+(n.weight??0),0)));weightChecked=ge(()=>Math.round(this.items().reduce((e,n)=>e+(this.checkedItems().includes(yf(n))?n.weight??0:0),0)));serializeWeight=xo;toggle(e){let n=yf(e);this.checkedItems().includes(n)?this.checkedItems.update(r=>r.filter(i=>i!==n)):this.checkedItems.update(r=>[...r,n]),this.persistence.setCheckedItems(this.checkedItems())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-display-items"]],inputs:{items:[1,"items"]},standalone:!0,features:[T],decls:5,vars:3,consts:[[1,"mb-1","flex"],[1,"card","mb-1"],[1,"grow",3,"value","max"],[1,"flex","justify-center"],[1,"flex","flex-row","justify-between"],[1,"pb-1","font-bold","italic"],[3,"count","total"],[1,"flex","justify-between",3,"ngClass"],[1,"flex","justify-between",3,"click","ngClass"],[1,"italic"]],template:function(n,r){n&1&&(G(0,VM,4,4)(1,jM,2,2,"div",0),He(2,UM,8,3,"div",1,PM),hg(4,"keyvalue")),n&2&&(B(r.trackWeight?0:1),w(2),ze(pg(4,1,r.groupedItems())))},dependencies:[Pg,Mc,zr],styles:["progress[_ngcontent-%COMP%]::-webkit-progress-bar{background-color:transparent}progress[_ngcontent-%COMP%]::-webkit-progress-value{background-color:#999;border-radius:2px}"]})};var HM=(t,e)=>e.question;function zM(t,e){t&1&&b(0,"app-error",0),t&2&&N("error",e)}function qM(t,e){if(t&1){let n=te();f(0,"div",2)(1,"app-display-question",3),I("valueChange",function(i){let o=X(n).$implicit,s=C(2);return ee(s.modelChange(o.variable,i))}),h()()}if(t&2){let n=e.$implicit,r=C(2);w(),N("question",n.question)("value",r.model()[n.variable])}}function GM(t,e){if(t&1&&(He(0,qM,2,2,"div",2,HM),b(2,"app-display-items",1)),t&2){let n=C();ze(n.questions()),w(2),N("items",n.items())}}var Tc=class t{rulesPersistence=m(Ut);packlistPersistence=m(Ht);rules=ae([]);model=ae(this.packlistPersistence.getAnswers());activeRules=ge(()=>{let e=this.model();return this.rules().filter(n=>n.condition.evaluate(e))});questions=ge(()=>this.activeRules().flatMap(e=>e.effects.questions));items=ge(()=>this.activeRules().flatMap(e=>e.effects.items));error=ae(void 0);constructor(){Wi(()=>{let e=this.model();this.packlistPersistence.saveAnswers(e)})}ngOnInit(){let e=this.rulesPersistence.getRules();try{this.rules.set(xn(e)),this.error.set(void 0)}catch(n){n instanceof Error?this.error.set(n.message):this.error.set("An unknown error occurred"),console.error(n)}}modelChange(e,n){this.model.update(r=>R(y({},r),{[e]:n}))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-packlist"]],standalone:!0,features:[T],decls:2,vars:1,consts:[[3,"error"],[3,"items"],[1,"card","mb-1"],[3,"valueChange","question","value"]],template:function(n,r){if(n&1&&G(0,zM,1,1,"app-error",0)(1,GM,3,1,"app-display-items",1),n&2){let i;B((i=r.error())?0:1,i)}},dependencies:[xc,Sc,hi],encapsulation:2})};var wy={version:"0.0.0",git_hash:"d860eda0a4c5f3e7fd815dbadb5346f83ac7bdc7"};var Cf="travel-packlist-rules.txt",Ac=class t{packlist=m(Ht);rules=m(Ut);router=m(wt);env=wy;config=m(Nn);fadeOutDisabledRulesControl=new ct(this.config.isFadeOutDisabledRules());trackWeightControl=new ct(this.config.isTrackWeight());constructor(){this.fadeOutDisabledRulesControl.valueChanges.pipe(at()).subscribe(e=>{this.config.setFadeOutDisabledRules(!!e)}),this.trackWeightControl.valueChanges.pipe(at()).subscribe(e=>{this.config.setTrackWeight(!!e)})}isMobile(){let e=navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(e)}resetChecklist(){window.confirm("Are you sure you want to reset the checklist?")&&(this.packlist.saveAnswers({}),this.packlist.setCheckedItems([]),this.router.navigate(["/packlist"]))}resetEverything(){window.confirm("Are you sure you want to reset the whole application?")&&(this.packlist.saveAnswers({}),this.packlist.setCheckedItems([]),this.rules.resetRules(),this.config.resetConfig(),this.router.navigate(["/packlist"]))}downloadRules(){let e=this.rules.getRules(),n=new Blob([e],{type:"text/plain"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=Cf,i.click()}shareRules(){let e=this.rules.getRules();navigator.share({title:Cf,files:[new File([e],Cf,{type:"text/plain"})]})}exportRules(){this.isMobile()&&"share"in navigator?this.shareRules():this.downloadRules()}importRules(){let e=document.createElement("input");e.type="file",e.accept=".txt",e.onchange=async()=>{let n=e.files?.[0];if(!n)return;let r=await n.text();this.rules.saveRules(r);try{xn(r),this.router.navigate(["/packlist"])}catch{this.router.navigate(["/rules"])}},e.click()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-config"]],standalone:!0,features:[T],decls:59,vars:6,consts:[[1,"section"],[1,"font-bold"],[3,"click"],[1,"flex","items-center","gap-3"],["type","checkbox","id","track-weight",3,"formControl"],["for","track-weight",1,"grow"],[1,"w-1/2","text-sm","italic"],["routerLink","/rules"],["type","checkbox","id","rules-debug-mode",3,"formControl"],["for","rules-debug-mode"],["routerLink","/documentation"],["routerLink","/rules-raw"],[1,"font-mono","text-sm","text-slate-500"],[3,"href"],[1,"flex","flex-col","gap-4"],["href","https://github.com/dhhyi/travel-packlist/issues","target","_blank"],["src","https://img.shields.io/github/issues/dhhyi/travel-packlist","alt","GitHub issues",1,"inline"],["href","mailto:dhhyi@aol.com","target","_blank"],["src","https://img.shields.io/badge/email-dhhyi%40aol.com-blue","alt","Email",1,"inline"],["href","https://ko-fi.com/danilohoffmann","target","_blank"],["src","https://storage.ko-fi.com/cdn/brandasset/kofi_button_stroke.png","alt","Buy Me a Coffee at ko-fi.com",1,"inline","max-w-40"],[1,"red",3,"click"]],template:function(n,r){n&1&&(f(0,"div",0)(1,"span",1),v(2,"Answers"),h(),f(3,"button",2),I("click",function(){return r.resetChecklist()}),v(4,"Reset Checklist"),h(),f(5,"div",3),b(6,"input",4),f(7,"label",5),v(8,"Track item weight"),h(),f(9,"p",6),v(10," You can enter the item weight appended to the item name in the editor. "),h()()(),f(11,"div",0)(12,"span",1),v(13,"Rules"),h(),f(14,"button",7),v(15,"Edit Rules"),h(),f(16,"div",3),b(17,"input",8),f(18,"label",9),v(19,"Fade out disabled rules in editor"),h()(),b(20,"hr"),f(21,"button",10),v(22,"Documentation"),h(),f(23,"button",11),v(24,"Edit Rules with Code"),h(),b(25,"hr"),f(26,"button",2),I("click",function(){return r.exportRules()}),v(27,"Export Rules"),h(),f(28,"button",2),I("click",function(){return r.importRules()}),v(29,"Import Rules"),h()(),f(30,"div",0)(31,"span",1),v(32,"App Version"),h(),f(33,"span"),v(34),h(),f(35,"span",12)(36,"a",13),v(37),h()()(),f(38,"div",0)(39,"span",1),v(40,"Support"),h(),f(41,"div",14)(42,"p"),v(43," If you find any bugs or have any suggestions, please open an issue on GitHub: "),f(44,"a",15),b(45,"img",16),h()(),f(46,"p"),v(47," Alternatively, you can reach out to me by "),f(48,"a",17),b(49,"img",18),h()(),f(50,"p"),v(51," If you like this app, please consider to "),f(52,"a",19),b(53,"img",20),h()()()(),f(54,"div",0)(55,"span",1),v(56,"DANGER!"),h(),f(57,"button",21),I("click",function(){return r.resetEverything()}),v(58,"Reset Application"),h()()),n&2&&(w(6),N("formControl",r.trackWeightControl),w(11),N("formControl",r.fadeOutDisabledRulesControl),w(17),Ce(r.env.version),w(2),Da("href","https://github.com/dhhyi/travel-packlist/commit/",r.env.git_hash,"",Ll),w(),Ce(r.env.git_hash))},dependencies:[Ya,ni,An,lf,Tn,Eo],styles:[".section[_ngcontent-%COMP%]{margin-bottom:.75rem;display:flex;flex-direction:column;gap:.5rem;border-bottom-width:1px;padding-bottom:.5rem}"]})};var Nc=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-documentation"]],standalone:!0,features:[T],decls:81,vars:0,consts:[["id","howtodefinerules"],["id","comments"],["id","rules"],["id","effects"],["id","questions"],["id","items"],["id","conditions"],["id","conclusion"]],template:function(n,r){n&1&&(f(0,"h1",0),v(1,"How to define rules"),h(),f(2,"h2",1),v(3,"Comments"),h(),f(4,"p"),v(5,"start with the "),f(6,"code"),v(7,"#"),h(),v(8," character and can be placed anywhere in the file. Code after a "),f(9,"code"),v(10,"#"),h(),v(11," will be ignored."),h(),f(12,"pre")(13,"code"),v(14,`# This is a comment
`),h()(),f(15,"h2",2),v(16,"Rules"),h(),f(17,"p"),v(18,"are defined with the following syntax:"),h(),f(19,"pre")(20,"code"),v(21,`Condition :- Effects ;
`),h()(),f(22,"p"),v(23,"Rules have to be separated by a semicolon character."),h(),f(24,"p"),v(25,"One example for a rule could be:"),h(),f(26,"pre")(27,"code"),v(28,`cold_weather :- [Clothing] Coat,
  Do you expect snow? $snow ;
`),h()(),f(29,"p"),v(30,'Means something like "If it is cold weather, you should bring a coat. Also, you should answer the question if you expect snow."'),h(),f(31,"h3",3),v(32,"Effects"),h(),f(33,"p"),v(34,"can be either "),f(35,"strong"),v(36,"questions"),h(),v(37," or "),f(38,"strong"),v(39,"items"),h(),v(40,` as seen above.
Separate multiple effects with a comma.`),h(),f(41,"h3",4),v(42,"Questions"),h(),f(43,"p"),v(44,"are defined with the following syntax:"),h(),f(45,"pre")(46,"code"),v(47,`Question? $variable
`),h()(),f(48,"p"),v(49,`A question will be displayed on top of the list.
You can toggle the answer by clicking on it.`),h(),f(50,"h3",5),v(51,"Items"),h(),f(52,"p"),v(53,"are defined with the following syntax:"),h(),f(54,"pre")(55,"code"),v(56,`[Category] Name
`),h()(),f(57,"p"),v(58,"An item will be displayed in the list under its category."),h(),f(59,"h3",6),v(60,"Conditions"),h(),f(61,"p"),v(62,`can be empty, in which case they are always true.
You can use variables for defining logic with AND, OR, and NOT.
Variables are defined in questions.
Conditions trigger the effects of the rule if they are true. So if the condition is not met, then you will neither see any addition questons nor items of that specific rule.`),h(),f(63,"p"),v(64,"Some examples for conditions:"),h(),f(65,"pre")(66,"code"),v(67,`cold_weather AND NOT snow
`),h()(),f(68,"p"),v(69,'Means something like "It is cold weather and it is not snowing".'),h(),f(70,"pre")(71,"code"),v(72,`washer OR laundromat
`),h()(),f(73,"p"),v(74,'Means something like "You have a washer in your AirBnB or you have a laundromat nearby".'),h(),f(75,"h2",7),v(76,"Conclusion"),h(),f(77,"p"),v(78,"With all of this you can define a conditional checklist very flexible."),h(),f(79,"p"),v(80,`One advice:
Don't trigger too many effects in one rule. It can get confusing.`),h())},styles:["h1[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;font-size:1.25rem;line-height:1.75rem;font-weight:700}h2[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;font-size:1.125rem;line-height:1.75rem;font-weight:700}h3[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;font-size:1rem;line-height:1.5rem;font-weight:700}p[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:.5rem;padding-top:.25rem;padding-bottom:.25rem;font-size:1rem;line-height:1.5rem}pre[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:.5rem;border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity));padding:.5rem;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}"]})};function ZM(t,e){t&1&&(f(0,"div",2),v(1,"Waiting for input."),h())}function QM(t,e){if(t&1&&(f(0,"div",3),v(1),h()),t&2){let n=C();w(),qe(" Parsed ",n.noOfRules()," rules successfully! ")}}function YM(t,e){if(t&1&&(f(0,"div",4),v(1),h()),t&2){let n=C();w(),Ce(n.state())}}var Rc=class t{rules=new ct("");state=ae("pending");parsedRules=ae([]);noOfRules=ge(()=>this.parsedRules().length);persistence=m(Ut);constructor(){this.rules.valueChanges.pipe(pe(()=>{this.state.set("pending")}),jn(500),at()).subscribe({complete:()=>{this.persistence.saveRules(this.rules.value)},next:e=>{if(this.persistence.saveRules(e),e)try{let n=xn(e);this.parsedRules.set(n),this.state.set("success")}catch(n){n instanceof Error?this.state.set(n.message):console.error(n)}}}),this.rules.setValue(this.persistence.getRules())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-edit-rules-raw"]],standalone:!0,features:[T],decls:5,vars:2,consts:[[1,"mb-8","w-full","grow","resize-none","rounded","border","border-gray-300","bg-gray-100","px-1","py-0","pb-10","font-mono","leading-tight","text-gray-700","focus:bg-white","focus:outline-none",3,"formControl"],[1,"absolute","bottom-0","left-0","w-full","bg-white","p-2","font-mono"],[1,"text-yellow-600"],[1,"text-green-700"],[1,"text-red-700"]],template:function(n,r){if(n&1&&(b(0,"textarea",0),f(1,"div",1),G(2,ZM,2,0,"div",2)(3,QM,2,1,"div",3)(4,YM,2,1,"div",4),h()),n&2){let i;N("formControl",r.rules),w(2),B((i=r.state())==="pending"?2:i==="success"?3:4)}},dependencies:[An,Sn,Tn,Eo],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}"]})};var by=[{path:"",redirectTo:"/packlist",pathMatch:"full"},{path:"packlist",component:Tc},{path:"config",component:Ac},{path:"rules",component:Ic},{path:"rules-raw",component:Rc},{path:"documentation",component:Nc},{path:"**",redirectTo:"/packlist"}];var Ao="Service workers are disabled or not supported by this browser";function KM(t){return Pn(()=>nn(new Error(t)))}var mi=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=KM(Ao);else{let r=yr(e,"controllerchange").pipe(L(()=>e.controller)),i=Pn(()=>A(e.controller)),o=It(i,r);this.worker=o.pipe(Ie(l=>!!l)),this.registration=this.worker.pipe(xe(()=>e.getRegistration()));let u=yr(e,"message").pipe(L(l=>l.data)).pipe(Ie(l=>l&&l.type)).pipe(tu());u.connect(),this.events=u}}postMessage(e,n){return this.worker.pipe(we(1),pe(r=>{r.postMessage(y({action:e},n))})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,n);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let n;return typeof e=="string"?n=r=>r.type===e:n=r=>e.includes(r.type),this.events.pipe(Ie(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(we(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ie(n=>n.nonce===e),we(1),L(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},JM=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,this.pushManager=null,this.subscriptionChanges=new se,!r.isEnabled){this.messages=Ln,this.notificationClicks=Ln,this.subscription=Ln;return}this.messages=this.sw.eventsOfType("PUSH").pipe(L(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(L(o=>o.data)),this.pushManager=this.sw.registration.pipe(L(o=>o.pushManager));let i=this.pushManager.pipe(xe(o=>o.getSubscription()));this.subscription=us(i,this.subscriptionChanges)}requestSubscription(r){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Ao));let i={userVisibleOnly:!0},o=this.decodeBase64(r.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(o.length));for(let a=0;a<o.length;a++)s[a]=o.charCodeAt(a);return i.applicationServerKey=s,this.pushManager.pipe(xe(a=>a.subscribe(i)),we(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ao));let r=i=>{if(i===null)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(we(1),xe(r)).toPromise()}decodeBase64(r){return atob(r)}};e.\u0275fac=function(i){return new(i||e)(O(mi))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Df=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,!r.isEnabled){this.versionUpdates=Ln,this.unrecoverable=Ln;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ao));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:r},r)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ao));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:r},r)}};e.\u0275fac=function(i){return new(i||e)(O(mi))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();var Ey=new M("");function XM(t,e,n,r){return()=>{if(!(Ma(r)&&"serviceWorker"in navigator&&n.enabled!==!1))return;let i=t.get(de),o=t.get(Pt);i.runOutsideAngular(()=>{let a=navigator.serviceWorker,c=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",c),o.onDestroy(()=>{a.removeEventListener("controllerchange",c)})});let s;if(typeof n.registrationStrategy=="function")s=n.registrationStrategy();else{let[a,...c]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=A(null);break;case"registerWithDelay":s=_y(+c[0]||0);break;case"registerWhenStable":let u=ie(t.get(Pt).whenStable());s=c[0]?us(u,_y(+c[0])):u;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}i.runOutsideAngular(()=>s.pipe(we(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function _y(t){return A(null).pipe(Xc(t))}function eS(t,e){return new mi(Ma(e)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var To=class{};function Iy(t,e={}){return Vr([JM,Df,{provide:Ey,useValue:t},{provide:To,useValue:e},{provide:mi,useFactory:eS,deps:[To,yt]},{provide:Br,useFactory:XM,deps:[Se,Ey,To,yt],multi:!0}])}var xy={providers:[Dg(),Fv(by,jv()),Iy("ngsw-worker.js",{enabled:!bg(),registrationStrategy:"registerWhenStable:30000"})]};var Oc=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-cog"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var Fc=class t{swUpdate=m(Df);constructor(){this.swUpdate.versionUpdates.subscribe(e=>{e.type==="VERSION_READY"&&this.swUpdate.activateUpdate().then(()=>{window.location.reload()})})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-root"]],standalone:!0,features:[T],decls:9,vars:1,consts:[[1,"flex","h-12","flex-row","items-center","p-2"],["routerLink","/",1,"flex","grow"],["src","icon.png","alt","icon","width","32px","height","32px"],[1,"text-2xl","font-bold"],["routerLink","/config",1,"pr-2"],[3,"size"],[1,"grow-children","flex","grow","flex-col","px-2","pb-2"]],template:function(n,r){n&1&&(f(0,"nav",0)(1,"a",1),b(2,"img",2),f(3,"span",3),v(4,"Travel Packlist"),h()(),f(5,"a",4),b(6,"app-icon-cog",5),h()(),f(7,"div",6),b(8,"router-outlet"),h()),n&2&&(w(6),N("size",24))},dependencies:[Ya,Yd,ni,Oc],encapsulation:2})};zg(Fc,xy).catch(t=>console.error(t));
