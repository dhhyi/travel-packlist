import{$a as S,Ac as I,Db as P,Hb as g,Ib as d,Oa as a,Ob as T,Qb as b,Tb as M,Ub as L,Za as y,b as m,ba as V,ga as p,ha as u,nb as O,ob as D,oc as x,pa as l,rc as w,sc as k,tb as C,ua as v,ub as r,vb as c,wb as E,yb as h}from"./chunk-a7b8e7ce.js";var R=(()=>{class i{appFocusThis=k(!1);element=V(v);constructor(){I(()=>{let e=this.element.nativeElement;this.appFocusThis()&&e&&e.focus();});}static ɵfac=function(n){return new(n||i)();};static ɵdir=S({type:i,selectors:[["","appFocusThis",""]],inputs:{appFocusThis:[1,"appFocusThis"]}});}return i;})();function G(i,o){if(i&1){let e=h();E(0,"div",3),r(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),M(5),c(),r(6,"input",8,0),g("keydown.enter",function(){p(e);let s=T(7),_=d();return u(_.self.dialogOk()(s.value));}),c(),r(8,"div",9)(9,"button",10),g("click",function(){p(e);let s=d();return u(s.self.dialogCancel()());}),P(10,1),c(),r(11,"button",11),g("click",function(){p(e);let s=T(7),_=d();return u(_.self.dialogOk()(s.value));}),P(12,2),c()()()()();}if(i&2){let e=d();a(5),L(e.self.dialogMessage()),a(),b("hidden",!e.self.dialogPromptVisible()),C("appFocusThis",e.self.focus()==="prompt")("value",e.self.dialogPrefill()),a(3),b("hidden",!e.self.dialogCancelVisible()),a(2),C("appFocusThis",e.self.focus()==="ok");}}var t=class i{self=i;static dialogVisible=l(!1);static dialogPromptVisible=l(!1);static dialogPrefill=l("");static dialogCancelVisible=l(!0);static dialogMessage=l("");static dialogOk=l(m);static dialogCancel=l(m);static focus=l(void 0);overlayVisible=w();constructor(){x(()=>{this.overlayVisible.emit(i.dialogVisible());}),x(()=>{i.focus(),setTimeout(()=>{i.focus.set(void 0);},500);});}static ɵfac=function(e){return new(e||i)();};static ɵcmp=y({type:i,selectors:[["app-dialog"]],outputs:{overlayVisible:"overlayVisible"},decls:1,vars:1,consts:()=>{let o;o=" Cancel ";let e;return e=" OK ",[["prompt",""],o,e,[1,"bg-disabled","pointer-events-none","fixed","top-0","left-0","z-40","h-full","w-full","opacity-50"],[1,"fixed","top-0","left-0","z-50","flex","h-full","w-full"],["role","dialog","aria-describedby","dialog-message",1,"card","bg-disabled","m-auto","w-[300px]"],[1,"m-2","flex","flex-col","gap-4"],["id","dialog-message"],["type","text","role","textbox",3,"keydown.enter","appFocusThis","value"],[1,"mt-4","grid","grid-cols-2","gap-4"],["type","button",1,"secondary",3,"click"],["type","submit",3,"click","appFocusThis"]];},template:function(e,n){e&1&&O(0,G,13,8),e&2&&D(n.self.dialogVisible()?0:-1);},dependencies:[R],encapsulation:2,changeDetection:0});};function A(i=!0,o=!1){t.dialogCancelVisible.set(i),t.dialogPromptVisible.set(o!==!1),typeof o=="string"&&t.dialogPrefill.set(o),t.focus.set(typeof o=="string"?"prompt":"ok"),t.dialogVisible.set(!0);}function f(){t.dialogVisible.set(!1),t.dialogPromptVisible.set(!1),t.dialogPrefill.set(""),t.dialogCancelVisible.set(!0);}function N(i){return t.dialogMessage.set(i),A(),new Promise(o=>{t.dialogOk.set(()=>{f(),o(!0);}),t.dialogCancel.set(()=>{f(),o(!1);});});}function $(i,o=""){return t.dialogMessage.set(i),A(!0,o),new Promise(e=>{t.dialogOk.set(n=>{f(),e(n.trim());}),t.dialogCancel.set(()=>{f(),e(null);});});}function K(i){return t.dialogMessage.set(i),A(!1),new Promise(o=>{t.dialogOk.set(()=>{f(),o();});});}export{t as a,N as b,$ as c,K as d};/**i18n:28a3168b76bee7dffc4b1e816012f24aa421b4da90b9b896cc67ce89fdf6fb94*/