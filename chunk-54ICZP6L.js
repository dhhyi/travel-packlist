import{b as c,d as T,f as h,k as M,q as b,s as F}from"./chunk-P4K6E2WM.js";import{o as A}from"./chunk-7VHR6J7U.js";import"./chunk-NIH7PET6.js";import{Bb as p,E as g,Ha as s,Ib as v,Jb as w,P as R,Sa as C,Ya as l,aa as a,eb as E,fc as d,hc as x,ib as u,nb as r,ob as i,pb as S,wb as _,xb as y,yb as P}from"./chunk-XTL3OQ2I.js";import"./chunk-7HGKORF3.js";function N(n,t){n&1&&(r(0,"div",4),_(1,0),i());}function O(n,t){if(n&1&&(r(0,"div",5),_(1,1),i()),n&2){let e=p();s(),y(e.rules),P(1);}}function L(n,t){if(n&1&&(r(0,"div",6),v(1),i()),n&2){let e=p();s(),w(e.error);}}function U(n,t){if(n&1&&l(0,N,2,0,"div",4)(1,O,2,1,"div",5)(2,L,2,1,"div",6),n&2){let e;u((e=t.type)==="pending"?0:e==="success"?1:2);}}var m=class n{state=a(A);fb=a(b).nonNullable;rulesControl=this.fb.control(this.state.get("rulesOrTemplate"));rulesText=c(this.rulesControl.valueChanges.pipe(R(this.rulesControl.value)));rulesPending=d(()=>this.rulesText()!==this.state.signal("rulesOrTemplate")());parserState=d(()=>{if(this.rulesPending())return{type:"pending"};{let t=this.state.signal("ruleParserError");return t()?{type:"error",error:t()}:{type:"success",rules:this.state.signal("parsedRules")().length};}});constructor(){let t=c(this.rulesControl.valueChanges.pipe(g(500)));x(()=>{let e=t();e&&this.state.set("rules",e);});}static ɵfac=function(e){return new(e||n)();};static ɵcmp=C({type:n,selectors:[["app-edit-rules-raw"]],decls:3,vars:2,consts:()=>{let t;t="Warte auf Eingabe.";let e;return e=""+"\uFFFD0\uFFFD"+" Regeln erfolgreich geparst!",[t,e,[1,"grow","resize-none","rounded","border","border-gray-300","bg-gray-100","px-1","py-0","pb-10","font-mono","leading-tight","text-gray-700","focus:outline-none","dark:bg-gray-900","dark:text-gray-300",3,"formControl"],[1,"bg-active","bottom-0","p-2","font-mono"],[1,"text-yellow-normal"],[1,"text-green-normal"],[1,"text-red-normal"]];},template:function(e,o){if(e&1&&(S(0,"textarea",2),r(1,"div",3),l(2,U,3,1),i()),e&2){let f;E("formControl",o.rulesControl),s(2),u((f=o.parserState())?2:-1,f);}},dependencies:[F,T,h,M],styles:["[_nghost-%COMP%]{display:flex;flex-grow:1;flex-direction:column}"],changeDetection:0});};export{m as default};/**i18n:ce629f7757620cd455841d864165c42e946502d979ab9ef58d04496856a7546b*/