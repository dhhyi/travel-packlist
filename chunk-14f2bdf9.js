import{a as St}from"./chunk-e5517a1c.js";import{b as y}from"./chunk-93ef123f.js";import{j as st,l as ct,u as gt,v as Ct}from"./chunk-488d3178.js";import{b as dt,c as B,f as pt,h as ut,q as H}from"./chunk-00dc0822.js";import{q as W}from"./chunk-1d9a165a.js";import{b as _t,d as lt,e as at,j as rt}from"./chunk-611713ed.js";import{$a as w,Aa as r,Ab as L,Bb as D,Cb as Ye,Da as ze,Db as m,Eb as A,Fb as E,Ga as O,Gb as Je,Ha as Y,Hb as Ze,Ia as We,Ib as te,Jb as K,Kb as ie,La as R,Lb as X,Ma as Be,Na as He,Nb as et,Ob as tt,Qa as u,V as k,W as Ke,Wb as z,X as Xe,Xa as $,Ya as N,Yb as b,aa as T,ab as h,b as G,db as qe,eb as je,fb as _,fc as it,gb as o,gc as nt,hb as S,hc as ot,ia as C,ib as Qe,ja as d,jb as F,kb as v,lb as V,mb as g,nb as J,ob as Z,qb as f,rb as P,ta as M,vb as Ue,wb as ee,xb as x,ya as U,zb as I}from"./chunk-02f49df8.js";import"./chunk-5742b79d.js";var Et=(t,c)=>({"bg-slate-300":t,"dark:bg-slate-700":c});function Tt(t,c){if(t&1){let i=F();_(0,"legend",5),f("click",function(e){C(i);let s=P(2);return d(s.toggleHelp(e));})("keypress",function(e){C(i);let s=P(2);return d(s.toggleHelp(e));}),I(1),o();}if(t&2){let i=P(2);r(),D(" ",i.help()," ");}}function Nt(t,c){if(t&1){let i=F();_(0,"button",2),f("click",function(e){C(i);let s=P();return d(s.toggleHelp(e));}),S(1,"app-icon-help",3),o(),u(2,Tt,2,1,"legend",4);}if(t&2){let i=P();r(2),h(i.helpVisible()?2:-1);}}var j=(()=>{class t{id=M.required();label=M.required();help=M();model=O(void 0);onChange=G;onTouched=G;helpVisible=O(!1);constructor(){b(()=>{this.onChange(this.model()),this.onTouched();});}toggleHelp(i){i.stopPropagation(),this.helpVisible.update(n=>!n);}toggle(){this.model.update(i=>!i);}writeValue(i){this.model.set(i);}registerOnChange(i){this.onChange=i;}registerOnTouched(i){this.onTouched=i;}static ɵfac=function(n){return new(n||t)();};static ɵcmp=R({type:t,selectors:[["cmp-checkbox"]],hostAttrs:["role","checkbox","tabindex","0"],hostVars:2,hostBindings:function(n,e){n&1&&f("click",function(){return e.toggle();})("keypress",function(){return e.toggle();}),n&2&&$("aria-checked",e.model())("aria-label",e.label()+(e.help()?". ("+e.help()+")":""));},inputs:{id:[1,"id"],label:[1,"label"],help:[1,"help"]},features:[K([{provide:B,useExisting:k(()=>t),multi:!0}])],decls:4,vars:9,consts:[["tabindex","-1",1,"my-2","h-6","min-h-6","w-6","min-w-6","appearance-none","rounded-sm","border-4","border-slate-300","hover:border-slate-400","dark:border-slate-700",3,"id"],[1,"grow",3,"htmlFor"],["type","button","tabindex","-1",1,"link",3,"click"],[1,"h-6","w-6"],["role","contentinfo",1,"help"],["role","contentinfo",1,"help",3,"click","keypress"]],template:function(n,e){n&1&&(S(0,"div",0),_(1,"label",1),I(2),o(),u(3,Nt,3,1)),n&2&&(w(X(6,Et,e.model(),e.model())),N("id",e.id()),r(),N("htmlFor",e.id()),r(),L(e.label()),r(),h(e.help()?3:-1));},dependencies:[H,st],styles:["[_nghost-%COMP%]{display:flex;align-items:center;column-gap:.5rem}.accessible[_nghost-%COMP%]   div[id][_ngcontent-%COMP%], .accessible   [_nghost-%COMP%]   div[id][_ngcontent-%COMP%]{height:2rem;min-height:2rem;width:2rem;min-width:2rem;border-width:6px}"],changeDetection:0});}return t;})();var It=(t,c)=>c.value(),Ot=(t,c)=>({"bg-slate-300":t,"dark:bg-slate-700":c});function Mt(t,c){t&1&&Qe(0);}function Ft(t,c){if(t&1){let i=F();Je(0),_(1,"div",2),f("click",function(){C(i);let e=te(0),s=P();return d(s.model.set(e));})("keypress",function(){C(i);let e=te(0),s=P();return d(s.model.set(e));}),S(2,"div",3),u(3,Mt,1,0,"ng-container",4),o();}if(t&2){let i=c.$implicit,n=P(),e=Ze(i.value());r(),$("aria-checked",n.model()===e),r(),w(X(5,Ot,n.model()===e,n.model()===e)),r(),N("ngTemplateOutlet",n.template(e));}}var Q=(()=>{class t{value=M.required();template=T(ze);static ɵfac=function(n){return new(n||t)();};static ɵdir=He({type:t,selectors:[["ng-template","value",""]],inputs:{value:[1,"value"]}});}return t;})(),Pt=(()=>{class t{label=M.required();model=O(void 0);children=We(Q);onChanged=G;onTouched=G;constructor(){b(()=>{this.onChanged(this.model()),this.onTouched();});}template(i){let n=this.children().find(e=>e.value()===i);if(!n)throw new Error(`No template found for option: ${i}`);return n.template;}writeValue(i){this.model.set(i);}registerOnChange(i){this.onChanged=i;}registerOnTouched(i){this.onTouched=i;}static ɵfac=function(n){return new(n||t)();};static ɵcmp=R({type:t,selectors:[["cmp-select-options"]],contentQueries:function(n,e,s){n&1&&Ue(s,e.children,Q,4),n&2&&x();},inputs:{label:[1,"label"]},features:[K([{provide:B,useExisting:k(()=>t),multi:!0}])],decls:5,vars:2,consts:[["role","radiogroup",1,"flex","flex-wrap","justify-evenly","gap-2","gap-y-4","pb-4"],["role","radio","tabindex","0",1,"bg-active","flex","items-center","text-nowrap"],["role","radio","tabindex","0",1,"bg-active","flex","items-center","text-nowrap",3,"click","keypress"],[1,"mr-2","h-6","min-h-6","w-6","min-w-6","rounded-full","border-4","border-slate-300","dark:border-slate-700"],[4,"ngTemplateOutlet"]],template:function(n,e){n&1&&(_(0,"fieldset",0)(1,"legend"),I(2),o(),qe(3,Ft,4,8,"div",1,It),o()),n&2&&($("aria-label",e.label()),r(2),L(e.label()),r(),je(e.children()));},dependencies:[nt],styles:[".accessible[_nghost-%COMP%]   div[role=radio][_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .accessible   [_nghost-%COMP%]   div[role=radio][_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:2rem;min-height:2rem;width:2rem;min-width:2rem;border-width:6px}"],changeDetection:0});}return t;})();var ft=(()=>{class t{static ɵfac=function(n){return new(n||t)();};static ɵmod=Be({type:t});static ɵinj=Xe({imports:[j]});}return t;})();var mt=(()=>{class t{state=T(W);rulesShare=T(St);resetHash(){this.state.set("lastExportHash",this.state.get("rulesHash")),this.state.set("lastExportDate",new Date().getTime());}isExportAvailable(){return!!this.state.get("rules");}async exportRules(){await this.rulesShare.exportRules(),this.resetHash();}async importRules(){return this.state.get("exportNeeded")&&!(await y("You have unsaved changes that will be lost if you import new rules. Do you want to continue anyway?"))?Promise.resolve(!1):new Promise(i=>{let n=document.createElement("input");n.type="file",n.accept=".txt",n.addEventListener("cancel",()=>{i(!1);}),n.onchange=async()=>{let e=n.files?.[0];if(!e){i(!1);return;}let s=await e.text();this.state.set("rules",s),this.resetHash(),setTimeout(()=>{this.promptEnableWeightTracking();},2e3),this.resetChecklist(),i(!0);},n.click();});}async promptEnableWeightTracking(){this.state.get("percentageOfItemsWithWeights")>.1&&!this.state.get("trackWeight")&&(await y("It seems that the imported rules contain items with weights. Shall we enable the weight tracking?"))&&this.state.set("trackWeight",!0);}resetChecklist(){this.state.set("answers",{}),this.state.set("checkedItems",[]),this.state.set("collapsedCategories",[]),this.state.set("answersLocked",!1);}static ɵfac=function(n){return new(n||t)();};static ɵprov=Ke({token:t,factory:t.ɵfac,providedIn:"root"});}return t;})();var Rt=["exportButton"],Lt=["importButton"],At=t=>({"bg-green-light animate-pulse":t});function bt(t,c){t&1&&g(0,18);}function yt(t,c){t&1&&g(0,19);}function $t(t,c){t&1&&(_(0,"div",46),g(1,20),o());}function kt(t,c){t&1&&g(0,21);}function wt(t,c){t&1&&g(0,22);}function vt(t,c){t&1&&g(0,23);}function Vt(t,c){t&1&&(_(0,"span",75),g(1,24),o());}function xt(t,c){t&1&&(_(0,"span",76),g(1,25),o());}function Dt(t,c){t&1&&(_(0,"span",77),g(1,26),o());}function Kt(t,c){t&1&&g(0,27);}function Xt(t,c){t&1&&g(0,28);}function zt(t,c){t&1&&g(0,29);}function Wt(t,c){t&1&&S(0,"app-flag-uk",78);}function Bt(t,c){t&1&&S(0,"app-flag-germany",78);}function Ht(t,c){if(t&1&&I(0),t&2){let i=P();Ye(" ",i.versionCode," (",i.version,") ");}}function qt(t,c){if(t&1&&I(0),t&2){let i=P();D(" ",i.version," ");}}function jt(t,c){if(t&1&&(_(0,"span",67),g(1,30),o()),t&2){let i=P();r(),J(i.serviceWorkerStatus()),Z(1);}}function Qt(t,c){t&1&&(_(0,"p"),v(1,31),_(2,"a",79),S(3,"img",80),o(),V(),o());}function Ut(t,c){t&1&&(_(0,"div",74),S(1,"app-icon-download",81),o());}var ki=(()=>{class t{loading=O(!1);displayKoFi=!0;displayServiceWorkerStatus=!0;displayVersionCode=!1;buildTime=1736174745814;version="0.4.0-accessibility-3";gitHash="2081f904a7d6c165ce2250e57230de158bc85598";versionCode=13;router=T(lt);route=T(_t);state=T(W);fadeOutDisabledRules=this.state.signal("fadeOutDisabledRules");highlightVariableStatus=this.state.signal("highlightVariableStatus");refactorVariables=this.state.signal("refactorVariables");trackWeight=this.state.signal("trackWeight");categorySorting=this.state.signal("categorySorting");exportReminder=this.state.signal("exportReminder");theme=this.state.signal("theme");language=this.state.signal("language");fontSize=this.state.signal("fontSize");accessibility=this.state.signal("accessibility");trackWeightHelp=O(!1);exportNeeded=this.state.signal("exportNeeded");facade=T(mt);highlightExport;exportButton=Y.required("exportButton");isExportAvailable=this.facade.isExportAvailable.bind(this.facade);highlightImport;importButton=Y.required("importButton");serviceWorkerStatus=z(()=>{switch(this.state.signal("serviceWorkerStatus")()){case"disabled":return"disabled";case"error":return"error";case"unrecoverable":return"unrecoverable - please refresh";case"init":return"initializing";case"ok":return"ok";case"update-available":return"update available";}});constructor(){let i=dt(this.route.fragment);this.highlightExport=z(()=>i()==="export-now"),this.highlightImport=z(()=>i()==="import"),b(()=>{let n=i();n==="export-now"?this.exportButton().nativeElement.getBoundingClientRect().top>window.innerHeight&&setTimeout(()=>{this.exportButton().nativeElement.scrollIntoView({behavior:"smooth"});},2e3):n==="import"&&this.importButton().nativeElement.getBoundingClientRect().top>window.innerHeight&&setTimeout(()=>{this.importButton().nativeElement.scrollIntoView({behavior:"smooth"});},2e3);});}async resetChecklist(){(await y("Are you sure you want to reset the checklist?"))&&(this.facade.resetChecklist(),await this.router.navigate(["/packlist"]));}async resetEverything(){(await y("Are you sure you want to reset the whole application?"))&&(this.state.reset(),await this.router.navigate(["/packlist"]));}async importRules(){this.loading.set(!0),(await this.facade.importRules())&&(await this.router.navigate(["/packlist"])),this.loading.set(!1);}async exportRules(){await this.facade.exportRules();}static ɵfac=function(n){return new(n||t)();};static ɵcmp=R({type:t,selectors:[["app-config"]],viewQuery:function(n,e){n&1&&(ee(e.exportButton,Rt,5),ee(e.importButton,Lt,5)),n&2&&x(2);},decls:82,vars:29,consts:()=>{let i;i="Track item weight";let n;n="You can enter the item weight appended to the item name in the editor.";let e;e="Sort categories";let s;s="Fade out disabled rules in editor";let p;p="Highlight variable status in editor";let a;a="Rename all occurrences when renaming variables";let ne;ne="Remind me to regularly export rules";let oe;oe="Theme";let _e;_e="Font Size";let le;le="Accessibility";let ae;ae="Language";let re;re="GitHub issues";let se;se="Email";let ce;ce="Checklist";let ge;ge=" Reset Checklist ";let Ce;Ce="Rules";let de;de=" Edit Rules ";let pe;pe=" Documentation ";let ue;ue=" Edit Rules with Code ";let Se;Se=" Export Rules ";let Pe;Pe=" Import Rules ";let fe;fe="Appearance";let me;me="App Version";let Ae;Ae="built on "+"\uFFFD0\uFFFD"+"";let Ee;Ee="Support";let Te;Te=" If you find any bugs or have any suggestions, please open an issue on GitHub: "+"\uFFFD#69\uFFFD"+""+"\uFFFD#70\uFFFD\uFFFD/#70\uFFFD"+""+"\uFFFD/#69\uFFFD"+"";let Ne;Ne=" Alternatively, you can reach out to me by "+"\uFFFD#73\uFFFD"+""+"\uFFFD#74\uFFFD\uFFFD/#74\uFFFD"+""+"\uFFFD/#73\uFFFD"+"";let he;he="DANGER!";let Ie;Ie=" Reset Application ";let Oe;Oe="alphabetically";let Me;Me="order of definition";let Fe;Fe=" Current rules are not backed up! ";let Ge;Ge="Dark";let Re;Re="Light";let Le;Le="System";let be;be="small";let ye;ye="normal";let $e;$e="large";let ke;ke="accessible";let we;we="compact";let ve;ve="detect";let Ve;Ve="Service Worker: "+"\uFFFD0\uFFFD"+"";let xe;xe="Buy Me a Coffee at ko-fi.com";let De;return De=" If you like this app, please consider to "+"\uFFFD#2\uFFFD"+""+"\uFFFD#3\uFFFD\uFFFD/#3\uFFFD"+""+"\uFFFD/#2\uFFFD"+"",[["exportButton",""],["importButton",""],ce,ge,Ce,de,pe,ue,Se,Pe,fe,me,Ae,Ee,Te,Ne,he,Ie,Oe,Me,Fe,Ge,Re,Le,be,ye,$e,ke,we,ve,Ve,De,[1,"section"],[1,"font-bold"],["type","button",3,"click"],["id","track-weight","label",i,"help",n,3,"ngModelChange","ngModel"],["label",e,3,"ngModelChange","ngModel"],["value","alphabetically"],["value","definition"],["type","button","routerLink","/rules"],["id","rules-debug-mode","label",s,3,"ngModelChange","ngModel"],["id","variables-debug-mode","label",p,3,"ngModelChange","ngModel"],["id","variables-refactor","label",a,3,"ngModelChange","ngModel"],["type","button","routerLink","/documentation"],["type","button","routerLink","/rules-raw"],["type","button",3,"click","ngClass","disabled"],[1,"text-red","text-center","italic"],["type","button",3,"click","ngClass"],["id","export-reminder","label",ne,3,"ngModelChange","ngModel"],["label",oe,3,"ngModelChange","ngModel"],["value","dark"],["value","light"],["value","system"],["label",_e,3,"ngModelChange","ngModel"],["value","small"],["value","normal"],["value","large"],["label",le,3,"ngModelChange","ngModel"],["value","accessible"],["value","compact"],["label",ae,3,"ngModelChange","ngModel"],["value","auto"],["value","en"],["value","de"],[3,"href"],[1,"italic"],[1,"truncate","font-mono","text-sm","text-slate-500"],[1,"font-mono","text-sm"],[1,"flex","flex-col","gap-4"],["href","https://github.com/dhhyi/travel-packlist/issues","target","_blank"],["src","https://img.shields.io/github/issues/dhhyi/travel-packlist","alt",re,1,"inline"],["href","mailto:dhhyi@aol.com","target","_blank"],["src","https://img.shields.io/badge/email-dhhyi%40aol.com-blue","alt",se,1,"inline"],["type","button",1,"red",3,"click"],[1,"loading","fixed","left-0","top-0","flex","h-svh","w-full","items-center","justify-center","bg-white","opacity-30"],[1,"text-[16px]"],[1,"text-[18px]"],[1,"text-[20px]"],[1,"h-6","w-8"],["href","https://ko-fi.com/danilohoffmann","target","_blank"],["src","https://storage.ko-fi.com/cdn/brandasset/kofi_button_stroke.png","alt",xe,1,"inline","max-w-[10rem]"],[1,"h-[12rem]","w-[12rem]"]];},template:function(n,e){if(n&1){let s=F();_(0,"div",32)(1,"span",33),g(2,2),o(),_(3,"button",34),f("click",function(){return C(s),d(e.resetChecklist());}),g(4,3),o(),_(5,"cmp-checkbox",35),E("ngModelChange",function(a){return C(s),A(e.trackWeight,a)||(e.trackWeight=a),d(a);}),o(),_(6,"cmp-select-options",36),E("ngModelChange",function(a){return C(s),A(e.categorySorting,a)||(e.categorySorting=a),d(a);}),u(7,bt,1,0,"ng-template",37)(8,yt,1,0,"ng-template",38),o()(),_(9,"div",32)(10,"span",33),g(11,4),o(),_(12,"button",39),g(13,5),o(),_(14,"cmp-checkbox",40),E("ngModelChange",function(a){return C(s),A(e.fadeOutDisabledRules,a)||(e.fadeOutDisabledRules=a),d(a);}),o(),_(15,"cmp-checkbox",41),E("ngModelChange",function(a){return C(s),A(e.highlightVariableStatus,a)||(e.highlightVariableStatus=a),d(a);}),o(),_(16,"cmp-checkbox",42),E("ngModelChange",function(a){return C(s),A(e.refactorVariables,a)||(e.refactorVariables=a),d(a);}),o(),S(17,"hr"),_(18,"button",43),g(19,6),o(),_(20,"button",44),g(21,7),o(),S(22,"hr"),_(23,"button",45,0),f("click",function(){return C(s),d(e.exportRules());}),g(25,8),o(),u(26,$t,2,0,"div",46),_(27,"button",47,1),f("click",function(){return C(s),d(e.importRules());}),g(29,9),o(),_(30,"cmp-checkbox",48),E("ngModelChange",function(a){return C(s),A(e.exportReminder,a)||(e.exportReminder=a),d(a);}),o()(),_(31,"div",32)(32,"span",33),g(33,10),o(),_(34,"cmp-select-options",49),E("ngModelChange",function(a){return C(s),A(e.theme,a)||(e.theme=a),d(a);}),u(35,kt,1,0,"ng-template",50)(36,wt,1,0,"ng-template",51)(37,vt,1,0,"ng-template",52),o(),_(38,"cmp-select-options",53),E("ngModelChange",function(a){return C(s),A(e.fontSize,a)||(e.fontSize=a),d(a);}),u(39,Vt,2,0,"ng-template",54)(40,xt,2,0,"ng-template",55)(41,Dt,2,0,"ng-template",56),o(),_(42,"cmp-select-options",57),E("ngModelChange",function(a){return C(s),A(e.accessibility,a)||(e.accessibility=a),d(a);}),u(43,Kt,1,0,"ng-template",58)(44,Xt,1,0,"ng-template",59),o(),_(45,"cmp-select-options",60),E("ngModelChange",function(a){return C(s),A(e.language,a)||(e.language=a),d(a);}),u(46,zt,1,0,"ng-template",61)(47,Wt,1,0,"ng-template",62)(48,Bt,1,0,"ng-template",63),o()(),_(49,"div",32)(50,"span",33),g(51,11),o(),_(52,"span")(53,"a",64),u(54,Ht,1,2)(55,qt,1,1),o()(),_(56,"span",65),g(57,12),et(58,"date"),o(),_(59,"span",66)(60,"a",64),I(61),o()(),u(62,jt,2,1,"span",67),o(),_(63,"div",32)(64,"span",33),g(65,13),o(),_(66,"div",68)(67,"p"),v(68,14),_(69,"a",69),S(70,"img",70),o(),V(),o(),_(71,"p"),v(72,15),_(73,"a",71),S(74,"img",72),o(),V(),o(),u(75,Qt,4,0,"p"),o()(),_(76,"div",32)(77,"span",33),g(78,16),o(),_(79,"button",73),f("click",function(){return C(s),d(e.resetEverything());}),g(80,17),o()(),u(81,Ut,2,0,"div",74);}n&2&&(r(5),m("ngModel",e.trackWeight),r(),m("ngModel",e.categorySorting),r(8),m("ngModel",e.fadeOutDisabledRules),r(),m("ngModel",e.highlightVariableStatus),r(),m("ngModel",e.refactorVariables),r(7),N("ngClass",ie(25,At,e.highlightExport()&&e.exportNeeded()))("disabled",!e.isExportAvailable()),r(3),h(e.exportNeeded()?26:-1),r(),N("ngClass",ie(27,At,e.highlightImport())),r(3),m("ngModel",e.exportReminder),r(4),m("ngModel",e.theme),r(4),m("ngModel",e.fontSize),r(4),m("ngModel",e.accessibility),r(3),m("ngModel",e.language),r(8),N("href","https://github.com/dhhyi/travel-packlist/releases/tag/v"+e.version,U),r(),h(e.displayVersionCode?54:55),r(4),J(tt(58,22,e.buildTime,"long")),Z(57),r(2),N("href","https://github.com/dhhyi/travel-packlist/commit/"+e.gitHash,U),r(),L(e.gitHash),r(),h(e.displayServiceWorkerStatus?62:-1),r(13),h(e.displayKoFi?75:-1),r(6),h(e.loading()?81:-1));},dependencies:[rt,at,ot,it,Ct,gt,ct,H,pt,ut,ft,j,Pt,Q],styles:[".section[_ngcontent-%COMP%]{margin-bottom:.5rem;display:flex;flex-direction:column;gap:.5rem;border-bottom-width:1px;padding-bottom:.5rem}"],changeDetection:0});}return t;})();export{ki as default};/**i18n:9552fa0fbb6d334e0be38fbfc53a03a3c04e4f027352c7a86b85f26c3861fe82*/