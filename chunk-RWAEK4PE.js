import{a as qe}from"./chunk-AK7ZUWXN.js";import{b as M}from"./chunk-IE3IONSA.js";import{a as Le,b as De,k as ze,m as Xe}from"./chunk-QM4R6MNX.js";import{b as Ve,c as xe,d as We,f as Be,h as He,j as Ke,r as je}from"./chunk-2UPZWRV4.js";import{o as $}from"./chunk-6N4MRW53.js";import{c as Re,d as ye,i as ke,k as be,l as we,q as ve}from"./chunk-FJK5ZZIC.js";import{Ab as C,Bb as h,Ea as y,Fb as Oe,Gb as Pe,Ha as s,Ib as A,Jb as he,Kb as Me,Lb as Te,Mb as E,Nb as F,Oa as k,Ob as G,Pa as Fe,Sa as Ge,Tb as p,Vb as Ie,W as Ee,Wb as Ae,Ya as O,aa as N,eb as f,ec as L,gc as $e,ib as P,ja as g,ka as c,nb as i,ob as t,pb as S,rb as b,ub as T,vb as I,wb as o,xb as w,yb as v}from"./chunk-E233IHIW.js";import"./chunk-7HGKORF3.js";var Qe={version:"0.3.3",git_hash:"324ab76d6d1615713557ab6421a5821122fe3f1e",build_time:1734090671,versionCode:0};var R=class a{state=N($);rulesShare=N(qe);resetHash(){this.state.set("lastExportHash",this.state.get("rulesHash")),this.state.set("lastExportDate",new Date().getTime());}isExportAvailable(){return!!this.state.get("rules");}async exportRules(){await this.rulesShare.exportRules(),this.resetHash();}async importRules(){return this.state.get("exportNeeded")&&!(await M("Du hast ungespeicherte \xC4nderungen, die verloren gehen, wenn du neue Regeln importierst. M\xF6chtest du trotzdem fortfahren?"))?Promise.resolve(!1):new Promise(d=>{let _=document.createElement("input");_.type="file",_.accept=".txt",_.addEventListener("cancel",()=>{d(!1);}),_.onchange=async()=>{let e=_.files?.[0];if(!e){d(!1);return;}let l=await e.text();this.state.set("rules",l),this.resetHash(),setTimeout(()=>{this.promptEnableWeightTracking();},2e3),this.resetChecklist(),d(!0);},_.click();});}async promptEnableWeightTracking(){this.state.get("percentageOfItemsWithWeights")>.1&&!this.state.get("trackWeight")&&(await M("Es sieht so aus, als ob die importierten Regeln Artikel mit Gewichten enthalten. Sollen wir die Gewichtsverfolgung aktivieren?"))&&this.state.set("trackWeight",!0);}resetChecklist(){this.state.set("answers",{}),this.state.set("checkedItems",[]),this.state.set("collapsedCategories",[]),this.state.set("answersLocked",!1);}static ɵfac=function(_){return new(_||a)();};static ɵprov=Ee({token:a,factory:a.ɵfac,providedIn:"root"});};var Je=["exportButton"],Ze=a=>({"animate-pulse bg-green-light":a}),m=a=>({active:a});function et(a,d){if(a&1){let _=b();i(0,"legend",82),C("click",function(){g(_);let l=h();return c(l.trackWeightHelp.set(!1));})("keypress",function(){g(_);let l=h();return c(l.trackWeightHelp.set(!1));}),o(1,35),t();}}function tt(a,d){a&1&&(i(0,"div",62),o(1,36),t());}function it(a,d){if(a&1&&A(0),a&2){let _=h();Te(" ",_.env.versionCode," (",_.env.version,") ");}}function nt(a,d){if(a&1&&A(0),a&2){let _=h();Me(" ",_.env.version," ");}}function ot(a,d){if(a&1&&(i(0,"span",74),o(1,37),t()),a&2){let _=h();s(),w(_.serviceWorkerStatus()),v(1);}}function _t(a,d){a&1&&(i(0,"p"),T(1,38),i(2,"a",83),S(3,"img",84),t(),I(),t());}function lt(a,d){a&1&&(i(0,"div",81),S(1,"app-icon-download",85),t());}var D=class a{env=Qe;loading=k(!1);displayKoFi=!0;displayServiceWorkerStatus=!0;displayVersionCode=!1;router=N(be);route=N(ke);state=N($);fadeOutDisabledRules=this.state.signal("fadeOutDisabledRules");highlightVariableStatus=this.state.signal("highlightVariableStatus");refactorVariables=this.state.signal("refactorVariables");trackWeight=this.state.signal("trackWeight");categorySorting=this.state.signal("categorySorting");exportReminder=this.state.signal("exportReminder");theme=this.state.signal("theme");language=this.state.signal("language");fontSize=this.state.signal("fontSize");trackWeightHelp=k(!1);exportNeeded=this.state.signal("exportNeeded");facade=N(R);highlightExport;exportButton=Fe.required("exportButton");isExportAvailable=this.facade.isExportAvailable.bind(this.facade);serviceWorkerStatus=L(()=>{switch(this.state.signal("serviceWorkerStatus")()){case"disabled":return"deaktiviert";case"error":return"Fehler";case"unrecoverable":return"nicht wiederherstellbar";case"init":return"Initialisierung";case"ok":return"OK";case"update-available":return"Aktualisierung verf\xFCgbar";}});constructor(){let d=Ve(this.route.fragment);this.highlightExport=L(()=>d()==="export-now"),$e(()=>{let _=d(),e=this.exportButton().nativeElement.getBoundingClientRect().top;_==="export-now"&&e>window.innerHeight&&setTimeout(()=>{this.exportButton().nativeElement.scrollIntoView({behavior:"smooth"});},2e3);});}async resetChecklist(){(await M("Bist du sicher, dass du die Checkliste zur\xFCcksetzen m\xF6chtest?"))&&(this.facade.resetChecklist(),await this.router.navigate(["/packlist"]));}async resetEverything(){(await M("Bist du sicher, dass du die Anwendung zur\xFCcksetzen m\xF6chtest?"))&&(this.state.reset(),await this.router.navigate(["/packlist"]));}async importRules(){this.loading.set(!0),(await this.facade.importRules())&&(await this.router.navigate(["/packlist"])),this.loading.set(!1);}async exportRules(){await this.facade.exportRules();}static ɵfac=function(_){return new(_||a)();};static ɵcmp=Ge({type:a,selectors:[["app-config"]],viewQuery:function(_,e){_&1&&Oe(e.exportButton,Je,5),_&2&&Pe();},decls:120,vars:51,consts:()=>{let d;d="GitHub issues";let _;_="Email";let e;e="Checkliste";let l;l="Checkliste zur\xFCcksetzen";let u;u="Gewicht verfolgen";let r;r="Kategorien Sortierung";let z;z="alphabetisch";let X;X="nach Definitionsreihenfolge";let V;V="Regeln";let x;x="Regeln bearbeiten";let W;W="Inaktive Regeln im Editor ausgrauen";let B;B="Variablenstatus im Editor anzeigen";let H;H="Benenne alle Vorkommen um, wenn Variablen umbenannt werden";let K;K="Dokumentation";let j;j="Regeln als Code bearbeiten";let q;q="Regeln exportieren";let Q;Q="Regeln importieren";let U;U="Erinnere mich daran, die Regeln regelm\xE4\xDFig zu exportieren";let Y;Y="Aussehen";let J;J="Theme";let Z;Z="Dark";let ee;ee="Light";let te;te="System";let ie;ie="Schriftgr\xF6\xDFe";let ne;ne="klein";let oe;oe="normal";let _e;_e="gro\xDF";let le;le="Sprache";let re;re="auto";let se;se="App Version";let ae;ae="gebaut am "+"\uFFFD0\uFFFD"+"";let ge;ge="Support";let ce;ce="Falls du Bugs findest oder Vorschl\xE4ge hast, \xF6ffne bitte ein Issue auf GitHub: "+"\uFFFD#107\uFFFD"+""+"\uFFFD#108\uFFFD\uFFFD/#108\uFFFD"+""+"\uFFFD/#107\uFFFD"+"";let ue;ue="Alternativ kannst du mir eine "+"\uFFFD#111\uFFFD"+""+"\uFFFD#112\uFFFD\uFFFD/#112\uFFFD"+""+"\uFFFD/#111\uFFFD"+" schreiben";let de;de="GEFAHRENZONE!";let Ce;Ce="Anwendung zur\xFCcksetzen";let fe;fe="Das Gewicht des Artikels kann im Editor hinter dem Artikelnamen eingegeben werden.";let pe;pe="Die aktuellen Regeln sind nicht gesichert!";let Se;Se="Service Worker: "+"\uFFFD0\uFFFD"+"";let me;me="Kauf mir einen Kaffee auf ko-fi.com";let Ne;return Ne="Falls dir die App gef\xE4llt und du mich unterst\xFCtzen m\xF6chtest, kannst du mir gerne einen Kaffee spendieren: "+"\uFFFD#2\uFFFD"+""+"\uFFFD#3\uFFFD\uFFFD/#3\uFFFD"+""+"\uFFFD/#2\uFFFD"+"",[["exportButton",""],e,l,u,r,z,X,V,x,W,B,H,K,j,q,Q,U,Y,J,Z,ee,te,ie,ne,oe,_e,le,re,se,ae,ge,ce,ue,de,Ce,fe,pe,Se,Ne,[1,"section"],[1,"font-bold"],["type","button",3,"click"],["type","checkbox","id","track-weight",3,"ngModelChange","ngModel"],["for","track-weight",1,"grow"],["type","button",1,"link",3,"click"],[1,"h-6","w-6"],["role","contentinfo",1,"help"],[1,"flex","flex-row","flex-wrap","gap-x-6"],["type","radio","id","sort-alphabetically","value","alphabetically",3,"ngModelChange","ngModel"],["for","sort-alphabetically"],["type","radio","id","sort-definition","value","definition",3,"ngModelChange","ngModel"],["for","sort-definition"],["type","button","routerLink","/rules"],["type","checkbox","id","rules-debug-mode",3,"ngModelChange","ngModel"],["for","rules-debug-mode"],["type","checkbox","id","variables-debug-mode",3,"ngModelChange","ngModel"],["for","variables-debug-mode"],["type","checkbox","id","variables-refactor",3,"ngModelChange","ngModel"],["for","variables-refactor"],["type","button","routerLink","/documentation"],["type","button","routerLink","/rules-raw"],["type","button",3,"click","ngClass","disabled"],[1,"text-center","italic","text-red-light"],["type","checkbox","id","export-reminder",3,"ngModelChange","ngModel"],["for","export-reminder"],[1,"grid","grid-cols-3","gap-2"],["type","button",1,"link",3,"click","ngClass"],["type","button",1,"link","text-[16px]",3,"click","ngClass"],["type","button",1,"link","text-[18px]",3,"click","ngClass"],["type","button",1,"link","text-[20px]",3,"click","ngClass"],[1,"h-6","w-8"],[3,"href"],[1,"italic"],[1,"truncate","font-mono","text-sm","text-slate-500"],[1,"font-mono","text-sm"],[1,"flex","flex-col","gap-4"],["href","https://github.com/dhhyi/travel-packlist/issues","target","_blank"],["src","https://img.shields.io/github/issues/dhhyi/travel-packlist","alt",d,1,"inline"],["href","mailto:dhhyi@aol.com","target","_blank"],["src","https://img.shields.io/badge/email-dhhyi%40aol.com-blue","alt",_,1,"inline"],["type","button",1,"red",3,"click"],[1,"loading","fixed","left-0","top-0","flex","h-svh","w-full","items-center","justify-center","bg-white","opacity-30"],["role","contentinfo",1,"help",3,"click","keypress"],["href","https://ko-fi.com/danilohoffmann","target","_blank"],["src","https://storage.ko-fi.com/cdn/brandasset/kofi_button_stroke.png","alt",me,1,"inline","max-w-[10rem]"],[1,"h-[12rem]","w-[12rem]"]];},template:function(_,e){if(_&1){let l=b();i(0,"div",39)(1,"span",40),o(2,1),t(),i(3,"button",41),C("click",function(){return g(l),c(e.resetChecklist());}),o(4,2),t(),i(5,"div")(6,"input",42),G("ngModelChange",function(r){return g(l),F(e.trackWeight,r)||(e.trackWeight=r),c(r);}),t(),i(7,"label",43),o(8,3),t(),i(9,"button",44),C("click",function(){return g(l),c(e.trackWeightHelp.set(!e.trackWeightHelp()));}),S(10,"app-icon-help",45),t(),O(11,et,2,0,"legend",46),t(),i(12,"div")(13,"fieldset",47)(14,"legend"),o(15,4),t(),i(16,"div")(17,"input",48),G("ngModelChange",function(r){return g(l),F(e.categorySorting,r)||(e.categorySorting=r),c(r);}),t(),i(18,"label",49),o(19,5),t()(),i(20,"div")(21,"input",50),G("ngModelChange",function(r){return g(l),F(e.categorySorting,r)||(e.categorySorting=r),c(r);}),t(),i(22,"label",51),o(23,6),t()()()()(),i(24,"div",39)(25,"span",40),o(26,7),t(),i(27,"button",52),o(28,8),t(),i(29,"div")(30,"input",53),G("ngModelChange",function(r){return g(l),F(e.fadeOutDisabledRules,r)||(e.fadeOutDisabledRules=r),c(r);}),t(),i(31,"label",54),o(32,9),t()(),i(33,"div")(34,"input",55),G("ngModelChange",function(r){return g(l),F(e.highlightVariableStatus,r)||(e.highlightVariableStatus=r),c(r);}),t(),i(35,"label",56),o(36,10),t()(),i(37,"div")(38,"input",57),G("ngModelChange",function(r){return g(l),F(e.refactorVariables,r)||(e.refactorVariables=r),c(r);}),t(),i(39,"label",58),o(40,11),t()(),S(41,"hr"),i(42,"button",59),o(43,12),t(),i(44,"button",60),o(45,13),t(),S(46,"hr"),i(47,"button",61,0),C("click",function(){return g(l),c(e.exportRules());}),o(49,14),t(),O(50,tt,2,0,"div",62),i(51,"button",41),C("click",function(){return g(l),c(e.importRules());}),o(52,15),t(),i(53,"div")(54,"input",63),G("ngModelChange",function(r){return g(l),F(e.exportReminder,r)||(e.exportReminder=r),c(r);}),t(),i(55,"label",64),o(56,16),t()()(),i(57,"div",39)(58,"span",40),o(59,17),t(),i(60,"fieldset",65)(61,"legend"),o(62,18),t(),i(63,"button",66),C("click",function(){return g(l),c(e.theme.set("dark"));}),o(64,19),t(),i(65,"button",66),C("click",function(){return g(l),c(e.theme.set("light"));}),o(66,20),t(),i(67,"button",66),C("click",function(){return g(l),c(e.theme.set("system"));}),o(68,21),t()(),i(69,"fieldset",65)(70,"legend"),o(71,22),t(),i(72,"button",67),C("click",function(){return g(l),c(e.fontSize.set("small"));}),o(73,23),t(),i(74,"button",68),C("click",function(){return g(l),c(e.fontSize.set("normal"));}),o(75,24),t(),i(76,"button",69),C("click",function(){return g(l),c(e.fontSize.set("large"));}),o(77,25),t()(),i(78,"fieldset",65)(79,"legend"),o(80,26),t(),i(81,"button",66),C("click",function(){return g(l),c(e.language.set("auto"));}),o(82,27),t(),i(83,"button",66),C("click",function(){return g(l),c(e.language.set("en"));}),S(84,"app-flag-uk",70),t(),i(85,"button",66),C("click",function(){return g(l),c(e.language.set("de"));}),S(86,"app-flag-germany",70),t()()(),i(87,"div",39)(88,"span",40),o(89,28),t(),i(90,"span")(91,"a",71),O(92,it,1,2)(93,nt,1,1),t()(),i(94,"span",72),o(95,29),Ie(96,"date"),t(),i(97,"span",73)(98,"a",71),A(99),t()(),O(100,ot,2,1,"span",74),t(),i(101,"div",39)(102,"span",40),o(103,30),t(),i(104,"div",75)(105,"p"),T(106,31),i(107,"a",76),S(108,"img",77),t(),I(),t(),i(109,"p"),T(110,32),i(111,"a",78),S(112,"img",79),t(),I(),t(),O(113,_t,4,0,"p"),t()(),i(114,"div",39)(115,"span",40),o(116,33),t(),i(117,"button",80),C("click",function(){return g(l),c(e.resetEverything());}),o(118,34),t()(),O(119,lt,2,0,"div",81);}_&2&&(s(6),E("ngModel",e.trackWeight),s(5),P(e.trackWeightHelp()?11:-1),s(6),E("ngModel",e.categorySorting),s(4),E("ngModel",e.categorySorting),s(9),E("ngModel",e.fadeOutDisabledRules),s(4),E("ngModel",e.highlightVariableStatus),s(4),E("ngModel",e.refactorVariables),s(9),f("ngClass",p(31,Ze,e.highlightExport()&&e.exportNeeded()))("disabled",!e.isExportAvailable()),s(3),P(e.exportNeeded()?50:-1),s(4),E("ngModel",e.exportReminder),s(9),f("ngClass",p(33,m,e.theme()==="dark")),s(2),f("ngClass",p(35,m,e.theme()==="light")),s(2),f("ngClass",p(37,m,e.theme()==="system")),s(5),f("ngClass",p(39,m,e.fontSize()==="small")),s(2),f("ngClass",p(41,m,e.fontSize()==="normal")),s(2),f("ngClass",p(43,m,e.fontSize()==="large")),s(5),f("ngClass",p(45,m,e.language()==="auto")),s(2),f("ngClass",p(47,m,e.language()==="en")),s(2),f("ngClass",p(49,m,e.language()==="de")),s(6),f("href","https://github.com/dhhyi/travel-packlist/releases/tag/v"+e.env.version,y),s(),P(e.displayVersionCode?92:93),s(4),w(Ae(96,28,e.env.build_time*1e3,"long")),v(95),s(2),f("href","https://github.com/dhhyi/travel-packlist/commit/"+e.env.git_hash,y),s(),he(e.env.git_hash),s(),P(e.displayServiceWorkerStatus?100:-1),s(13),P(e.displayKoFi?113:-1),s(6),P(e.loading()?119:-1));},dependencies:[ve,we,je,We,xe,Ke,Be,He,ye,Re,Le,De,ze,Xe],styles:[".section[_ngcontent-%COMP%]{margin-bottom:.5rem;display:flex;flex-direction:column;gap:.5rem;border-bottom-width:1px;padding-bottom:.5rem}"],changeDetection:0});};export{D as default};/**i18n:ce629f7757620cd455841d864165c42e946502d979ab9ef58d04496856a7546b*/