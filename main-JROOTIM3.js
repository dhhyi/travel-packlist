var by=Object.defineProperty,Ey=Object.defineProperties;var _y=Object.getOwnPropertyDescriptors;var vf=Object.getOwnPropertySymbols;var Iy=Object.prototype.hasOwnProperty,xy=Object.prototype.propertyIsEnumerable;var yf=(t,e,n)=>e in t?by(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,y=(t,e)=>{for(var n in e||={})Iy.call(e,n)&&yf(t,n,e[n]);if(vf)for(var n of vf(e))xy.call(e,n)&&yf(t,n,e[n]);return t},R=(t,e)=>Ey(t,_y(e));function Cf(t,e){return Object.is(t,e)}var De=null,vi=!1,No=1,xt=Symbol("SIGNAL");function W(t){let e=De;return De=t,e}function Df(){return De}function My(){return vi}var cr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Oo(t){if(vi)throw new Error("");if(De===null)return;De.consumerOnSignalRead(t);let e=De.nextProducerIndex++;if(Vo(De),e<De.producerNode.length&&De.producerNode[e]!==t&&yi(De)){let n=De.producerNode[e];Lo(n,De.producerIndexOfThis[e])}De.producerNode[e]!==t&&(De.producerNode[e]=t,De.producerIndexOfThis[e]=yi(De)?If(t,De,e):0),De.producerLastReadVersion[e]=t.version}function Sy(){No++}function wf(t){if(!(yi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===No)){if(!t.producerMustRecompute(t)&&!ko(t)){t.dirty=!1,t.lastCleanEpoch=No;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=No}}function bf(t){if(t.liveConsumerNode===void 0)return;let e=vi;vi=!0;try{for(let n of t.liveConsumerNode)n.dirty||_f(n)}finally{vi=e}}function Ef(){return De?.consumerAllowSignalWrites!==!1}function _f(t){t.dirty=!0,bf(t),t.consumerMarkedDirty?.(t)}function Ci(t){return t&&(t.nextProducerIndex=0),W(t)}function Fo(t,e){if(W(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(yi(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Lo(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ko(t){Vo(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(wf(n),r!==n.version))return!0}return!1}function Po(t){if(Vo(t),yi(t))for(let e=0;e<t.producerNode.length;e++)Lo(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function If(t,e,n){if(xf(t),t.liveConsumerNode.length===0&&Mf(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=If(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Lo(t,e){if(xf(t),t.liveConsumerNode.length===1&&Mf(t))for(let r=0;r<t.producerNode.length;r++)Lo(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Vo(i),i.producerIndexOfThis[r]=e}}function yi(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Vo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function xf(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Mf(t){return t.producerNode!==void 0}function Sf(t){let e=Object.create(Ty);e.computation=t;let n=()=>{if(wf(e),Oo(e),e.value===Ro)throw e.error;return e.value};return n[xt]=e,n}var Pc=Symbol("UNSET"),Lc=Symbol("COMPUTING"),Ro=Symbol("ERRORED"),Ty=R(y({},cr),{value:Pc,dirty:!0,error:null,equal:Cf,producerMustRecompute(t){return t.value===Pc||t.value===Lc},producerRecomputeValue(t){if(t.value===Lc)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Lc;let n=Ci(t),r;try{r=t.computation()}catch(i){r=Ro,t.error=i}finally{Fo(t,n)}if(e!==Pc&&e!==Ro&&r!==Ro&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function Ay(){throw new Error}var Tf=Ay;function Af(){Tf()}function Nf(t){Tf=t}var Ny=null;function Rf(t){let e=Object.create(jc);e.value=t;let n=()=>(Oo(e),e.value);return n[xt]=e,n}function jo(t,e){Ef()||Af(),t.equal(t.value,e)||(t.value=e,Ry(t))}function Of(t,e){Ef()||Af(),jo(t,e(t.value))}var jc=R(y({},cr),{equal:Cf,value:void 0});function Ry(t){t.version++,Sy(),bf(t),Ny?.()}function Ff(t,e,n){let r=Object.create(Oy);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function o(c){return c.fn===null&&c.schedule===null}function s(c){o(c)||(Po(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=Vc)}let a=()=>{if(r.fn===null)return;if(My())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!ko(r))return;r.hasRun=!0;let c=Ci(r);try{r.cleanupFn(),r.cleanupFn=Vc,r.fn(i)}finally{Fo(r,c)}};return r.ref={notify:()=>_f(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[xt]:r},r.ref}var Vc=()=>{},Oy=R(y({},cr),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:Vc});function x(t){return typeof t=="function"}function lr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var $o=lr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function On(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var he=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(x(r))try{r()}catch(o){e=o instanceof $o?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{kf(o)}catch(s){e=e??[],s instanceof $o?e=[...e,...s.errors]:e.push(s)}}if(e)throw new $o(e)}}add(e){var n;if(e&&e!==this)if(this.closed)kf(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&On(n,e)}remove(e){let{_finalizers:n}=this;n&&On(n,e),e instanceof t&&e._removeParent(this)}};he.EMPTY=(()=>{let t=new he;return t.closed=!0,t})();var $c=he.EMPTY;function Bo(t){return t instanceof he||t&&"closed"in t&&x(t.remove)&&x(t.add)&&x(t.unsubscribe)}function kf(t){x(t)?t():t.unsubscribe()}var mt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ur={setTimeout(t,e,...n){let{delegate:r}=ur;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ur;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Uo(t){ur.setTimeout(()=>{let{onUnhandledError:e}=mt;if(e)e(t);else throw t})}function Gt(){}var Pf=Bc("C",void 0,void 0);function Lf(t){return Bc("E",void 0,t)}function Vf(t){return Bc("N",t,void 0)}function Bc(t,e,n){return{kind:t,value:e,error:n}}var Fn=null;function dr(t){if(mt.useDeprecatedSynchronousErrorHandling){let e=!Fn;if(e&&(Fn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Fn;if(Fn=null,n)throw r}}else t()}function jf(t){mt.useDeprecatedSynchronousErrorHandling&&Fn&&(Fn.errorThrown=!0,Fn.error=t)}var kn=class extends he{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Bo(e)&&e.add(this)):this.destination=Py}static create(e,n,r){return new fr(e,n,r)}next(e){this.isStopped?Hc(Vf(e),this):this._next(e)}error(e){this.isStopped?Hc(Lf(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hc(Pf,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Fy=Function.prototype.bind;function Uc(t,e){return Fy.call(t,e)}var zc=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ho(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ho(r)}else Ho(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ho(n)}}},fr=class extends kn{constructor(e,n,r){super();let i;if(x(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&mt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Uc(e.next,o),error:e.error&&Uc(e.error,o),complete:e.complete&&Uc(e.complete,o)}):i=e}this.destination=new zc(i)}};function Ho(t){mt.useDeprecatedSynchronousErrorHandling?jf(t):Uo(t)}function ky(t){throw t}function Hc(t,e){let{onStoppedNotification:n}=mt;n&&ur.setTimeout(()=>n(t,e))}var Py={closed:!0,next:Gt,error:ky,complete:Gt};var hr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Je(t){return t}function qc(...t){return Gc(t)}function Gc(t){return t.length===0?Je:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var B=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Vy(n)?n:new fr(n,r,i);return dr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=$f(r),new r((i,o)=>{let s=new fr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[hr](){return this}pipe(...n){return Gc(n)(this)}toPromise(n){return n=$f(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function $f(t){var e;return(e=t??mt.Promise)!==null&&e!==void 0?e:Promise}function Ly(t){return t&&x(t.next)&&x(t.error)&&x(t.complete)}function Vy(t){return t&&t instanceof kn||Ly(t)&&Bo(t)}function Wc(t){return x(t?.lift)}function z(t){return e=>{if(Wc(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function q(t,e,n,r,i){return new Zc(t,e,n,r,i)}var Zc=class extends kn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function pr(){return z((t,e)=>{let n=null;t._refCount++;let r=q(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var on=class extends B{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Wc(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new he;let n=this.getSubject();e.add(this.source.subscribe(q(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=he.EMPTY)}return e}refCount(){return pr()(this)}};var Bf=lr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=(()=>{class t extends B{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new zo(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Bf}next(n){dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?$c:(this.currentObservers=null,o.push(n),new he(()=>{this.currentObservers=null,On(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new B;return n.source=this,n}}return t.create=(e,n)=>new zo(e,n),t})(),zo=class extends se{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:$c}};var _e=class extends se{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Di={now(){return(Di.delegate||Date).now()},delegate:void 0};var wi=class extends se{constructor(e=1/0,n=1/0,r=Di){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var qo=class extends he{constructor(e,n){super()}schedule(e,n=0){return this}};var bi={setInterval(t,e,...n){let{delegate:r}=bi;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=bi;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Go=class extends qo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return bi.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&bi.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,On(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var mr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};mr.now=Di.now;var Wo=class extends mr{constructor(e,n=mr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ei=new Wo(Go),Uf=Ei;var Ae=new B(t=>t.complete());function Zo(t){return t&&x(t.schedule)}function Qc(t){return t[t.length-1]}function Qo(t){return x(Qc(t))?t.pop():void 0}function Mt(t){return Zo(Qc(t))?t.pop():void 0}function Hf(t,e){return typeof Qc(t)=="number"?t.pop():e}function qf(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function zf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pn(t){return this instanceof Pn?(this.v=t,this):new Pn(t)}function Gf(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(w){return Promise.resolve(w).then(p,d)}}function a(p,w){r[p]&&(i[p]=function(F){return new Promise(function(X,Y){o.push([p,F,X,Y])>1||c(p,F)})},w&&(i[p]=w(i[p])))}function c(p,w){try{l(r[p](w))}catch(F){g(o[0][3],F)}}function l(p){p.value instanceof Pn?Promise.resolve(p.value.v).then(u,d):g(o[0][2],p)}function u(p){c("next",p)}function d(p){c("throw",p)}function g(p,w){p(w),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Wf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof zf=="function"?zf(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var gr=t=>t&&typeof t.length=="number"&&typeof t!="function";function Yo(t){return x(t?.then)}function Ko(t){return x(t[hr])}function Jo(t){return Symbol.asyncIterator&&x(t?.[Symbol.asyncIterator])}function Xo(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function jy(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var es=jy();function ts(t){return x(t?.[es])}function ns(t){return Gf(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Pn(n.read());if(i)return yield Pn(void 0);yield yield Pn(r)}}finally{n.releaseLock()}})}function rs(t){return x(t?.getReader)}function re(t){if(t instanceof B)return t;if(t!=null){if(Ko(t))return $y(t);if(gr(t))return By(t);if(Yo(t))return Uy(t);if(Jo(t))return Zf(t);if(ts(t))return Hy(t);if(rs(t))return zy(t)}throw Xo(t)}function $y(t){return new B(e=>{let n=t[hr]();if(x(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function By(t){return new B(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Uy(t){return new B(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Uo)})}function Hy(t){return new B(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Zf(t){return new B(e=>{qy(t,e).catch(n=>e.error(n))})}function zy(t){return Zf(ns(t))}function qy(t,e){var n,r,i,o;return qf(this,void 0,void 0,function*(){try{for(n=Wf(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Be(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function is(t,e=0){return z((n,r)=>{n.subscribe(q(r,i=>Be(r,t,()=>r.next(i),e),()=>Be(r,t,()=>r.complete(),e),i=>Be(r,t,()=>r.error(i),e)))})}function os(t,e=0){return z((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Qf(t,e){return re(t).pipe(os(e),is(e))}function Yf(t,e){return re(t).pipe(os(e),is(e))}function Kf(t,e){return new B(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Jf(t,e){return new B(n=>{let r;return Be(n,e,()=>{r=t[es](),Be(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>x(r?.return)&&r.return()})}function ss(t,e){if(!t)throw new Error("Iterable cannot be null");return new B(n=>{Be(n,e,()=>{let r=t[Symbol.asyncIterator]();Be(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Xf(t,e){return ss(ns(t),e)}function eh(t,e){if(t!=null){if(Ko(t))return Qf(t,e);if(gr(t))return Kf(t,e);if(Yo(t))return Yf(t,e);if(Jo(t))return ss(t,e);if(ts(t))return Jf(t,e);if(rs(t))return Xf(t,e)}throw Xo(t)}function ie(t,e){return e?eh(t,e):re(t)}function N(...t){let e=Mt(t);return ie(t,e)}function sn(t,e){let n=x(t)?t:()=>t,r=i=>i.error(n());return new B(e?i=>e.schedule(r,0,i):r)}function Yc(t){return!!t&&(t instanceof B||x(t.lift)&&x(t.subscribe))}var Wt=lr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function th(t){return t instanceof Date&&!isNaN(t)}function L(t,e){return z((n,r)=>{let i=0;n.subscribe(q(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Gy}=Array;function Wy(t,e){return Gy(e)?t(...e):t(e)}function vr(t){return L(e=>Wy(t,e))}var{isArray:Zy}=Array,{getPrototypeOf:Qy,prototype:Yy,keys:Ky}=Object;function as(t){if(t.length===1){let e=t[0];if(Zy(e))return{args:e,keys:null};if(Jy(e)){let n=Ky(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Jy(t){return t&&typeof t=="object"&&Qy(t)===Yy}function cs(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function _i(...t){let e=Mt(t),n=Qo(t),{args:r,keys:i}=as(t);if(r.length===0)return ie([],e);let o=new B(Xy(r,e,i?s=>cs(i,s):Je));return n?o.pipe(vr(n)):o}function Xy(t,e,n=Je){return r=>{nh(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)nh(e,()=>{let l=ie(t[c],e),u=!1;l.subscribe(q(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function nh(t,e,n){t?Be(n,t,e):e()}function rh(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,g=()=>{d&&!c.length&&!l&&e.complete()},p=F=>l<r?w(F):c.push(F),w=F=>{o&&e.next(F),l++;let X=!1;re(n(F,u++)).subscribe(q(e,Y=>{i?.(Y),o?p(Y):e.next(Y)},()=>{X=!0},void 0,()=>{if(X)try{for(l--;c.length&&l<r;){let Y=c.shift();s?Be(e,s,()=>w(Y)):w(Y)}g()}catch(Y){e.error(Y)}}))};return t.subscribe(q(e,p,()=>{d=!0,g()})),()=>{a?.()}}function ue(t,e,n=1/0){return x(e)?ue((r,i)=>L((o,s)=>e(r,o,i,s))(re(t(r,i))),n):(typeof e=="number"&&(n=e),z((r,i)=>rh(r,i,t,n)))}function an(t=1/0){return ue(Je,t)}function ih(){return an(1)}function St(...t){return ih()(ie(t,Mt(t)))}function Ln(t){return new B(e=>{re(t()).subscribe(e)})}function Kc(...t){let e=Qo(t),{args:n,keys:r}=as(t),i=new B(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;re(n[u]).subscribe(q(o,g=>{d||(d=!0,l--),a[u]=g},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?cs(r,a):a),o.complete())}))}});return e?i.pipe(vr(e)):i}var e0=["addListener","removeListener"],t0=["addEventListener","removeEventListener"],n0=["on","off"];function yr(t,e,n,r){if(x(n)&&(r=n,n=void 0),r)return yr(t,e,n).pipe(vr(r));let[i,o]=o0(t)?t0.map(s=>a=>t[s](e,a,n)):r0(t)?e0.map(oh(t,e)):i0(t)?n0.map(oh(t,e)):[];if(!i&&gr(t))return ue(s=>yr(s,e,n))(re(t));if(!i)throw new TypeError("Invalid event target");return new B(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function oh(t,e){return n=>r=>t[n](e,r)}function r0(t){return x(t.addListener)&&x(t.removeListener)}function i0(t){return x(t.on)&&x(t.off)}function o0(t){return x(t.addEventListener)&&x(t.removeEventListener)}function sh(t=0,e,n=Uf){let r=-1;return e!=null&&(Zo(e)?n=e:r=e),new B(i=>{let o=th(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function ls(...t){let e=Mt(t),n=Hf(t,1/0),r=t;return r.length?r.length===1?re(r[0]):an(n)(ie(r,e)):Ae}var Vn=new B(Gt);function Ie(t,e){return z((n,r)=>{let i=0;n.subscribe(q(r,o=>t.call(e,o,i++)&&r.next(o)))})}function cn(t){return z((e,n)=>{let r=null,i=!1,o;r=e.subscribe(q(n,void 0,void 0,s=>{o=re(t(s,cn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function ah(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(q(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function jn(t,e){return x(e)?ue(t,e,1):ue(t,1)}function ch(t){return new B(e=>t.subscribe(e))}var s0={connector:()=>new se};function us(t,e=s0){let{connector:n}=e;return z((r,i)=>{let o=n();re(t(ch(o))).subscribe(i),i.add(r.subscribe(o))})}function $n(t,e=Ei){return z((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+t,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}n.subscribe(q(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function ln(t){return z((e,n)=>{let r=!1;e.subscribe(q(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function we(t){return t<=0?()=>Ae:z((e,n)=>{let r=0;e.subscribe(q(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function lh(){return z((t,e)=>{t.subscribe(q(e,Gt))})}function Ii(t){return L(()=>t)}function Jc(t,e){return e?n=>St(e.pipe(we(1),lh()),n.pipe(Jc(t))):ue((n,r)=>re(t(n,r)).pipe(we(1),Ii(n)))}function Xc(t,e=Ei){let n=sh(t,e);return Jc(()=>n)}function ds(t=a0){return z((e,n)=>{let r=!1;e.subscribe(q(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function a0(){return new Wt}function xi(t){return z((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Tt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ie((i,o)=>t(i,o,r)):Je,we(1),n?ln(e):ds(()=>new Wt))}function Cr(t){return t<=0?()=>Ae:z((e,n)=>{let r=[];e.subscribe(q(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function el(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ie((i,o)=>t(i,o,r)):Je,Cr(1),n?ln(e):ds(()=>new Wt))}function uh(t,e){let n=x(t)?t:()=>t;return x(e)?us(e,{connector:n}):r=>new on(r,n)}function tl(t){return t?e=>us(t)(e):e=>uh(new se)(e)}function nl(t,e){return z(ah(t,e,arguments.length>=2,!0))}function rl(...t){let e=Mt(t);return z((n,r)=>{(e?St(t,n,e):St(t,n)).subscribe(r)})}function xe(t,e){return z((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(q(r,c=>{i?.unsubscribe();let l=0,u=o++;re(t(c,u)).subscribe(i=q(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Mi(t){return z((e,n)=>{re(t).subscribe(q(n,()=>n.complete(),Gt)),!n.closed&&e.subscribe(n)})}function pe(t,e,n){let r=x(t)||e||n?{next:t,error:e,complete:n}:t;return r?z((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(q(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Je}var Qh="https://g.co/ng/security#xss",I=class extends Error{constructor(e,n){super(hu(e,n)),this.code=e}};function hu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Yh=Symbol("InputSignalNode#UNSET"),c0=R(y({},jc),{transformFn:void 0,applyValueToInputSignal(t,e){jo(t,e)}});function Kh(t,e){let n=Object.create(c0);n.value=t,n.transformFn=e?.transform;function r(){if(Oo(n),n.value===Yh)throw new I(-950,!1);return n.value}return r[xt]=n,r}function $i(t){return{toString:t}.toString()}var fs="__parameters__";function l0(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Jh(t,e,n){return $i(()=>{let r=l0(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(fs)?c[fs]:Object.defineProperty(c,fs,{value:[]})[fs];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var vl=globalThis;function oe(t){for(let e in t)if(t[e]===oe)return e;throw Error("Could not find renamed property on target object.")}function u0(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function He(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(He).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function dh(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var d0=oe({__forward_ref__:oe});function kt(t){return t.__forward_ref__=kt,t.toString=function(){return He(this())},t}function Ne(t){return Xh(t)?t():t}function Xh(t){return typeof t=="function"&&t.hasOwnProperty(d0)&&t.__forward_ref__===kt}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Cn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Qs(t){return fh(t,tp)||fh(t,np)}function ep(t){return Qs(t)!==null}function fh(t,e){return t.hasOwnProperty(e)?t[e]:null}function f0(t){let e=t&&(t[tp]||t[np]);return e||null}function hh(t){return t&&(t.hasOwnProperty(ph)||t.hasOwnProperty(h0))?t[ph]:null}var tp=oe({\u0275prov:oe}),ph=oe({\u0275inj:oe}),np=oe({ngInjectableDef:oe}),h0=oe({ngInjectorDef:oe}),M=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function rp(t){return t&&!!t.\u0275providers}var p0=oe({\u0275cmp:oe}),m0=oe({\u0275dir:oe}),g0=oe({\u0275pipe:oe}),v0=oe({\u0275mod:oe}),Es=oe({\u0275fac:oe}),Ti=oe({__NG_ELEMENT_ID__:oe}),mh=oe({__NG_ENV_ID__:oe});function xr(t){return typeof t=="string"?t:t==null?"":String(t)}function y0(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():xr(t)}function C0(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new I(-200,t)}function pu(t,e){throw new I(-201,!1)}var Z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Z||{}),yl;function ip(){return yl}function Ue(t){let e=yl;return yl=t,e}function op(t,e,n){let r=Qs(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Z.Optional)return null;if(e!==void 0)return e;pu(t,"Injector")}var D0={},Ai=D0,Cl="__NG_DI_FLAG__",_s="ngTempTokenPath",w0="ngTokenPath",b0=/\n/gm,E0="\u0275",gh="__source",_r;function _0(){return _r}function un(t){let e=_r;return _r=t,e}function I0(t,e=Z.Default){if(_r===void 0)throw new I(-203,!1);return _r===null?op(t,void 0,e):_r.get(t,e&Z.Optional?null:void 0,e)}function O(t,e=Z.Default){return(ip()||I0)(Ne(t),e)}function m(t,e=Z.Default){return O(t,Ys(e))}function Ys(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Dl(t){let e=[];for(let n=0;n<t.length;n++){let r=Ne(t[n]);if(Array.isArray(r)){if(r.length===0)throw new I(900,!1);let i,o=Z.Default;for(let s=0;s<r.length;s++){let a=r[s],c=x0(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(O(i,o))}else e.push(O(r))}return e}function sp(t,e){return t[Cl]=e,t.prototype[Cl]=e,t}function x0(t){return t[Cl]}function M0(t,e,n,r){let i=t[_s];throw e[gh]&&i.unshift(e[gh]),t.message=S0(`
`+t.message,i,n,r),t[w0]=i,t[_s]=null,t}function S0(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==E0?t.slice(2):t;let i=He(e);if(Array.isArray(e))i=e.map(He).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):He(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(b0,`
  `)}`}var Ks=sp(Jh("Optional"),8);var mu=sp(Jh("SkipSelf"),4);function zn(t,e){let n=t.hasOwnProperty(Es);return n?t[Es]:null}function gu(t,e){t.forEach(n=>Array.isArray(n)?gu(n,e):e(n))}function ap(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Is(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function T0(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function A0(t,e,n){let r=Bi(t,e);return r>=0?t[r|1]=n:(r=~r,T0(t,r,e,n)),r}function il(t,e){let n=Bi(t,e);if(n>=0)return t[n|1]}function Bi(t,e){return N0(t,e,1)}function N0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Mr={},rt=[],Sr=new M(""),cp=new M("",-1),lp=new M(""),xs=class{get(e,n=Ai){if(n===Ai){let r=new Error(`NullInjectorError: No provider for ${He(e)}!`);throw r.name="NullInjectorError",r}return n}},up=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(up||{}),Rt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Rt||{}),hn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(hn||{});function R0(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function wl(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];O0(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function dp(t){return t===3||t===4||t===6}function O0(t){return t.charCodeAt(0)===64}function Ni(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?vh(t,n,i,null,e[++r]):vh(t,n,i,null,null))}}return t}function vh(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var fp="ng-template";function F0(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&R0(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(vu(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function vu(t){return t.type===4&&t.value!==fp}function k0(t,e,n){let r=t.type===4&&!n?fp:t.value;return e===r}function P0(t,e,n){let r=4,i=t.attrs,o=i!==null?j0(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!gt(r)&&!gt(c))return!1;if(s&&gt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!k0(t,c,n)||c===""&&e.length===1){if(gt(r))return!1;s=!0}}else if(r&8){if(i===null||!F0(t,i,c,n)){if(gt(r))return!1;s=!0}}else{let l=e[++a],u=L0(c,i,vu(t),n);if(u===-1){if(gt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(gt(r))return!1;s=!0}}}}return gt(r)||s}function gt(t){return(t&1)===0}function L0(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return $0(e,t)}function V0(t,e,n=!1){for(let r=0;r<e.length;r++)if(P0(t,e[r],n))return!0;return!1}function j0(t){for(let e=0;e<t.length;e++){let n=t[e];if(dp(n))return e}return t.length}function $0(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function yh(t,e){return t?":not("+e.trim()+")":e}function B0(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!gt(s)&&(e+=yh(o,i),i=""),r=s,o=o||!gt(r);n++}return i!==""&&(e+=yh(o,i)),e}function U0(t){return t.map(B0).join(",")}function H0(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!gt(i))break;i=o}r++}return{attrs:e,classes:n}}function S(t){return $i(()=>{let e=yp(t),n=R(y({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===up.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Rt.Emulated,styles:t.styles||rt,_:null,schemas:t.schemas||null,tView:null,id:""});Cp(n);let r=t.dependencies;return n.directiveDefs=Dh(r,!1),n.pipeDefs=Dh(r,!0),n.id=G0(n),n})}function z0(t){return pn(t)||pp(t)}function q0(t){return t!==null}function Dn(t){return $i(()=>({type:t.type,bootstrap:t.bootstrap||rt,declarations:t.declarations||rt,imports:t.imports||rt,exports:t.exports||rt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ch(t,e){if(t==null)return Mr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=hn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==hn.None?[r,a]:r,e[o]=s):n[o]=r}return n}function ye(t){return $i(()=>{let e=yp(t);return Cp(e),e})}function hp(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function pn(t){return t[p0]||null}function pp(t){return t[m0]||null}function mp(t){return t[g0]||null}function gp(t){let e=pn(t)||pp(t)||mp(t);return e!==null?e.standalone:!1}function vp(t,e){let n=t[v0]||null;if(!n&&e===!0)throw new Error(`Type ${He(t)} does not have '\u0275mod' property.`);return n}function yp(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Mr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||rt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ch(t.inputs,e),outputs:Ch(t.outputs),debugInfo:null}}function Cp(t){t.features?.forEach(e=>e(t))}function Dh(t,e){if(!t)return null;let n=e?mp:z0;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(q0)}function G0(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Vr(t){return{\u0275providers:t}}function W0(...t){return{\u0275providers:Dp(!0,t),\u0275fromNgModule:!0}}function Dp(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return gu(e,s=>{let a=s;bl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&wp(i,o),n}function wp(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];yu(i,o=>{e(o,r)})}}function bl(t,e,n,r){if(t=Ne(t),!t)return!1;let i=null,o=hh(t),s=!o&&pn(t);if(!o&&!s){let c=t.ngModule;if(o=hh(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)bl(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{gu(o.imports,u=>{bl(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&wp(l,e)}if(!a){let l=zn(i)||(()=>new i);e({provide:i,useFactory:l,deps:rt},i),e({provide:lp,useValue:i,multi:!0},i),e({provide:Sr,useValue:()=>O(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;yu(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function yu(t,e){for(let n of t)rp(n)&&(n=n.\u0275providers),Array.isArray(n)?yu(n,e):e(n)}var Z0=oe({provide:String,useValue:oe});function bp(t){return t!==null&&typeof t=="object"&&Z0 in t}function Q0(t){return!!(t&&t.useExisting)}function Y0(t){return!!(t&&t.useFactory)}function Tr(t){return typeof t=="function"}function K0(t){return!!t.useClass}var Js=new M(""),vs={},J0={},ol;function Cu(){return ol===void 0&&(ol=new xs),ol}var Xe=class{},Ri=class extends Xe{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_l(e,s=>this.processProvider(s)),this.records.set(cp,Dr(void 0,this)),i.has("environment")&&this.records.set(Xe,Dr(void 0,this));let o=this.records.get(Js);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(lp,rt,Z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=W(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),W(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=un(this),r=Ue(void 0),i;try{return e()}finally{un(n),Ue(r)}}get(e,n=Ai,r=Z.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(mh))return e[mh](this);r=Ys(r);let i,o=un(this),s=Ue(void 0);try{if(!(r&Z.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=rC(e)&&Qs(e);l&&this.injectableDefInScope(l)?c=Dr(El(e),vs):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Z.Self?Cu():this.parent;return n=r&Z.Optional&&n===Ai?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[_s]=a[_s]||[]).unshift(He(e)),o)throw a;return M0(a,e,"R3InjectorError",this.source)}else throw a}finally{Ue(s),un(o)}}resolveInjectorInitializers(){let e=W(null),n=un(this),r=Ue(void 0),i;try{let o=this.get(Sr,rt,Z.Self);for(let s of o)s()}finally{un(n),Ue(r),W(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(He(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(e){e=Ne(e);let n=Tr(e)?e:Ne(e&&e.provide),r=eC(e);if(!Tr(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Dr(void 0,vs,!0),i.factory=()=>Dl(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=W(null);try{return n.value===vs&&(n.value=J0,n.value=n.factory()),typeof n.value=="object"&&n.value&&nC(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{W(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ne(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function El(t){let e=Qs(t),n=e!==null?e.factory:zn(t);if(n!==null)return n;if(t instanceof M)throw new I(204,!1);if(t instanceof Function)return X0(t);throw new I(204,!1)}function X0(t){if(t.length>0)throw new I(204,!1);let n=f0(t);return n!==null?()=>n.factory(t):()=>new t}function eC(t){if(bp(t))return Dr(void 0,t.useValue);{let e=Ep(t);return Dr(e,vs)}}function Ep(t,e,n){let r;if(Tr(t)){let i=Ne(t);return zn(i)||El(i)}else if(bp(t))r=()=>Ne(t.useValue);else if(Y0(t))r=()=>t.useFactory(...Dl(t.deps||[]));else if(Q0(t))r=()=>O(Ne(t.useExisting));else{let i=Ne(t&&(t.useClass||t.provide));if(tC(t))r=()=>new i(...Dl(t.deps));else return zn(i)||El(i)}return r}function Dr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function tC(t){return!!t.deps}function nC(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function rC(t){return typeof t=="function"||typeof t=="object"&&t instanceof M}function _l(t,e){for(let n of t)Array.isArray(n)?_l(n,e):n&&rp(n)?_l(n.\u0275providers,e):e(n)}function Pt(t,e){t instanceof Ri&&t.assertNotDestroyed();let n,r=un(t),i=Ue(void 0);try{return e()}finally{un(r),Ue(i)}}function _p(){return ip()!==void 0||_0()!=null}function Ui(t){if(!_p())throw new I(-203,!1)}function iC(t){return typeof t=="function"}var Yt=0,U=1,k=2,Oe=3,vt=4,Dt=5,Oi=6,Ms=7,Me=8,Ar=9,Ot=10,be=11,Fi=12,wh=13,jr=14,yt=15,Nr=16,wr=17,Rr=18,Xs=19,Ip=20,dn=21,ys=22,it=23,Fe=25,xp=1;var qn=7,Ss=8,Ts=9,Re=10,As=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(As||{});function fn(t){return Array.isArray(t)&&typeof t[xp]=="object"}function Kt(t){return Array.isArray(t)&&t[xp]===!0}function Du(t){return(t.flags&4)!==0}function ea(t){return t.componentOffset>-1}function ta(t){return(t.flags&1)===1}function mn(t){return!!t.template}function Il(t){return(t[k]&512)!==0}var xl=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Mp(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ze(){return Sp}function Sp(t){return t.type.prototype.ngOnChanges&&(t.setInput=sC),oC}ze.ngInherit=!0;function oC(){let t=Ap(this),e=t?.current;if(e){let n=t.previous;if(n===Mr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function sC(t,e,n,r,i){let o=this.declaredInputs[r],s=Ap(t)||aC(t,{previous:Mr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new xl(l&&l.currentValue,n,c===Mr),Mp(t,e,i,n)}var Tp="__ngSimpleChanges__";function Ap(t){return t[Tp]||null}function aC(t,e){return t[Tp]=e}var bh=null;var At=function(t,e,n){bh?.(t,e,n)},Np="svg",cC="math";function Ft(t){for(;Array.isArray(t);)t=t[Yt];return t}function Rp(t,e){return Ft(e[t])}function ot(t,e){return Ft(e[t.index])}function wu(t,e){return t.data[e]}function Op(t,e){return t[e]}function wn(t,e){let n=e[t];return fn(n)?n:n[Yt]}function bu(t){return(t[k]&128)===128}function lC(t){return Kt(t[Oe])}function gn(t,e){return e==null?null:t[e]}function Fp(t){t[wr]=0}function kp(t){t[k]&1024||(t[k]|=1024,bu(t)&&ra(t))}function uC(t,e){for(;t>0;)e=e[jr],t--;return e}function na(t){return!!(t[k]&9216||t[it]?.dirty)}function Ml(t){t[Ot].changeDetectionScheduler?.notify(8),t[k]&64&&(t[k]|=1024),na(t)&&ra(t)}function ra(t){t[Ot].changeDetectionScheduler?.notify(0);let e=Gn(t);for(;e!==null&&!(e[k]&8192||(e[k]|=8192,!bu(e)));)e=Gn(e)}function Pp(t,e){if((t[k]&256)===256)throw new I(911,!1);t[dn]===null&&(t[dn]=[]),t[dn].push(e)}function dC(t,e){if(t[dn]===null)return;let n=t[dn].indexOf(e);n!==-1&&t[dn].splice(n,1)}function Gn(t){let e=t[Oe];return Kt(e)?e[Oe]:e}var G={lFrame:Gp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Lp=!1;function fC(){return G.lFrame.elementDepthCount}function hC(){G.lFrame.elementDepthCount++}function pC(){G.lFrame.elementDepthCount--}function Vp(){return G.bindingsEnabled}function mC(){return G.skipHydrationRootTNode!==null}function gC(t){return G.skipHydrationRootTNode===t}function vC(){G.skipHydrationRootTNode=null}function ee(){return G.lFrame.lView}function Te(){return G.lFrame.tView}function K(t){return G.lFrame.contextLView=t,t[Me]}function J(t){return G.lFrame.contextLView=null,t}function ke(){let t=jp();for(;t!==null&&t.type===64;)t=t.parent;return t}function jp(){return G.lFrame.currentTNode}function yC(){let t=G.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Jn(t,e){let n=G.lFrame;n.currentTNode=t,n.isParent=e}function Eu(){return G.lFrame.isParent}function $p(){G.lFrame.isParent=!1}function CC(){return G.lFrame.contextLView}function Bp(){return Lp}function Eh(t){Lp=t}function _u(){let t=G.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function DC(){return G.lFrame.bindingIndex}function wC(t){return G.lFrame.bindingIndex=t}function Hi(){return G.lFrame.bindingIndex++}function Up(t){let e=G.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function bC(){return G.lFrame.inI18n}function EC(t,e){let n=G.lFrame;n.bindingIndex=n.bindingRootIndex=t,Sl(e)}function _C(){return G.lFrame.currentDirectiveIndex}function Sl(t){G.lFrame.currentDirectiveIndex=t}function IC(t){let e=G.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Hp(t){G.lFrame.currentQueryIndex=t}function xC(t){let e=t[U];return e.type===2?e.declTNode:e.type===1?t[Dt]:null}function zp(t,e,n){if(n&Z.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Z.Host);)if(i=xC(o),i===null||(o=o[jr],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=G.lFrame=qp();return r.currentTNode=e,r.lView=t,!0}function Iu(t){let e=qp(),n=t[U];G.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function qp(){let t=G.lFrame,e=t===null?null:t.child;return e===null?Gp(t):e}function Gp(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Wp(){let t=G.lFrame;return G.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Zp=Wp;function xu(){let t=Wp();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function MC(t){return(G.lFrame.contextLView=uC(t,G.lFrame.contextLView))[Me]}function bn(){return G.lFrame.selectedIndex}function Wn(t){G.lFrame.selectedIndex=t}function Mu(){let t=G.lFrame;return wu(t.tView,t.selectedIndex)}function me(){G.lFrame.currentNamespace=Np}function SC(){return G.lFrame.currentNamespace}var Qp=!0;function ia(){return Qp}function oa(t){Qp=t}function TC(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Sp(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function sa(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Cs(t,e,n){Yp(t,e,3,n)}function Ds(t,e,n,r){(t[k]&3)===n&&Yp(t,e,n,r)}function sl(t,e){let n=t[k];(n&3)===e&&(n&=16383,n+=1,t[k]=n)}function Yp(t,e,n,r){let i=r!==void 0?t[wr]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[wr]+=65536),(a<o||o==-1)&&(AC(t,n,e,c),t[wr]=(t[wr]&4294901760)+c+2),c++}function _h(t,e){At(4,t,e);let n=W(null);try{e.call(t)}finally{W(n),At(5,t,e)}}function AC(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[k]>>14<t[wr]>>16&&(t[k]&3)===e&&(t[k]+=16384,_h(a,o)):_h(a,o)}var Ir=-1,Zn=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function NC(t){return t instanceof Zn}function RC(t){return(t.flags&8)!==0}function OC(t){return(t.flags&16)!==0}var al={},Tl=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ys(r);let i=this.injector.get(e,al,r);return i!==al||n===al?i:this.parentInjector.get(e,n,r)}};function Kp(t){return t!==Ir}function Ns(t){return t&32767}function FC(t){return t>>16}function Rs(t,e){let n=FC(t),r=e;for(;n>0;)r=r[jr],n--;return r}var Al=!0;function Os(t){let e=Al;return Al=t,e}var kC=256,Jp=kC-1,Xp=5,PC=0,Nt={};function LC(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ti)&&(r=n[Ti]),r==null&&(r=n[Ti]=PC++);let i=r&Jp,o=1<<i;e.data[t+(i>>Xp)]|=o}function Fs(t,e){let n=em(t,e);if(n!==-1)return n;let r=e[U];r.firstCreatePass&&(t.injectorIndex=e.length,cl(r.data,t),cl(e,null),cl(r.blueprint,null));let i=Su(t,e),o=t.injectorIndex;if(Kp(i)){let s=Ns(i),a=Rs(i,e),c=a[U].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function cl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function em(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Su(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=om(i),r===null)return Ir;if(n++,i=i[jr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ir}function Nl(t,e,n){LC(t,e,n)}function VC(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(dp(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function tm(t,e,n){if(n&Z.Optional||t!==void 0)return t;pu(e,"NodeInjector")}function nm(t,e,n,r){if(n&Z.Optional&&r===void 0&&(r=null),!(n&(Z.Self|Z.Host))){let i=t[Ar],o=Ue(void 0);try{return i?i.get(e,r,n&Z.Optional):op(e,r,n&Z.Optional)}finally{Ue(o)}}return tm(r,e,n)}function rm(t,e,n,r=Z.Default,i){if(t!==null){if(e[k]&2048&&!(r&Z.Self)){let s=HC(t,e,n,r,Nt);if(s!==Nt)return s}let o=im(t,e,n,r,Nt);if(o!==Nt)return o}return nm(e,n,r,i)}function im(t,e,n,r,i){let o=BC(n);if(typeof o=="function"){if(!zp(e,t,r))return r&Z.Host?tm(i,n,r):nm(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Z.Optional))pu(n);else return s}finally{Zp()}}else if(typeof o=="number"){let s=null,a=em(t,e),c=Ir,l=r&Z.Host?e[yt][Dt]:null;for((a===-1||r&Z.SkipSelf)&&(c=a===-1?Su(t,e):e[a+8],c===Ir||!xh(r,!1)?a=-1:(s=e[U],a=Ns(c),e=Rs(c,e)));a!==-1;){let u=e[U];if(Ih(o,a,u.data)){let d=jC(a,e,n,s,r,l);if(d!==Nt)return d}c=e[a+8],c!==Ir&&xh(r,e[U].data[a+8]===l)&&Ih(o,a,e)?(s=u,a=Ns(c),e=Rs(c,e)):a=-1}}return i}function jC(t,e,n,r,i,o){let s=e[U],a=s.data[t+8],c=r==null?ea(a)&&Al:r!=s&&(a.type&3)!==0,l=i&Z.Host&&o===a,u=$C(a,s,n,c,l);return u!==null?Or(e,s,u,a):Nt}function $C(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,g=i?a+u:l;for(let p=d;p<g;p++){let w=s[p];if(p<c&&n===w||p>=c&&w.type===n)return p}if(i){let p=s[c];if(p&&mn(p)&&p.type===n)return c}return null}function Or(t,e,n,r){let i=t[n],o=e.data;if(NC(i)){let s=i;s.resolving&&C0(y0(o[n]));let a=Os(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Ue(s.injectImpl):null,u=zp(t,r,Z.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&TC(n,o[n],e)}finally{l!==null&&Ue(l),Os(a),s.resolving=!1,Zp()}}return i}function BC(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ti)?t[Ti]:void 0;return typeof e=="number"?e>=0?e&Jp:UC:e}function Ih(t,e,n){let r=1<<t;return!!(n[e+(t>>Xp)]&r)}function xh(t,e){return!(t&Z.Self)&&!(t&Z.Host&&e)}var Hn=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return rm(this._tNode,this._lView,e,Ys(r),n)}};function UC(){return new Hn(ke(),ee())}function En(t){return $i(()=>{let e=t.prototype.constructor,n=e[Es]||Rl(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Es]||Rl(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Rl(t){return Xh(t)?()=>{let e=Rl(Ne(t));return e&&e()}:zn(t)}function HC(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[k]&2048&&!(s[k]&512);){let a=im(o,s,n,r|Z.Self,Nt);if(a!==Nt)return a;let c=o.parent;if(!c){let l=s[Ip];if(l){let u=l.get(n,Nt,r);if(u!==Nt)return u}c=om(s),s=s[jr]}o=c}return i}function om(t){let e=t[U],n=e.type;return n===2?e.declTNode:n===1?t[Dt]:null}function Tu(t){return VC(ke(),t)}function Mh(t,e=null,n=null,r){let i=sm(t,e,n,r);return i.resolveInjectorInitializers(),i}function sm(t,e=null,n=null,r,i=new Set){let o=[n||rt,W0(t)];return r=r||(typeof t=="object"?void 0:He(t)),new Ri(o,e||Cu(),r||null,i)}var Bn=class Bn{static create(e,n){if(Array.isArray(e))return Mh({name:""},n,e,"");{let r=e.name??"";return Mh({name:r},e.parent,e.providers,r)}}};Bn.THROW_IF_NOT_FOUND=Ai,Bn.NULL=new xs,Bn.\u0275prov=E({token:Bn,providedIn:"any",factory:()=>O(cp)}),Bn.__NG_ELEMENT_ID__=-1;var Se=Bn;var zC=new M("");zC.__NG_ELEMENT_ID__=t=>{let e=ke();if(e===null)throw new I(204,!1);if(e.type&2)return e.value;if(t&Z.Optional)return null;throw new I(204,!1)};var qC="ngOriginalError";function ll(t){return t[qC]}var am=!0,_n=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=GC,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Ol=class extends _n{constructor(e){super(),this._lView=e}onDestroy(e){return Pp(this._lView,e),()=>dC(this._lView,e)}};function GC(){return new Ol(ee())}var Xn=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _e(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Fl=class extends se{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,_p()&&(this.destroyRef=m(_n,{optional:!0})??void 0,this.pendingTasks=m(Xn,{optional:!0})??void 0)}emit(e){let n=W(null);try{super.next(e)}finally{W(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof he&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ve=Fl;function ks(...t){}function cm(t){let e,n;function r(){t=ks;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Sh(t){return queueMicrotask(()=>t()),()=>{t=ks}}var Au="isAngularZone",Ps=Au+"_ID",WC=0,de=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ve(!1),this.onMicrotaskEmpty=new ve(!1),this.onStable=new ve(!1),this.onError=new ve(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=am}=e;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,YC(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Au)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new I(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,ZC,ks,ks);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},ZC={};function Nu(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function QC(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){cm(()=>{t.callbackScheduled=!1,kl(t),t.isCheckStableRunning=!0,Nu(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),kl(t)}function YC(t){let e=()=>{QC(t)},n=WC++;t._inner=t._inner.fork({name:"angular",properties:{[Au]:!0,[Ps]:n,[Ps+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(KC(c))return r.invokeTask(o,s,a,c);try{return Th(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Ah(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Th(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!JC(c)&&e(),Ah(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,kl(t),Nu(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function kl(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Th(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ah(t){t._nesting--,Nu(t)}var Ls=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ve,this.onMicrotaskEmpty=new ve,this.onStable=new ve,this.onError=new ve}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function KC(t){return lm(t,"__ignore_ng_zone__")}function JC(t){return lm(t,"__scheduler_tick__")}function lm(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Ct=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ll(e);for(;n&&ll(n);)n=ll(n);return n||null}},XC=new M("",{providedIn:"root",factory:()=>{let t=m(de),e=m(Ct);return n=>t.runOutsideAngular(()=>e.handleError(n))}}),Pl=class{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=m(Ct,{optional:!0}),this.destroyRef=m(_n),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new I(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed)throw new I(953,!1);if(this.listeners===null)return;let n=W(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{W(n)}}};function st(t){return new Pl}function Nh(t,e){return Kh(t,e)}function eD(t){return Kh(Yh,t)}var P=(Nh.required=eD,Nh);function tD(){return aa(ke(),ee())}function aa(t,e){return new wt(ot(t,e))}var wt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=tD;let t=e;return t})();function um(t){return(t.flags&128)===128}var dm=new Map,nD=0;function rD(){return nD++}function iD(t){dm.set(t[Xs],t)}function Ll(t){dm.delete(t[Xs])}var Rh="__ngContext__";function vn(t,e){fn(e)?(t[Rh]=e[Xs],iD(e)):t[Rh]=e}function fm(t){return pm(t[Fi])}function hm(t){return pm(t[vt])}function pm(t){for(;t!==null&&!Kt(t);)t=t[vt];return t}var Vl;function mm(t){Vl=t}function oD(){if(Vl!==void 0)return Vl;if(typeof document<"u")return document;throw new I(210,!1)}var Ru=new M("",{providedIn:"root",factory:()=>sD}),sD="ng",Ou=new M(""),bt=new M("",{providedIn:"platform",factory:()=>"unknown"});var Fu=new M("",{providedIn:"root",factory:()=>oD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var aD="h",cD="b";var lD=()=>null;function ku(t,e,n=!1){return lD(t,e,n)}var gm=!1,uD=new M("",{providedIn:"root",factory:()=>gm});var hs;function dD(){if(hs===void 0&&(hs=null,vl.trustedTypes))try{hs=vl.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hs}function Oh(t){return dD()?.createScriptURL(t)||t}var Vs=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qh})`}};function zi(t){return t instanceof Vs?t.changingThisBreaksApplicationSecurity:t}function Pu(t,e){let n=fD(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Qh})`)}return n===e}function fD(t){return t instanceof Vs&&t.getTypeName()||null}var hD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vm(t){return t=String(t),t.match(hD)?t:"unsafe:"+t}var ca=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ca||{});function Lu(t){let e=Cm();return e?e.sanitize(ca.URL,t)||"":Pu(t,"URL")?zi(t):vm(xr(t))}function pD(t){let e=Cm();if(e)return Oh(e.sanitize(ca.RESOURCE_URL,t)||"");if(Pu(t,"ResourceURL"))return Oh(zi(t));throw new I(904,!1)}function mD(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?pD:Lu}function ym(t,e,n){return mD(e,n)(t)}function Cm(){let t=ee();return t&&t[Ot].sanitizer}var gD=/^>|^->|<!--|-->|--!>|<!-$/g,vD=/(<|>)/g,yD="\u200B$1\u200B";function CD(t){return t.replace(gD,e=>e.replace(vD,yD))}function la(t){return t.ownerDocument.defaultView}function Dm(t){return t instanceof Function?t():t}function DD(t){return(t??m(Se)).get(bt)==="browser"}var Zt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Zt||{}),wD;function Vu(t,e){return wD(t,e)}function br(t,e,n,r,i){if(r!=null){let o,s=!1;Kt(r)?o=r:fn(r)&&(s=!0,r=r[Yt]);let a=Ft(r);t===0&&n!==null?i==null?_m(e,n,a):js(e,n,a,i||null,!0):t===1&&n!==null?js(e,n,a,i||null,!0):t===2?LD(e,a,s):t===3&&e.destroyNode(a),o!=null&&jD(e,t,o,n,i)}}function bD(t,e){return t.createText(e)}function ED(t,e,n){t.setValue(e,n)}function _D(t,e){return t.createComment(CD(e))}function wm(t,e,n){return t.createElement(e,n)}function ID(t,e){bm(t,e),e[Yt]=null,e[Dt]=null}function xD(t,e,n,r,i,o){r[Yt]=i,r[Dt]=e,fa(t,r,n,1,i,o)}function bm(t,e){e[Ot].changeDetectionScheduler?.notify(9),fa(t,e,e[be],2,null,null)}function MD(t){let e=t[Fi];if(!e)return ul(t[U],t);for(;e;){let n=null;if(fn(e))n=e[Fi];else{let r=e[Re];r&&(n=r)}if(!n){for(;e&&!e[vt]&&e!==t;)fn(e)&&ul(e[U],e),e=e[Oe];e===null&&(e=t),fn(e)&&ul(e[U],e),n=e&&e[vt]}e=n}}function SD(t,e,n,r){let i=Re+r,o=n.length;r>0&&(n[i-1][vt]=e),r<o-Re?(e[vt]=n[i],ap(n,Re+r,e)):(n.push(e),e[vt]=null),e[Oe]=n;let s=e[Nr];s!==null&&n!==s&&Em(s,e);let a=e[Rr];a!==null&&a.insertView(t),Ml(e),e[k]|=128}function Em(t,e){let n=t[Ts],r=e[Oe];if(fn(r))t[k]|=As.HasTransplantedViews;else{let i=r[Oe][yt];e[yt]!==i&&(t[k]|=As.HasTransplantedViews)}n===null?t[Ts]=[e]:n.push(e)}function ju(t,e){let n=t[Ts],r=n.indexOf(e);n.splice(r,1)}function ki(t,e){if(t.length<=Re)return;let n=Re+e,r=t[n];if(r){let i=r[Nr];i!==null&&i!==t&&ju(i,r),e>0&&(t[n-1][vt]=r[vt]);let o=Is(t,Re+e);ID(r[U],r);let s=o[Rr];s!==null&&s.detachView(o[U]),r[Oe]=null,r[vt]=null,r[k]&=-129}return r}function ua(t,e){if(!(e[k]&256)){let n=e[be];n.destroyNode&&fa(t,e,n,3,null,null),MD(e)}}function ul(t,e){if(e[k]&256)return;let n=W(null);try{e[k]&=-129,e[k]|=256,e[it]&&Po(e[it]),AD(t,e),TD(t,e),e[U].type===1&&e[be].destroy();let r=e[Nr];if(r!==null&&Kt(e[Oe])){r!==e[Oe]&&ju(r,e);let i=e[Rr];i!==null&&i.detachView(t)}Ll(e)}finally{W(n)}}function TD(t,e){let n=t.cleanup,r=e[Ms];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Ms]=null);let i=e[dn];if(i!==null){e[dn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function AD(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Zn)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];At(4,a,c);try{c.call(a)}finally{At(5,a,c)}}else{At(4,i,o);try{o.call(i)}finally{At(5,i,o)}}}}}function ND(t,e,n){return RD(t,e.parent,n)}function RD(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Yt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Rt.None||o===Rt.Emulated)return null}return ot(r,n)}}function js(t,e,n,r,i){t.insertBefore(e,n,r,i)}function _m(t,e,n){t.appendChild(e,n)}function Fh(t,e,n,r,i){r!==null?js(t,e,n,r,i):_m(t,e,n)}function Im(t,e){return t.parentNode(e)}function OD(t,e){return t.nextSibling(e)}function FD(t,e,n){return PD(t,e,n)}function kD(t,e,n){return t.type&40?ot(t,n):null}var PD=kD,kh;function da(t,e,n,r){let i=ND(t,r,e),o=e[be],s=r.parent||e[Dt],a=FD(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Fh(o,i,n[c],a,!1);else Fh(o,i,n,a,!1);kh!==void 0&&kh(o,r,e,n,i)}function Si(t,e){if(e!==null){let n=e.type;if(n&3)return ot(e,t);if(n&4)return jl(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Si(t,r);{let i=t[e.index];return Kt(i)?jl(-1,i):Ft(i)}}else{if(n&128)return Si(t,e.next);if(n&32)return Vu(e,t)()||Ft(t[e.index]);{let r=xm(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Gn(t[yt]);return Si(i,r)}else return Si(t,e.next)}}}return null}function xm(t,e){if(e!==null){let r=t[yt][Dt],i=e.projection;return r.projection[i]}return null}function jl(t,e){let n=Re+t+1;if(n<e.length){let r=e[n],i=r[U].firstChild;if(i!==null)return Si(r,i)}return e[qn]}function LD(t,e,n){t.removeChild(null,e,n)}function $u(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&vn(Ft(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)$u(t,e,n.child,r,i,o,!1),br(e,t,i,a,o);else if(c&32){let l=Vu(n,r),u;for(;u=l();)br(e,t,i,u,o);br(e,t,i,a,o)}else c&16?VD(t,e,r,n,i,o):br(e,t,i,a,o);n=s?n.projectionNext:n.next}}function fa(t,e,n,r,i,o){$u(n,r,t.firstChild,e,i,o,!1)}function VD(t,e,n,r,i,o){let s=n[yt],c=s[Dt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];br(e,t,i,u,o)}else{let l=c,u=s[Oe];um(r)&&(l.flags|=128),$u(t,e,l,u,i,o,!0)}}function jD(t,e,n,r,i){let o=n[qn],s=Ft(n);o!==s&&br(e,t,r,o,i);for(let a=Re;a<n.length;a++){let c=n[a];fa(c[U],c,t,e,r,o)}}function $D(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Zt.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Zt.Important),t.setStyle(n,r,i,o))}}function BD(t,e,n){t.setAttribute(e,"style",n)}function Mm(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Sm(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&wl(t,e,r),i!==null&&Mm(t,e,i),o!==null&&BD(t,e,o)}var at={};function D(t=1){Tm(Te(),ee(),bn()+t,!1)}function Tm(t,e,n,r){if(!r)if((e[k]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Cs(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Ds(e,o,0,n)}Wn(n)}function j(t,e=Z.Default){let n=ee();if(n===null)return O(t,e);let r=ke();return rm(r,n,Ne(t),e)}function Am(){let t="invalid";throw new Error(t)}function Nm(t,e,n,r,i,o){let s=W(null);try{let a=null;i&hn.SignalBased&&(a=e[r][xt]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&hn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):Mp(e,a,r,o)}finally{W(s)}}function UD(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Wn(~i);else{let o=i,s=n[++r],a=n[++r];EC(s,o);let c=e[o];a(2,c)}}}finally{Wn(-1)}}function ha(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Yt]=i,d[k]=r|4|128|8|64,(l!==null||t&&t[k]&2048)&&(d[k]|=2048),Fp(d),d[Oe]=d[jr]=t,d[Me]=n,d[Ot]=s||t&&t[Ot],d[be]=a||t&&t[be],d[Ar]=c||t&&t[Ar]||null,d[Dt]=o,d[Xs]=rD(),d[Oi]=u,d[Ip]=l,d[yt]=e.type==2?t[yt]:d,d}function qi(t,e,n,r,i){let o=t.data[e];if(o===null)o=HD(t,e,n,r,i),bC()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=yC();o.injectorIndex=s===null?-1:s.injectorIndex}return Jn(o,!0),o}function HD(t,e,n,r,i){let o=jp(),s=Eu(),a=s?o:o&&o.parent,c=t.data[e]=ZD(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function Rm(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Om(t,e,n,r,i){let o=bn(),s=r&2;try{Wn(-1),s&&e.length>Fe&&Tm(t,e,Fe,!1),At(s?2:0,i),n(r,i)}finally{Wn(o),At(s?3:1,i)}}function Bu(t,e,n){if(Du(e)){let r=W(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{W(r)}}}function Uu(t,e,n){Vp()&&(ew(t,e,n,ot(n,e)),(n.flags&64)===64&&Lm(t,e,n))}function Hu(t,e,n=ot){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Fm(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=zu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function zu(t,e,n,r,i,o,s,a,c,l,u){let d=Fe+r,g=d+i,p=zD(d,g),w=typeof l=="function"?l():l;return p[U]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:u}}function zD(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:at);return n}function qD(t,e,n,r){let o=r.get(uD,gm)||n===Rt.ShadowDom,s=t.selectRootElement(e,o);return GD(s),s}function GD(t){WD(t)}var WD=()=>null;function ZD(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return mC()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ph(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=hn.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?Lh(r,n,l,a,c):Lh(r,n,l,a)}return r}function Lh(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function QD(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],g=n?n.get(d):null,p=g?g.inputs:null,w=g?g.outputs:null;c=Ph(0,d.inputs,u,c,p),l=Ph(1,d.outputs,u,l,w);let F=c!==null&&s!==null&&!vu(e)?dw(c,u,s):null;a.push(F)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function YD(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function km(t,e,n,r,i,o,s,a){let c=ot(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Gu(t,n,u,r,i),ea(e)&&KD(n,e.index)):e.type&3?(r=YD(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function KD(t,e){let n=wn(e,t);n[k]&16||(n[k]|=64)}function qu(t,e,n,r){if(Vp()){let i=r===null?null:{"":-1},o=nw(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Pm(t,e,n,s,i,a),i&&rw(n,r,i)}n.mergedAttrs=Ni(n.mergedAttrs,n.attrs)}function Pm(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Nl(Fs(n,e),t,r[l].type);ow(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Rm(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Ni(n.mergedAttrs,u.hostAttrs),sw(t,n,e,c,u),iw(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}QD(t,n,o)}function JD(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;XD(s)!=a&&s.push(a),s.push(n,r,o)}}function XD(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function ew(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;ea(n)&&aw(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Fs(n,e),vn(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Or(e,t,a,n);if(vn(l,e),s!==null&&uw(e,a-i,l,c,n,s),mn(c)){let u=wn(n.index,e);u[Me]=Or(e,t,a,n)}}}function Lm(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=_C();try{Wn(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Sl(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&tw(c,l)}}finally{Wn(-1),Sl(s)}}function tw(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function nw(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(V0(e,s.selectors,!1))if(r||(r=[]),mn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;$l(t,e,c)}else r.unshift(s),$l(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function $l(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function rw(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new I(-301,!1);r.push(e[i],o)}}}function iw(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mn(e)&&(n[""]=t)}}function ow(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function sw(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=zn(i.type,!0)),s=new Zn(o,mn(i),j);t.blueprint[r]=s,n[r]=s,JD(t,e,r,Rm(t,n,i.hostVars,at),i)}function aw(t,e,n){let r=ot(e,t),i=Fm(n),o=t[Ot].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=pa(t,ha(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function cw(t,e,n,r,i,o){let s=ot(t,e);lw(e[be],s,o,t.value,n,r,i)}function lw(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?xr(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function uw(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];Nm(r,n,c,l,u,d)}}function dw(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function Vm(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function jm(t,e){let n=t.contentQueries;if(n!==null){let r=W(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Hp(o),a.contentQueries(2,e[s],s)}}}finally{W(r)}}}function pa(t,e){return t[Fi]?t[wh][vt]=e:t[Fi]=e,t[wh]=e,e}function Bl(t,e,n){Hp(0);let r=W(null);try{e(t,n)}finally{W(r)}}function fw(t){return t[Ms]??=[]}function hw(t){return t.cleanup??=[]}function $m(t,e){let n=t[Ar],r=n?n.get(Ct,null):null;r&&r.handleError(e)}function Gu(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];Nm(u,l,r,a,c,i)}}function Bm(t,e,n){let r=Rp(e,t);ED(t[be],r,n)}function pw(t,e){let n=wn(e,t),r=n[U];mw(r,n);let i=n[Yt];i!==null&&n[Oi]===null&&(n[Oi]=ku(i,n[Ar])),Wu(r,n,n[Me])}function mw(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Wu(t,e,n){Iu(e);try{let r=t.viewQuery;r!==null&&Bl(1,r,n);let i=t.template;i!==null&&Om(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Rr]?.finishViewCreation(t),t.staticContentQueries&&jm(t,e),t.staticViewQueries&&Bl(2,t.viewQuery,n);let o=t.components;o!==null&&gw(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[k]&=-5,xu()}}function gw(t,e){for(let n=0;n<e.length;n++)pw(t,e[n])}function ma(t,e,n,r){let i=W(null);try{let o=e.tView,a=t[k]&4096?4096:16,c=ha(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Nr]=l;let u=t[Rr];return u!==null&&(c[Rr]=u.createEmbeddedView(o)),Wu(o,c,n),c}finally{W(i)}}function Um(t,e){let n=Re+e;if(n<t.length)return t[n]}function Pi(t,e){return!e||e.firstChild===null||um(t)}function ga(t,e,n,r=!0){let i=e[U];if(SD(i,e,t,n),r){let s=jl(n,t),a=e[be],c=Im(a,t[qn]);c!==null&&xD(i,t[Dt],a,e,c,s)}let o=e[Oi];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Hm(t,e){let n=ki(t,e);return n!==void 0&&ua(n[U],n),n}function $s(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Ft(o)),Kt(o)&&vw(o,r);let s=n.type;if(s&8)$s(t,e,n.child,r);else if(s&32){let a=Vu(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=xm(e,n);if(Array.isArray(a))r.push(...a);else{let c=Gn(e[yt]);$s(c[U],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function vw(t,e){for(let n=Re;n<t.length;n++){let r=t[n],i=r[U].firstChild;i!==null&&$s(r[U],r,i,e)}t[qn]!==t[Yt]&&e.push(t[qn])}var zm=[];function yw(t){return t[it]??Cw(t)}function Cw(t){let e=zm.pop()??Object.create(ww);return e.lView=t,e}function Dw(t){t.lView[it]!==t&&(t.lView=null,zm.push(t))}var ww=R(y({},cr),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ra(t.lView)},consumerOnSignalRead(){this.lView[it]=this}});function bw(t){let e=t[it]??Object.create(Ew);return e.lView=t,e}var Ew=R(y({},cr),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Gn(t.lView);for(;e&&!qm(e[U]);)e=Gn(e);e&&kp(e)},consumerOnSignalRead(){this.lView[it]=this}});function qm(t){return t.type!==2}var _w=100;function Gm(t,e=!0,n=0){let r=t[Ot],i=r.rendererFactory,o=!1;o||i.begin?.();try{Iw(t,n)}catch(s){throw e&&$m(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Iw(t,e){let n=Bp();try{Eh(!0),Ul(t,e);let r=0;for(;na(t);){if(r===_w)throw new I(103,!1);r++,Ul(t,1)}}finally{Eh(n)}}function xw(t,e,n,r){let i=e[k];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Ot].inlineEffectRunner?.flush(),Iu(e);let a=!0,c=null,l=null;o||(qm(t)?(l=yw(e),c=Ci(l)):Df()===null?(a=!1,l=bw(e),c=Ci(l)):e[it]&&(Po(e[it]),e[it]=null));try{Fp(e),wC(t.bindingStartIndex),n!==null&&Om(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let p=t.preOrderCheckHooks;p!==null&&Cs(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Ds(e,p,0,null),sl(e,0)}if(s||Mw(e),Wm(e,0),t.contentQueries!==null&&jm(t,e),!o)if(u){let p=t.contentCheckHooks;p!==null&&Cs(e,p)}else{let p=t.contentHooks;p!==null&&Ds(e,p,1),sl(e,1)}UD(t,e);let d=t.components;d!==null&&Qm(e,d,0);let g=t.viewQuery;if(g!==null&&Bl(2,g,r),!o)if(u){let p=t.viewCheckHooks;p!==null&&Cs(e,p)}else{let p=t.viewHooks;p!==null&&Ds(e,p,2),sl(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ys]){for(let p of e[ys])p();e[ys]=null}o||(e[k]&=-73)}catch(u){throw o||ra(e),u}finally{l!==null&&(Fo(l,c),a&&Dw(l)),xu()}}function Wm(t,e){for(let n=fm(t);n!==null;n=hm(n))for(let r=Re;r<n.length;r++){let i=n[r];Zm(i,e)}}function Mw(t){for(let e=fm(t);e!==null;e=hm(e)){if(!(e[k]&As.HasTransplantedViews))continue;let n=e[Ts];for(let r=0;r<n.length;r++){let i=n[r];kp(i)}}}function Sw(t,e,n){let r=wn(e,t);Zm(r,n)}function Zm(t,e){bu(t)&&Ul(t,e)}function Ul(t,e){let r=t[U],i=t[k],o=t[it],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ko(o)),s||=!1,o&&(o.dirty=!1),t[k]&=-9217,s)xw(r,t,r.template,t[Me]);else if(i&8192){Wm(t,1);let a=r.components;a!==null&&Qm(t,a,1)}}function Qm(t,e,n){for(let r=0;r<e.length;r++)Sw(t,e[r],n)}function Zu(t,e){let n=Bp()?64:1088;for(t[Ot].changeDetectionScheduler?.notify(e);t;){t[k]|=n;let r=Gn(t);if(Il(t)&&!r)return t;t=r}return null}var Qn=class{get rootNodes(){let e=this._lView,n=e[U];return $s(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Me]}set context(e){this._lView[Me]=e}get destroyed(){return(this._lView[k]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Oe];if(Kt(e)){let n=e[Ss],r=n?n.indexOf(this):-1;r>-1&&(ki(e,r),Is(n,r))}this._attachedToViewContainer=!1}ua(this._lView[U],this._lView)}onDestroy(e){Pp(this._lView,e)}markForCheck(){Zu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[k]&=-129}reattach(){Ml(this._lView),this._lView[k]|=128}detectChanges(){this._lView[k]|=1024,Gm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Il(this._lView),n=this._lView[Nr];n!==null&&!e&&ju(n,this._lView),bm(this._lView[U],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e;let n=Il(this._lView),r=this._lView[Nr];r!==null&&!n&&Em(r,this._lView),Ml(this._lView)}},Ym=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Nw;let t=e;return t})(),Tw=Ym,Aw=class extends Tw{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=ma(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Qn(i)}};function Nw(){return Km(ke(),ee())}function Km(t,e){return t.type&4?new Aw(e,t,aa(t,e)):null}var lF=new RegExp(`^(\\d+)*(${cD}|${aD})*(.*)`);var Rw=()=>null;function Li(t,e){return Rw(t,e)}var Yn=class{},Qu=new M("",{providedIn:"root",factory:()=>!1});var Jm=new M(""),Yu=new M(""),Hl=class{},Bs=class{};function Ow(t){let e=Error(`No component factory found for ${He(t)}.`);return e[Fw]=t,e}var Fw="ngComponent";var zl=class{resolveComponentFactory(e){throw Ow(e)}},td=class td{};td.NULL=new zl;var Fr=td,kr=class{},Lt=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>kw();let t=e;return t})();function kw(){let t=ee(),e=ke(),n=wn(e.index,t);return(fn(n)?n:t)[be]}var Pw=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function Us(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=dh(i,a);else if(o==2){let c=a,l=e[++s];r=dh(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Hs=class extends Fr{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=pn(e);return new Pr(n,this.ngModule)}};function Vh(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:hn.None;e?n.push({propName:s,templateName:r,isSignal:(a&hn.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function Lw(t){let e=t.toLowerCase();return e==="svg"?Np:e==="math"?cC:null}var Pr=class extends Bs{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Vh(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Vh(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=U0(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=W(null);try{i=i||this.ngModule;let s=i instanceof Xe?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Tl(e,s):e,c=a.get(kr,null);if(c===null)throw new I(407,!1);let l=a.get(Pw,null),u=a.get(Yn,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},g=c.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",w=r?qD(g,r,this.componentDef.encapsulation,a):wm(g,p,Lw(p)),F=512;this.componentDef.signals?F|=4096:this.componentDef.onPush||(F|=16);let X=null;w!==null&&(X=ku(w,a,!0));let Y=zu(0,null,null,1,0,null,null,null,null,null,null),fe=ha(null,Y,null,F,null,null,d,g,a,null,X);Iu(fe);let $e,pt,sr=null;try{let Ke=this.componentDef,ar,kc=null;Ke.findHostDirectiveDefs?(ar=[],kc=new Map,Ke.findHostDirectiveDefs(Ke,ar,kc),ar.push(Ke)):ar=[Ke];let wy=Vw(fe,w);sr=jw(wy,w,Ke,ar,fe,d,g),pt=wu(Y,Fe),w&&Uw(g,Ke,w,r),n!==void 0&&Hw(pt,this.ngContentSelectors,n),$e=Bw(sr,Ke,ar,kc,fe,[zw]),Wu(Y,fe,null)}catch(Ke){throw sr!==null&&Ll(sr),Ll(fe),Ke}finally{xu()}return new ql(this.componentType,$e,aa(pt,fe),fe,pt)}finally{W(o)}}},ql=class extends Hl{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Qn(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Gu(o[U],o,i,e,n),this.previousInputValues.set(e,n);let s=wn(this._tNode.index,o);Zu(s,1)}}get injector(){return new Hn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Vw(t,e){let n=t[U],r=Fe;return t[r]=e,qi(n,r,2,"#host",null)}function jw(t,e,n,r,i,o,s){let a=i[U];$w(r,t,e,s);let c=null;e!==null&&(c=ku(e,i[Ar]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=ha(i,Fm(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&$l(a,t,r.length-1),pa(i,d),i[t.index]=d}function $w(t,e,n,r){for(let i of t)e.mergedAttrs=Ni(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Us(e,e.mergedAttrs,!0),n!==null&&Sm(r,n,e))}function Bw(t,e,n,r,i,o){let s=ke(),a=i[U],c=ot(s,i);Pm(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,g=Or(i,a,d,s);vn(g,i)}Lm(a,i,s),c&&vn(c,i);let l=Or(i,a,s.directiveStart+s.componentOffset,s);if(t[Me]=i[Me]=l,o!==null)for(let u of o)u(l,e);return Bu(a,s,i),l}function Uw(t,e,n,r){if(r)wl(t,n,["ng-version","18.2.2"]);else{let{attrs:i,classes:o}=H0(e.selectors[0]);i&&wl(t,n,i),o&&o.length>0&&Mm(t,n,o.join(" "))}}function Hw(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function zw(){let t=ke();sa(ee()[U],t)}var Gi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=qw;let t=e;return t})();function qw(){let t=ke();return Ww(t,ee())}var Gw=Gi,Xm=class extends Gw{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return aa(this._hostTNode,this._hostLView)}get injector(){return new Hn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Su(this._hostTNode,this._hostLView);if(Kp(e)){let n=Rs(e,this._hostLView),r=Ns(e),i=n[U].data[r+8];return new Hn(i,n)}else return new Hn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=jh(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Re}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Li(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Pi(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!iC(e),a;if(s)a=n;else{let w=n||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let c=s?e:new Pr(pn(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let F=(s?l:this.parentInjector).get(Xe,null);F&&(o=F)}let u=pn(c.componentType??{}),d=Li(this._lContainer,u?.id??null),g=d?.firstChild??null,p=c.create(l,i,g,o);return this.insertImpl(p.hostView,a,Pi(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(lC(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Oe],l=new Xm(c,c[Dt],c[Oe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return ga(s,i,o,r),e.attachToViewContainerRef(),ap(dl(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=jh(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ki(this._lContainer,n);r&&(Is(dl(this._lContainer),n),ua(r[U],r))}detach(e){let n=this._adjustIndex(e,-1),r=ki(this._lContainer,n);return r&&Is(dl(this._lContainer),n)!=null?new Qn(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function jh(t){return t[Ss]}function dl(t){return t[Ss]||(t[Ss]=[])}function Ww(t,e){let n,r=e[t.index];return Kt(r)?n=r:(n=Vm(r,e,null,t),e[t.index]=n,pa(e,n)),Qw(n,e,t,r),new Xm(n,t,e)}function Zw(t,e){let n=t[be],r=n.createComment(""),i=ot(e,t),o=Im(n,i);return js(n,o,r,OD(n,i),!1),r}var Qw=Jw,Yw=()=>!1;function Kw(t,e,n){return Yw(t,e,n)}function Jw(t,e,n,r){if(t[qn])return;let i;n.type&8?i=Ft(r):i=Zw(e,n),t[qn]=i}var $h=new Set;function Jt(t){$h.has(t)||($h.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function ae(t,e){Jt("NgSignals");let n=Rf(t),r=n[xt];return e?.equal&&(r.equal=e.equal),n.set=i=>jo(r,i),n.update=i=>Of(r,i),n.asReadonly=Xw.bind(n),n}function Xw(){let t=this[xt];if(t.readonlyFn===void 0){let e=()=>this();e[xt]=t,t.readonlyFn=e}return t.readonlyFn}function eb(t){return Object.getPrototypeOf(t.prototype).constructor}function ct(t){let e=eb(t.type),n=!0,r=[t];for(;e;){let i;if(mn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=ps(t.inputs),s.inputTransforms=ps(t.inputTransforms),s.declaredInputs=ps(t.declaredInputs),s.outputs=ps(t.outputs);let a=i.hostBindings;a&&ob(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&rb(t,c),l&&ib(t,l),tb(t,i),u0(t.outputs,i.outputs),mn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===ct&&(n=!1)}}e=Object.getPrototypeOf(e)}nb(r)}function tb(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function nb(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ni(i.hostAttrs,n=Ni(n,i.hostAttrs))}}function ps(t){return t===Mr?{}:t===rt?[]:t}function rb(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function ib(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function ob(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Ku(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var yn=class{},Vi=class{};var Gl=class extends yn{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Hs(this);let o=vp(e);this._bootstrapComponents=Dm(o.bootstrap),this._r3Injector=sm(e,n,[{provide:yn,useValue:this},{provide:Fr,useValue:this.componentFactoryResolver},...r],He(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Wl=class extends Vi{constructor(e){super(),this.moduleType=e}create(e){return new Gl(this.moduleType,e,[])}};var zs=class extends yn{constructor(e){super(),this.componentFactoryResolver=new Hs(this),this.instance=null;let n=new Ri([...e.providers,{provide:yn,useValue:this},{provide:Fr,useValue:this.componentFactoryResolver}],e.parent||Cu(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function va(t,e,n=null){return new zs({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function eg(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function tg(t,e,n){return t[e]=n}function sb(t,e){return t[e]}function Qt(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ab(t,e,n,r){let i=Qt(t,e,n);return Qt(t,e+1,r)||i}function cb(t){return(t.flags&32)===32}function lb(t,e,n,r,i,o,s,a,c){let l=e.consts,u=qi(e,t,4,s||null,a||null);qu(e,n,u,gn(l,c)),sa(e,u);let d=u.tView=zu(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Zl(t,e,n,r,i,o,s,a,c,l){let u=n+Fe,d=e.firstCreatePass?lb(u,e,t,r,i,o,s,a,c):e.data[u];Jn(d,!1);let g=ub(e,t,d,n);ia()&&da(e,t,g,d),vn(g,t);let p=Vm(g,t,g,d);return t[u]=p,pa(t,p),Kw(p,d,t),ta(d)&&Uu(e,t,d),c!=null&&Hu(t,d,l),d}function $(t,e,n,r,i,o,s,a){let c=ee(),l=Te(),u=gn(l.consts,o);return Zl(c,l,t,e,n,r,i,u,s,a),$}var ub=db;function db(t,e,n,r){return oa(!0),e[be].createComment("")}var Er=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Er||{}),ng=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Un=class Un{constructor(){this.ngZone=m(de),this.scheduler=m(Yn),this.errorHandler=m(Ct,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Un.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Un.PHASES=[Er.EarlyRead,Er.Write,Er.MixedReadWrite,Er.Read],Un.\u0275prov=E({token:Un,providedIn:"root",factory:()=>new Un});var Ql=Un,Yl=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Ju(t,e){!e?.injector&&Ui(Ju);let n=e?.injector??m(Se);return DD(n)?(Jt("NgAfterNextRender"),hb(t,n,e,!0)):pb}function fb(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function hb(t,e,n,r){let i=e.get(ng);i.impl??=e.get(Ql);let o=n?.phase??Er.MixedReadWrite,s=new Yl(i.impl,fb(t,o),r,e.get(_n));return i.impl.register(s),s}var pb={destroy(){}};function ce(t,e,n,r){let i=ee(),o=Hi();if(Qt(i,o,e)){let s=Te(),a=Mu();cw(a,i,t,e,n,r)}return ce}function rg(t,e,n,r){return Qt(t,Hi(),n)?e+xr(n)+r:at}function mb(t,e,n,r,i,o){let s=DC(),a=ab(t,s,n,i);return Up(2),a?e+xr(n)+r+xr(i)+o:at}function ms(t,e){return t<<17|e<<2}function Kn(t){return t>>17&32767}function gb(t){return(t&2)==2}function vb(t,e){return t&131071|e<<17}function Kl(t){return t|2}function Lr(t){return(t&131068)>>2}function fl(t,e){return t&-131069|e<<2}function yb(t){return(t&1)===1}function Jl(t){return t|1}function Cb(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Kn(s),c=Lr(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Bi(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let g=Kn(t[a+1]);t[r+1]=ms(g,a),g!==0&&(t[g+1]=fl(t[g+1],r)),t[a+1]=vb(t[a+1],r)}else t[r+1]=ms(a,0),a!==0&&(t[a+1]=fl(t[a+1],r)),a=r;else t[r+1]=ms(c,0),a===0?a=r:t[c+1]=fl(t[c+1],r),c=r;l&&(t[r+1]=Kl(t[r+1])),Bh(t,u,r,!0),Bh(t,u,r,!1),Db(e,u,t,r,o),s=ms(a,c),o?e.classBindings=s:e.styleBindings=s}function Db(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Bi(o,e)>=0&&(n[r+1]=Jl(n[r+1]))}function Bh(t,e,n,r){let i=t[n+1],o=e===null,s=r?Kn(i):Lr(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];wb(c,e)&&(a=!0,t[s+1]=r?Jl(l):Kl(l)),s=r?Kn(l):Lr(l)}a&&(t[n+1]=r?Kl(i):Jl(i))}function wb(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Bi(t,e)>=0:!1}function A(t,e,n){let r=ee(),i=Hi();if(Qt(r,i,e)){let o=Te(),s=Mu();km(o,s,r,t,e,r[be],n,!1)}return A}function Uh(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Gu(t,n,o[s],s,r)}function ya(t,e){return bb(t,e,null,!0),ya}function bb(t,e,n,r){let i=ee(),o=Te(),s=Up(2);if(o.firstUpdatePass&&_b(o,t,s,r),e!==at&&Qt(i,s,e)){let a=o.data[bn()];Tb(o,a,i,i[be],t,i[s+1]=Ab(e,n),r,s)}}function Eb(t,e){return e>=t.expandoStartIndex}function _b(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[bn()],s=Eb(t,n);Nb(o,r)&&e===null&&!s&&(e=!1),e=Ib(i,o,e,r),Cb(i,o,e,n,s,r)}}function Ib(t,e,n,r){let i=IC(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=hl(null,t,e,n,r),n=ji(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=hl(i,t,e,n,r),o===null){let c=xb(t,e,r);c!==void 0&&Array.isArray(c)&&(c=hl(null,t,e,c[1],r),c=ji(c,e.attrs,r),Mb(t,e,r,c))}else o=Sb(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function xb(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Lr(r)!==0)return t[Kn(r)]}function Mb(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Kn(i)]=r}function Sb(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ji(r,s,n)}return ji(r,e.attrs,n)}function hl(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ji(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ji(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),A0(t,s,n?!0:e[++o]))}return t===void 0?null:t}function Tb(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=yb(l)?Hh(c,e,n,i,Lr(l),s):void 0;if(!qs(u)){qs(o)||gb(l)&&(o=Hh(c,null,n,i,a,s));let d=Rp(bn(),n);$D(r,s,d,i,o)}}function Hh(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,g=n[i+1];g===at&&(g=d?rt:void 0);let p=d?il(g,r):u===r?g:void 0;if(l&&!qs(p)&&(p=il(c,r)),qs(p)&&(a=p,s))return a;let w=t[i+1];i=s?Kn(w):Lr(w)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=il(c,r))}return a}function qs(t){return t!==void 0}function Ab(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=He(zi(t)))),t}function Nb(t,e){return(t.flags&(e?8:16))!==0}var Xl=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function pl(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function Rb(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=t.at(o),u=e[o],d=pl(o,l,o,u,n);if(d!==0){d<0&&t.updateValue(o,u),o++;continue}let g=t.at(s),p=e[c],w=pl(s,g,c,p,n);if(w!==0){w<0&&t.updateValue(s,p),s--,c--;continue}let F=n(o,l),X=n(s,g),Y=n(o,u);if(Object.is(Y,X)){let fe=n(c,p);Object.is(fe,F)?(t.swap(o,s),t.updateValue(s,p),c--,s--):t.move(s,o),t.updateValue(o,u),o++;continue}if(r??=new Gs,i??=qh(t,o,s,n),eu(t,r,o,Y))t.updateValue(o,u),o++,s++;else if(i.has(Y))r.set(F,t.detach(o)),s--;else{let fe=t.create(o,e[o]);t.attach(o,fe),o++,s++}}for(;o<=c;)zh(t,r,n,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=t.at(o),d=l.value,g=pl(o,u,o,d,n);if(g!==0)g<0&&t.updateValue(o,d),o++,l=c.next();else{r??=new Gs,i??=qh(t,o,s,n);let p=n(o,d);if(eu(t,r,o,p))t.updateValue(o,d),o++,s++,l=c.next();else if(!i.has(p))t.attach(o,t.create(o,d)),o++,s++,l=c.next();else{let w=n(o,u);r.set(w,t.detach(o)),s--}}}for(;!l.done;)zh(t,r,n,t.length,l.value),l=c.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(c=>{t.destroy(c)})}function eu(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function zh(t,e,n,r,i){if(eu(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function qh(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Gs=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function V(t,e){Jt("NgControlFlow");let n=ee(),r=Hi(),i=n[r]!==at?n[r]:-1,o=i!==-1?Ws(n,Fe+i):void 0,s=0;if(Qt(n,r,t)){let a=W(null);try{if(o!==void 0&&Hm(o,s),t!==-1){let c=Fe+t,l=Ws(n,c),u=iu(n[U],c),d=Li(l,u.tView.ssrId),g=ma(n,u,e,{dehydratedView:d});ga(l,g,s,Pi(u,d))}}finally{W(a)}}else if(o!==void 0){let a=Um(o,s);a!==void 0&&(a[Me]=e)}}var tu=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Re}};function Xt(t){return t}function ig(t,e){return e}var nu=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function qe(t,e,n,r,i,o,s,a,c,l,u,d,g){Jt("NgControlFlow");let p=ee(),w=Te(),F=c!==void 0,X=ee(),Y=a?s.bind(X[yt][Me]):s,fe=new nu(F,Y);X[Fe+t]=fe,Zl(p,w,t+1,e,n,r,i,gn(w.consts,o)),F&&Zl(p,w,t+2,c,l,u,d,gn(w.consts,g))}var ru=class extends Xl{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Re}at(e){return this.getLView(e)[Me].$implicit}attach(e,n){let r=n[Oi];this.needsIndexUpdate||=e!==this.length,ga(this.lContainer,n,e,Pi(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Ob(this.lContainer,e)}create(e,n){let r=Li(this.lContainer,this.templateTNode.tView.ssrId),i=ma(this.hostLView,this.templateTNode,new tu(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){ua(e[U],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Me].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Me].$index=e}getLView(e){return Fb(this.lContainer,e)}};function Ge(t){let e=W(null),n=bn();try{let r=ee(),i=r[U],o=r[n],s=n+1,a=Ws(r,s);if(o.liveCollection===void 0){let l=iu(i,s);o.liveCollection=new ru(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(Rb(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=Hi(),u=c.length===0;if(Qt(r,l,u)){let d=n+2,g=Ws(r,d);if(u){let p=iu(i,d),w=Li(g,p.tView.ssrId),F=ma(r,p,void 0,{dehydratedView:w});ga(g,F,0,Pi(p,w))}else Hm(g,0)}}}finally{W(e)}}function Ws(t,e){return t[e]}function Ob(t,e){return ki(t,e)}function Fb(t,e){return Um(t,e)}function iu(t,e){return wu(t,e)}function kb(t,e,n,r,i,o){let s=e.consts,a=gn(s,i),c=qi(e,t,2,r,a);return qu(e,n,c,gn(s,o)),c.attrs!==null&&Us(c,c.attrs,!1),c.mergedAttrs!==null&&Us(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function f(t,e,n,r){let i=ee(),o=Te(),s=Fe+t,a=i[be],c=o.firstCreatePass?kb(s,o,i,e,n,r):o.data[s],l=Pb(o,i,c,a,e,t);i[s]=l;let u=ta(c);return Jn(c,!0),Sm(a,l,c),!cb(c)&&ia()&&da(o,i,l,c),fC()===0&&vn(l,i),hC(),u&&(Uu(o,i,c),Bu(o,c,i)),r!==null&&Hu(i,c),f}function h(){let t=ke();Eu()?$p():(t=t.parent,Jn(t,!1));let e=t;gC(e)&&vC(),pC();let n=Te();return n.firstCreatePass&&(sa(n,t),Du(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&RC(e)&&Uh(n,e,ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&OC(e)&&Uh(n,e,ee(),e.stylesWithoutHost,!1),h}function b(t,e,n,r){return f(t,e,n,r),h(),b}var Pb=(t,e,n,r,i,o)=>(oa(!0),wm(r,i,SC()));function Lb(t,e,n,r,i){let o=e.consts,s=gn(o,r),a=qi(e,t,8,"ng-container",s);s!==null&&Us(a,s,!0);let c=gn(o,i);return qu(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function og(t,e,n){let r=ee(),i=Te(),o=t+Fe,s=i.firstCreatePass?Lb(o,i,r,e,n):i.data[o];Jn(s,!0);let a=Vb(i,r,s,t);return r[o]=a,ia()&&da(i,r,a,s),vn(a,r),ta(s)&&(Uu(i,r,s),Bu(i,s,r)),n!=null&&Hu(r,s),og}function sg(){let t=ke(),e=Te();return Eu()?$p():(t=t.parent,Jn(t,!1)),e.firstCreatePass&&(sa(e,t),Du(t)&&e.queries.elementEnd(t)),sg}function Ca(t,e,n){return og(t,e,n),sg(),Ca}var Vb=(t,e,n,r)=>(oa(!0),_D(e[be],""));function te(){return ee()}var Zs="en-US";var jb=Zs;function $b(t){typeof t=="string"&&(jb=t.toLowerCase().replace(/_/g,"-"))}var Bb=(t,e,n)=>{};function _(t,e,n,r){let i=ee(),o=Te(),s=ke();return Hb(o,i,i[be],s,t,e,r),_}function Ub(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Ms],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Hb(t,e,n,r,i,o,s){let a=ta(r),l=t.firstCreatePass&&hw(t),u=e[Me],d=fw(e),g=!0;if(r.type&3||s){let F=ot(r,e),X=s?s(F):F,Y=d.length,fe=s?pt=>s(Ft(pt[r.index])):r.index,$e=null;if(!s&&a&&($e=Ub(t,e,i,r.index)),$e!==null){let pt=$e.__ngLastListenerFn__||$e;pt.__ngNextListenerFn__=o,$e.__ngLastListenerFn__=o,g=!1}else{o=Wh(r,e,u,o),Bb(F,i,o);let pt=n.listen(X,i,o);d.push(o,pt),l&&l.push(i,fe,Y,Y+1)}}else o=Wh(r,e,u,o);let p=r.outputs,w;if(g&&p!==null&&(w=p[i])){let F=w.length;if(F)for(let X=0;X<F;X+=2){let Y=w[X],fe=w[X+1],sr=e[Y][fe].subscribe(o),Ke=d.length;d.push(o,sr),l&&l.push(i,r.index,Ke,-(Ke+1))}}}function Gh(t,e,n,r){let i=W(null);try{return At(6,e,n),n(r)!==!1}catch(o){return $m(t,o),!1}finally{At(7,e,n),W(i)}}function Wh(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?wn(t.index,e):e;Zu(s,5);let a=Gh(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Gh(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function C(t=1){return MC(t)}function Wi(t,e,n){return $r(t,"",e,"",n),Wi}function $r(t,e,n,r,i){let o=ee(),s=rg(o,e,n,r);if(s!==at){let a=Te(),c=Mu();km(a,c,o,t,s,o[be],i,!1)}return $r}function zb(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Da(t){let e=CC();return Op(e,Fe+t)}function v(t,e=""){let n=ee(),r=Te(),i=t+Fe,o=r.firstCreatePass?qi(r,i,1,e,null):r.data[i],s=qb(r,n,o,e,t);n[i]=s,ia()&&da(r,n,s,o),Jn(o,!1)}var qb=(t,e,n,r,i)=>(oa(!0),bD(e[be],r));function Ce(t){return We("",t,""),Ce}function We(t,e,n){let r=ee(),i=rg(r,t,e,n);return i!==at&&Bm(r,bn(),i),We}function wa(t,e,n,r,i){let o=ee(),s=mb(o,t,e,n,r,i);return s!==at&&Bm(o,bn(),s),wa}function Gb(t,e,n){let r=Te();if(r.firstCreatePass){let i=mn(t);ou(n,r.data,r.blueprint,i,!0),ou(e,r.data,r.blueprint,i,!1)}}function ou(t,e,n,r,i){if(t=Ne(t),Array.isArray(t))for(let o=0;o<t.length;o++)ou(t[o],e,n,r,i);else{let o=Te(),s=ee(),a=ke(),c=Tr(t)?t:Ne(t.provide),l=Ep(t),u=a.providerIndexes&1048575,d=a.directiveStart,g=a.providerIndexes>>20;if(Tr(t)||!t.multi){let p=new Zn(l,i,j),w=gl(c,e,i?u:u+g,d);w===-1?(Nl(Fs(a,s),o,c),ml(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),s.push(p)):(n[w]=p,s[w]=p)}else{let p=gl(c,e,u+g,d),w=gl(c,e,u,u+g),F=p>=0&&n[p],X=w>=0&&n[w];if(i&&!X||!i&&!F){Nl(Fs(a,s),o,c);let Y=Qb(i?Zb:Wb,n.length,i,r,l);!i&&X&&(n[w].providerFactory=Y),ml(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(Y),s.push(Y)}else{let Y=ag(n[i?w:p],l,!i&&r);ml(o,t,p>-1?p:w,Y)}!i&&r&&X&&n[w].componentProviders++}}}function ml(t,e,n,r){let i=Tr(e),o=K0(e);if(i||o){let c=(o?Ne(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function ag(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function gl(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Wb(t,e,n,r){return su(this.multi,[])}function Zb(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Or(n,n[U],this.providerFactory.index,r);o=a.slice(0,s),su(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],su(i,o);return o}function su(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Qb(t,e,n,r,i){let o=new Zn(t,n,j);return o.multi=[],o.index=e,o.componentProviders=0,ag(o,i,r&&!n),o}function In(t,e=[]){return n=>{n.providersResolver=(r,i)=>Gb(r,i?i(t):t,e)}}var Yb=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Dp(!1,r.type),o=i.length>0?va([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=E({token:e,providedIn:"environment",factory:()=>new e(O(Xe))});let t=e;return t})();function T(t){Jt("NgStandalone"),t.getStandaloneInjector=e=>e.get(Yb).getOrCreateStandaloneInjector(t)}function Br(t,e,n){let r=_u()+t,i=ee();return i[r]===at?tg(i,r,n?e.call(n):e()):sb(i,r)}function Et(t,e,n,r){return cg(ee(),_u(),t,e,n,r)}function Kb(t,e){let n=t[e];return n===at?void 0:n}function cg(t,e,n,r,i,o){let s=e+n;return Qt(t,s,i)?tg(t,s+1,o?r.call(o,i):r(i)):Kb(t,s+1)}function lg(t,e){let n=Te(),r,i=t+Fe;n.firstCreatePass?(r=Jb(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=zn(r.type,!0)),s,a=Ue(j);try{let c=Os(!1),l=o();return Os(c),zb(n,ee(),i,l),l}finally{Ue(a)}}function Jb(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function ug(t,e,n){let r=t+Fe,i=ee(),o=Op(i,r);return Xb(i,r)?cg(i,_u(),e,o.transform,n,o):o.transform(n)}function Xb(t,e){return t[U].data[e].pure}function dg(t,e){return Km(t,e)}var ba=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var fg=new M("");function er(t){return!!t&&typeof t.then=="function"}function hg(t){return!!t&&typeof t.subscribe=="function"}var Ur=new M(""),pg=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=m(Ur,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(er(s))r.push(s);else if(hg(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ea=new M("");function eE(){Nf(()=>{throw new I(600,!1)})}function tE(t){return t.isBoundToModule}var nE=10;function rE(t,e,n){try{let r=n();return er(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Vt=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=m(XC),this.afterRenderManager=m(ng),this.zonelessEnabled=m(Qu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new se,this.afterTick=new se,this.componentTypes=[],this.components=[],this.isStable=m(Xn).hasPendingTasks.pipe(L(r=>!r)),this._injector=m(Xe)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Bs;if(!this._injector.get(pg).done){let p=!o&&gp(r),w=!1;throw new I(405,w)}let a;o?a=r:a=this._injector.get(Fr).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=tE(a)?void 0:this._injector.get(yn),l=i||a.selector,u=a.create(Se.NULL,[],l,c),d=u.location.nativeElement,g=u.injector.get(fg,null);return g?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),ws(this.components,u),g?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new I(101,!1);let r=W(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,W(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(kr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<nE;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:o,notifyErrorHandler:s}of this._views)iE(o,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>na(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;ws(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Ea,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ws(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new I(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ws(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function iE(t,e,n,r){if(!n&&!na(t))return;Gm(t,e,n&&!r?0:1)}var au=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},_a=(()=>{let e=class e{compileModuleSync(r){return new Wl(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=vp(r),s=Dm(o.declarations).reduce((a,c)=>{let l=pn(c);return l&&a.push(new Pr(l)),a},[]);return new au(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oE=(()=>{let e=class e{constructor(){this.zone=m(de),this.changeDetectionScheduler=m(Yn),this.applicationRef=m(Vt)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sE({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new de(R(y({},aE()),{scheduleInRootZone:n})),[{provide:de,useFactory:t},{provide:Sr,multi:!0,useFactory:()=>{let r=m(oE,{optional:!0});return()=>r.initialize()}},{provide:Sr,multi:!0,useFactory:()=>{let r=m(cE);return()=>{r.initialize()}}},e===!0?{provide:Jm,useValue:!0}:[],{provide:Yu,useValue:n??am}]}function aE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var cE=(()=>{let e=class e{constructor(){this.subscription=new he,this.initialized=!1,this.zone=m(de),this.pendingTasks=m(Xn)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{de.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{de.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mg=(()=>{let e=class e{constructor(){this.appRef=m(Vt),this.taskService=m(Xn),this.ngZone=m(de),this.zonelessEnabled=m(Qu),this.disableScheduling=m(Jm,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new he,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ps):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(m(Yu,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ls||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Sh:cm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ps+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Sh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function gg(){return Jt("NgZoneless"),Vr([{provide:Yn,useExisting:mg},{provide:de,useClass:Ls},{provide:Qu,useValue:!0},{provide:Yu,useValue:!1},[]])}function lE(){return typeof $localize<"u"&&$localize.locale||Zs}var Xu=new M("",{providedIn:"root",factory:()=>m(Xu,Z.Optional|Z.SkipSelf)||lE()});var vg=new M("");function gs(t){return!!t.platformInjector}function uE(t){let e=gs(t)?t.r3Injector:t.moduleRef.injector,n=e.get(de);return n.run(()=>{gs(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Ct,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),gs(t)){let o=()=>e.destroy(),s=t.platformInjector.get(vg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{ws(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return rE(r,n,()=>{let o=e.get(pg);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Xu,Zs);if($b(s||Zs),gs(t)){let a=e.get(Vt);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return dE(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function dE(t,e){let n=t.injector.get(Vt);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new I(-403,!1);e.push(t)}var bs=null;function fE(t=[],e){return Se.create({name:e,providers:[{provide:Js,useValue:"platform"},{provide:vg,useValue:new Set([()=>bs=null])},...t]})}function hE(t=[]){if(bs)return bs;let e=fE(t);return bs=e,eE(),pE(e),e}function pE(t){t.get(Ou,null)?.forEach(n=>n())}function yg(){return!1}var tr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=mE;let t=e;return t})();function mE(t){return gE(ke(),ee(),(t&16)===16)}function gE(t,e,n){if(ea(t)&&!n){let r=wn(t.index,e);return new Qn(r,r)}else if(t.type&175){let r=e[yt];return new Qn(r,e)}return null}var cu=class{constructor(){}supports(e){return e instanceof Map||eg(e)}create(){return new lu}},lu=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||eg(e)))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new uu(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},uu=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Zh(){return new ed([new cu])}var ed=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Zh()),deps:[[e,new mu,new Ks]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i)return i;throw new I(901,!1)}};e.\u0275prov=E({token:e,providedIn:"root",factory:Zh});let t=e;return t})();function Cg(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=hE(r),o=[sE({}),{provide:Yn,useExisting:mg},...n||[]],s=new zs({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return uE({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var Dg=new M("");function Hr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ge(t,e){Jt("NgSignals");let n=Sf(t);return e?.equal&&(n[xt].equal=e.equal),n}function lt(t){let e=W(null);try{return t()}finally{W(e)}}var vE=new M("",{providedIn:"root",factory:()=>m(yE)}),yE=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>new du});let t=e;return t})(),du=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=m(Xn),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},fu=class{constructor(e,n,r,i,o,s){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=o,this.watcher=Ff(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(Ct,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function Zi(t,e){Jt("NgSignals"),!e?.injector&&Ui(Zi);let n=e?.injector??m(Se),r=e?.manualCleanup!==!0?n.get(_n):null,i=new fu(n.get(vE),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),o=n.get(tr,null,{optional:!0});return!o||!(o._lView[k]&8)?i.watcher.notify():(o._lView[ys]??=[]).push(i.watcher.notify),i}function wg(t){let e=pn(t);if(!e)return null;let n=new Pr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var xg=null;function tn(){return xg}function Mg(t){xg??=t}var Ia=class{};var Pe=new M(""),sd=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>m(CE),providedIn:"platform"});let t=e;return t})(),Sg=new M(""),CE=(()=>{let e=class e extends sd{constructor(){super(),this._doc=m(Pe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tn().getBaseHref(this._doc)}onPopState(r){let i=tn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=tn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function ad(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function bg(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function en(t){return t&&t[0]!=="?"?"?"+t:t}var jt=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>m(cd),providedIn:"root"});let t=e;return t})(),Tg=new M(""),cd=(()=>{let e=class e extends jt{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??m(Pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return ad(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+en(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+en(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+en(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(O(sd),O(Tg,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ld=(()=>{let e=class e extends jt{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=ad(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+en(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+en(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(O(sd),O(Tg,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),zr=(()=>{let e=class e{constructor(r){this._subject=new ve,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=bE(bg(Eg(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+en(i))}normalize(r){return e.stripTrailingSlash(wE(this._basePath,Eg(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+en(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+en(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=en,e.joinWithSlash=ad,e.stripTrailingSlash=bg,e.\u0275fac=function(i){return new(i||e)(O(jt))},e.\u0275prov=E({token:e,factory:()=>DE(),providedIn:"root"});let t=e;return t})();function DE(){return new zr(O(jt))}function wE(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Eg(t){return t.replace(/\/index.html$/,"")}function bE(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Ag(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var nd=/\s+/,_g=[],qr=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=_g,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(nd):_g}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(nd):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(nd).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(j(wt),j(Lt))},e.\u0275dir=ye({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Ng=(()=>{let e=class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,o):!1,get:(r,i,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,o)}})}};e.\u0275fac=function(i){return new(i||e)(j(Gi))},e.\u0275dir=ye({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ze]});let t=e;return t})();function EE(t,e){return{key:t,value:e}}var Rg=(()=>{let e=class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=Ig}transform(r,i=Ig){if(!r||!(r instanceof Map)&&typeof r!="object")return null;this.differ??=this.differs.find(r).create();let o=this.differ.diff(r),s=i!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(a=>{this.keyValues.push(EE(a.key,a.currentValue))})),(o||s)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}};e.\u0275fac=function(i){return new(i||e)(j(ed,16))},e.\u0275pipe=hp({name:"keyvalue",type:e,pure:!1,standalone:!0});let t=e;return t})();function Ig(t,e){let n=t.key,r=e.key;if(n===r)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(n===null)return 1;if(r===null)return-1;if(typeof n=="string"&&typeof r=="string")return n<r?-1:1;if(typeof n=="number"&&typeof r=="number")return n-r;if(typeof n=="boolean"&&typeof r=="boolean")return n<r?-1:1;let i=String(n),o=String(r);return i==o?0:i<o?-1:1}var ud="browser",_E="server";function Ma(t){return t===ud}function dd(t){return t===_E}var Sa=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>Ma(m(bt))?new rd(m(Pe),window):new id});let t=e;return t})(),rd=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=IE(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function IE(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var id=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},xa=class{};var pd=class extends Ia{constructor(){super(...arguments),this.supportsDOMEvents=!0}},md=class t extends pd{static makeCurrent(){Mg(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ME();return n==null?null:SE(n)}resetBaseElement(){Qi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ag(document.cookie,e)}},Qi=null;function ME(){return Qi=Qi||document.querySelector("base"),Qi?Qi.getAttribute("href"):null}function SE(t){return new URL(t,document.baseURI).pathname}var TE=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Ta=new M(""),Pg=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new I(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(O(Ta),O(de))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Yi=class{constructor(e){this._doc=e}},fd="ng-app-id",Lg=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=dd(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${fd}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(fd),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(fd,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(O(Pe),O(Ru),O(Fu,8),O(bt))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),hd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},vd=/%COMP%/g,Vg="%COMP%",AE=`_nghost-${Vg}`,NE=`_ngcontent-${Vg}`,RE=!0,OE=new M("",{providedIn:"root",factory:()=>RE});function FE(t){return NE.replace(vd,t)}function kE(t){return AE.replace(vd,t)}function jg(t,e){return e.map(n=>n.replace(vd,t))}var Og=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=dd(c),this.defaultRenderer=new Ki(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Rt.ShadowDom&&(i=R(y({},i),{encapsulation:Rt.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Aa?o.applyToHost(r):o instanceof Ji&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case Rt.Emulated:s=new Aa(l,u,i,this.appId,d,a,c,g);break;case Rt.ShadowDom:return new gd(l,u,r,i,a,c,this.nonce,g);default:s=new Ji(l,u,i,d,a,c,g);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(O(Pg),O(Lg),O(Ru),O(OE),O(Pe),O(bt),O(de),O(Fu))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Ki=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(hd[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Fg(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Fg(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new I(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=hd[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=hd[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Zt.DashCase|Zt.Important)?e.style.setProperty(n,r,i&Zt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Zt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=tn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Fg(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var gd=class extends Ki{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=jg(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ji=class extends Ki{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?jg(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Aa=class extends Ji{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=FE(l),this.hostAttr=kE(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},PE=(()=>{let e=class e extends Yi{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(O(Pe))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),LE=(()=>{let e=class e extends Yi{constructor(r){super(r),this.delegate=m(Dg,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(O(Pe))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),kg=["alt","control","meta","shift"],VE={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jE={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},$E=(()=>{let e=class e extends Yi{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tn().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),kg.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=VE[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),kg.forEach(a=>{if(a!==o){let c=jE[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(O(Pe))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function $g(t,e){return Cg(y({rootComponent:t},BE(e)))}function BE(t){return{appProviders:[...GE,...t?.providers??[]],platformProviders:qE}}function UE(){md.makeCurrent()}function HE(){return new Ct}function zE(){return mm(document),document}var qE=[{provide:bt,useValue:ud},{provide:Ou,useValue:UE,multi:!0},{provide:Pe,useFactory:zE,deps:[]}];var GE=[{provide:Js,useValue:"root"},{provide:Ct,useFactory:HE,deps:[]},{provide:Ta,useClass:PE,multi:!0,deps:[Pe,de,bt]},{provide:Ta,useClass:$E,multi:!0,deps:[Pe]},{provide:Ta,useClass:LE,multi:!0},Og,Lg,Pg,{provide:kr,useExisting:Og},{provide:xa,useClass:TE,deps:[]},[]];var Bg=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(O(Pe))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var H="primary",po=Symbol("RouteTitle"),bd=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Kr(t){return new bd(t)}function ZE(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function QE(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!$t(t[n],e[n]))return!1;return!0}function $t(t,e){let n=t?Ed(t):void 0,r=e?Ed(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Jg(t[i],e[i]))return!1;return!0}function Ed(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Jg(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function Xg(t){return t.length>0?t[t.length-1]:null}function Sn(t){return Yc(t)?t:er(t)?ie(Promise.resolve(t)):N(t)}var YE={exact:tv,subset:nv},ev={exact:KE,subset:JE,ignored:()=>!0};function Ug(t,e,n){return YE[n.paths](t.root,e.root,n.matrixParams)&&ev[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function KE(t,e){return $t(t,e)}function tv(t,e,n){if(!rr(t.segments,e.segments)||!Oa(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!tv(t.children[r],e.children[r],n))return!1;return!0}function JE(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Jg(t[n],e[n]))}function nv(t,e,n){return rv(t,e,e.segments,n)}function rv(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!rr(i,n)||e.hasChildren()||!Oa(i,n,r))}else if(t.segments.length===n.length){if(!rr(t.segments,n)||!Oa(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!nv(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!rr(t.segments,i)||!Oa(t.segments,i,r)||!t.children[H]?!1:rv(t.children[H],e,o,r)}}function Oa(t,e,n){return e.every((r,i)=>ev[n](t[i].parameters,r.parameters))}var rn=class{constructor(e=new ne([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Kr(this.queryParams),this._queryParamMap}toString(){return t_.serialize(this)}},ne=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fa(this)}},nr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Kr(this.parameters),this._parameterMap}toString(){return ov(this)}};function XE(t,e){return rr(t,e)&&t.every((n,r)=>$t(n.parameters,e[r].parameters))}function rr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function e_(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===H&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==H&&(n=n.concat(e(i,r)))}),n}var mo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new Jr,providedIn:"root"});let t=e;return t})(),Jr=class{parse(e){let n=new Id(e);return new rn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Xi(e.root,!0)}`,r=i_(e.queryParams),i=typeof e.fragment=="string"?`#${n_(e.fragment)}`:"";return`${n}${r}${i}`}},t_=new Jr;function Fa(t){return t.segments.map(e=>ov(e)).join("/")}function Xi(t,e){if(!t.hasChildren())return Fa(t);if(e){let n=t.children[H]?Xi(t.children[H],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==H&&r.push(`${i}:${Xi(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=e_(t,(r,i)=>i===H?[Xi(t.children[H],!1)]:[`${i}:${Xi(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[H]!=null?`${Fa(t)}/${n[0]}`:`${Fa(t)}/(${n.join("//")})`}}function iv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Na(t){return iv(t).replace(/%3B/gi,";")}function n_(t){return encodeURI(t)}function _d(t){return iv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ka(t){return decodeURIComponent(t)}function Hg(t){return ka(t.replace(/\+/g,"%20"))}function ov(t){return`${_d(t.path)}${r_(t.parameters)}`}function r_(t){return Object.entries(t).map(([e,n])=>`;${_d(e)}=${_d(n)}`).join("")}function i_(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Na(n)}=${Na(i)}`).join("&"):`${Na(n)}=${Na(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var o_=/^[^\/()?;#]+/;function yd(t){let e=t.match(o_);return e?e[0]:""}var s_=/^[^\/()?;=#]+/;function a_(t){let e=t.match(s_);return e?e[0]:""}var c_=/^[^=?&#]+/;function l_(t){let e=t.match(c_);return e?e[0]:""}var u_=/^[^&#]+/;function d_(t){let e=t.match(u_);return e?e[0]:""}var Id=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ne([],{}):new ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[H]=new ne(e,n)),r}parseSegment(){let e=yd(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(e),new nr(ka(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=a_(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=yd(this.remaining);i&&(r=i,this.capture(r))}e[ka(n)]=ka(r)}parseQueryParam(e){let n=l_(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=d_(this.remaining);s&&(r=s,this.capture(r))}let i=Hg(n),o=Hg(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=yd(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new I(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=H);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[H]:new ne([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new I(4011,!1)}};function sv(t){return t.segments.length>0?new ne([],{[H]:t}):t}function av(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=av(i);if(r===H&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ne(t.segments,e);return f_(n)}function f_(t){if(t.numberOfChildren===1&&t.children[H]){let e=t.children[H];return new ne(t.segments.concat(e.segments),e.children)}return t}function ir(t){return t instanceof rn}function h_(t,e,n=null,r=null){let i=cv(t);return lv(i,e,n,r)}function cv(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new ne(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=sv(r);return e??i}function lv(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Cd(i,i,i,n,r);let o=p_(e);if(o.toRoot())return Cd(i,i,new ne([],{}),n,r);let s=m_(o,i,t),a=s.processChildren?no(s.segmentGroup,s.index,o.commands):dv(s.segmentGroup,s.index,o.commands);return Cd(i,s.segmentGroup,a,n,r)}function Pa(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function oo(t){return typeof t=="object"&&t!=null&&t.outlets}function Cd(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=uv(t,e,n);let a=sv(av(s));return new rn(a,o,i)}function uv(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=uv(o,e,n)}),new ne(t.segments,r)}var La=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Pa(r[0]))throw new I(4003,!1);let i=r.find(oo);if(i&&i!==Xg(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function p_(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new La(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new La(n,e,r)}var Zr=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function m_(t,e,n){if(t.isAbsolute)return new Zr(e,!0,0);if(!n)return new Zr(e,!1,NaN);if(n.parent===null)return new Zr(n,!0,0);let r=Pa(t.commands[0])?0:1,i=n.segments.length-1+r;return g_(n,i,t.numberOfDoubleDots)}function g_(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new Zr(r,!1,i-o)}function v_(t){return oo(t[0])?t[0].outlets:{[H]:t}}function dv(t,e,n){if(t??=new ne([],{}),t.segments.length===0&&t.hasChildren())return no(t,e,n);let r=y_(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ne(t.segments.slice(0,r.pathIndex),{});return o.children[H]=new ne(t.segments.slice(r.pathIndex),t.children),no(o,0,i)}else return r.match&&i.length===0?new ne(t.segments,{}):r.match&&!t.hasChildren()?xd(t,e,n):r.match?no(t,0,i):xd(t,e,n)}function no(t,e,n){if(n.length===0)return new ne(t.segments,{});{let r=v_(n),i={};if(Object.keys(r).some(o=>o!==H)&&t.children[H]&&t.numberOfChildren===1&&t.children[H].segments.length===0){let o=no(t.children[H],e,n);return new ne(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=dv(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ne(t.segments,i)}}function y_(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(oo(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!qg(c,l,s))return o;r+=2}else{if(!qg(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function xd(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(oo(o)){let c=C_(o.outlets);return new ne(r,c)}if(i===0&&Pa(n[0])){let c=t.segments[e];r.push(new nr(c.path,zg(n[0]))),i++;continue}let s=oo(o)?o.outlets[H]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Pa(a)?(r.push(new nr(s,zg(a))),i+=2):(r.push(new nr(s,{})),i++)}return new ne(r,{})}function C_(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=xd(new ne([],{}),0,r))}),e}function zg(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function qg(t,e,n){return t==n.path&&$t(e,n.parameters)}var ro="imperative",Ee=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ee||{}),ut=class{constructor(e,n){this.id=e,this.url=n}},Xr=class extends ut{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ee.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Bt=class extends ut{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ee.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},tt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(tt||{}),Va=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Va||{}),nn=class extends ut{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ee.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xn=class extends ut{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ee.NavigationSkipped}},so=class extends ut{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ee.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ja=class extends ut{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Md=class extends ut{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sd=class extends ut{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ee.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Td=class extends ut{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ad=class extends ut{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nd=class{constructor(e){this.route=e,this.type=Ee.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Rd=class{constructor(e){this.route=e,this.type=Ee.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Od=class{constructor(e){this.snapshot=e,this.type=Ee.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fd=class{constructor(e){this.snapshot=e,this.type=Ee.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kd=class{constructor(e){this.snapshot=e,this.type=Ee.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pd=class{constructor(e){this.snapshot=e,this.type=Ee.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$a=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ee.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ao=class{},ei=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function D_(t,e){return t.providers&&!t._injector&&(t._injector=va(t.providers,e,`Route: ${t.path}`)),t._injector??e}function _t(t){return t.outlet||H}function w_(t,e){let n=t.filter(r=>_t(r)===e);return n.push(...t.filter(r=>_t(r)!==e)),n}function go(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Ld=class{get injector(){return go(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new vo(this.rootInjector),this.attachRef=null}},vo=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Ld(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(O(Xe))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ba=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Vd(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Vd(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=jd(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return jd(e,this._root).map(n=>n.value)}};function Vd(t,e){if(t===e.value)return e;for(let n of e.children){let r=Vd(t,n);if(r)return r}return null}function jd(t,e){if(t===e.value)return[e];for(let n of e.children){let r=jd(t,n);if(r.length)return r.unshift(e),r}return[]}var et=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Wr(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ua=class extends Ba{constructor(e,n){super(e),this.snapshot=n,Zd(this,e)}toString(){return this.snapshot.toString()}};function fv(t){let e=b_(t),n=new _e([new nr("",{})]),r=new _e({}),i=new _e({}),o=new _e({}),s=new _e(""),a=new Mn(n,r,o,s,i,H,t,e.root);return a.snapshot=e.root,new Ua(new et(a,[]),e)}function b_(t){let e={},n={},r={},i="",o=new Qr([],e,r,i,n,H,t,null,{});return new za("",new et(o,[]))}var Mn=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(L(l=>l[po]))??N(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(L(e=>Kr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(L(e=>Kr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ha(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:y(y({},e.params),t.params),data:y(y({},e.data),t.data),resolve:y(y(y(y({},t.data),e.data),i?.data),t._resolvedData)}:r={params:y({},t.params),data:y({},t.data),resolve:y(y({},t.data),t._resolvedData??{})},i&&pv(i)&&(r.resolve[po]=i.title),r}var Qr=class{get title(){return this.data?.[po]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Kr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Kr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},za=class extends Ba{constructor(e,n){super(n),this.url=e,Zd(this,n)}toString(){return hv(this._root)}};function Zd(t,e){e.value._routerState=t,e.children.forEach(n=>Zd(t,n))}function hv(t){let e=t.children.length>0?` { ${t.children.map(hv).join(", ")} } `:"";return`${t.value}${e}`}function Dd(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,$t(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),$t(e.params,n.params)||t.paramsSubject.next(n.params),QE(e.url,n.url)||t.urlSubject.next(n.url),$t(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function $d(t,e){let n=$t(t.params,e.params)&&XE(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||$d(t.parent,e.parent))}function pv(t){return typeof t.title=="string"||t.title===null}var Qd=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=H,this.activateEvents=new ve,this.deactivateEvents=new ve,this.attachEvents=new ve,this.detachEvents=new ve,this.parentContexts=m(vo),this.location=m(Gi),this.changeDetector=m(tr),this.inputBinder=m(Za,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Bd(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ye({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ze]});let t=e;return t})(),Bd=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Mn?this.route:e===vo?this.childContexts:this.parent.get(e,n)}},Za=new M(""),Gg=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=_i([i.queryParams,i.params,i.data]).pipe(xe(([s,a,c],l)=>(c=y(y(y({},s),a),c),l===0?N(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=wg(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function E_(t,e,n){let r=co(t,e._root,n?n._root:void 0);return new Ua(r,e)}function co(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=__(t,e,n);return new et(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>co(t,a)),s}}let r=I_(e.value),i=e.children.map(o=>co(t,o));return new et(r,i)}}function __(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return co(t,r,i);return co(t,r)})}function I_(t){return new Mn(new _e(t.url),new _e(t.params),new _e(t.queryParams),new _e(t.fragment),new _e(t.data),t.outlet,t.component,t)}var lo=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},mv="ngNavigationCancelingError";function qa(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ir(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gv(!1,tt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function gv(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[mv]=!0,n.cancellationCode=e,n}function x_(t){return vv(t)&&ir(t.url)}function vv(t){return!!t&&t[mv]}var M_=(t,e,n,r)=>L(i=>(new Ud(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Ud=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Dd(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Wr(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Wr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Wr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Wr(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Pd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Fd(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Dd(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Dd(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ga=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Yr=class{constructor(e,n){this.component=e,this.route=n}};function S_(t,e,n){let r=t._root,i=e?e._root:null;return eo(r,i,n,[r.value])}function T_(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ni(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ep(t)?t:e.get(t):r}function eo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Wr(e);return t.children.forEach(s=>{A_(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>io(a,n.getContext(s),i)),i}function A_(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=N_(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ga(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?eo(t,e,a?a.children:null,r,i):eo(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Yr(a.outlet.component,s))}else s&&io(e,a,i),i.canActivateChecks.push(new Ga(r)),o.component?eo(t,null,a?a.children:null,r,i):eo(t,null,n,r,i);return i}function N_(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!rr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!rr(t.url,e.url)||!$t(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$d(t,e)||!$t(t.queryParams,e.queryParams);case"paramsChange":default:return!$d(t,e)}}function io(t,e,n){let r=Wr(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?io(s,e.children.getContext(o),n):io(s,null,n):io(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Yr(e.outlet.component,i)):n.canDeactivateChecks.push(new Yr(null,i)):n.canDeactivateChecks.push(new Yr(null,i))}function yo(t){return typeof t=="function"}function R_(t){return typeof t=="boolean"}function O_(t){return t&&yo(t.canLoad)}function F_(t){return t&&yo(t.canActivate)}function k_(t){return t&&yo(t.canActivateChild)}function P_(t){return t&&yo(t.canDeactivate)}function L_(t){return t&&yo(t.canMatch)}function yv(t){return t instanceof Wt||t?.name==="EmptyError"}var Ra=Symbol("INITIAL_VALUE");function ti(){return xe(t=>_i(t.map(e=>e.pipe(we(1),rl(Ra)))).pipe(L(e=>{for(let n of e)if(n!==!0){if(n===Ra)return Ra;if(n===!1||V_(n))return n}return!0}),Ie(e=>e!==Ra),we(1)))}function V_(t){return ir(t)||t instanceof lo}function j_(t,e){return ue(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?N(R(y({},n),{guardsResult:!0})):$_(s,r,i,t).pipe(ue(a=>a&&R_(a)?B_(r,o,t,e):N(a)),L(a=>R(y({},n),{guardsResult:a})))})}function $_(t,e,n,r){return ie(t).pipe(ue(i=>G_(i.component,i.route,n,e,r)),Tt(i=>i!==!0,!0))}function B_(t,e,n,r){return ie(e).pipe(jn(i=>St(H_(i.route.parent,r),U_(i.route,r),q_(t,i.path,n),z_(t,i.route,n))),Tt(i=>i!==!0,!0))}function U_(t,e){return t!==null&&e&&e(new kd(t)),N(!0)}function H_(t,e){return t!==null&&e&&e(new Od(t)),N(!0)}function z_(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let i=r.map(o=>Ln(()=>{let s=go(e)??n,a=ni(o,s),c=F_(a)?a.canActivate(e,t):Pt(s,()=>a(e,t));return Sn(c).pipe(Tt())}));return N(i).pipe(ti())}function q_(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>T_(s)).filter(s=>s!==null).map(s=>Ln(()=>{let a=s.guards.map(c=>{let l=go(s.node)??n,u=ni(c,l),d=k_(u)?u.canActivateChild(r,t):Pt(l,()=>u(r,t));return Sn(d).pipe(Tt())});return N(a).pipe(ti())}));return N(o).pipe(ti())}function G_(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return N(!0);let s=o.map(a=>{let c=go(e)??i,l=ni(a,c),u=P_(l)?l.canDeactivate(t,e,n,r):Pt(c,()=>l(t,e,n,r));return Sn(u).pipe(Tt())});return N(s).pipe(ti())}function W_(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return N(!0);let o=i.map(s=>{let a=ni(s,t),c=O_(a)?a.canLoad(e,n):Pt(t,()=>a(e,n));return Sn(c)});return N(o).pipe(ti(),Cv(r))}function Cv(t){return qc(pe(e=>{if(typeof e!="boolean")throw qa(t,e)}),L(e=>e===!0))}function Z_(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return N(!0);let o=i.map(s=>{let a=ni(s,t),c=L_(a)?a.canMatch(e,n):Pt(t,()=>a(e,n));return Sn(c)});return N(o).pipe(ti(),Cv(r))}var uo=class{constructor(e){this.segmentGroup=e||null}},fo=class extends Error{constructor(e){super(),this.urlTree=e}};function Gr(t){return sn(new uo(t))}function Q_(t){return sn(new I(4e3,!1))}function Y_(t){return sn(gv(!1,tt.GuardRejected))}var Hd=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return N(r);if(i.numberOfChildren>1||!i.children[H])return Q_(`${e.redirectTo}`);i=i.children[H]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:g,params:p,data:w,title:F}=i,X=Pt(o,()=>a({params:p,data:w,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:g,title:F}));if(X instanceof rn)throw new fo(X);n=X}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new fo(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new rn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new ne(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new I(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},zd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function K_(t,e,n,r,i){let o=Dv(t,e,n);return o.matched?(r=D_(e,r),Z_(r,e,n,i).pipe(L(s=>s===!0?o:y({},zd)))):N(o)}function Dv(t,e,n){if(e.path==="**")return J_(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?y({},zd):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ZE)(n,t,e);if(!i)return y({},zd);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?y(y({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function J_(t){return{matched:!0,parameters:t.length>0?Xg(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Wg(t,e,n,r){return n.length>0&&tI(t,n,r)?{segmentGroup:new ne(e,eI(r,new ne(n,t.children))),slicedSegments:[]}:n.length===0&&nI(t,n,r)?{segmentGroup:new ne(t.segments,X_(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ne(t.segments,t.children),slicedSegments:n}}function X_(t,e,n,r){let i={};for(let o of n)if(Qa(t,e,o)&&!r[_t(o)]){let s=new ne([],{});i[_t(o)]=s}return y(y({},r),i)}function eI(t,e){let n={};n[H]=e;for(let r of t)if(r.path===""&&_t(r)!==H){let i=new ne([],{});n[_t(r)]=i}return n}function tI(t,e,n){return n.some(r=>Qa(t,e,r)&&_t(r)!==H)}function nI(t,e,n){return n.some(r=>Qa(t,e,r))}function Qa(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function rI(t,e,n){return e.length===0&&!t.children[n]}var qd=class{};function iI(t,e,n,r,i,o,s="emptyOnly"){return new Gd(t,e,n,r,i,s,o).recognize()}var oI=31,Gd=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Hd(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new I(4002,`'${e.segmentGroup}'`)}recognize(){let e=Wg(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(L(({children:n,rootSnapshot:r})=>{let i=new et(r,n),o=new za("",i),s=h_(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Qr([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),H,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,H,n).pipe(L(r=>({children:r,rootSnapshot:n})),cn(r=>{if(r instanceof fo)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof uo?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(L(s=>s instanceof et?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ie(o).pipe(jn(s=>{let a=r.children[s],c=w_(n,s);return this.processSegmentGroup(e,c,a,s,i)}),nl((s,a)=>(s.push(...a),s)),ln(null),el(),ue(s=>{if(s===null)return Gr(r);let a=wv(s);return sI(a),N(a)}))}processSegment(e,n,r,i,o,s,a){return ie(n).pipe(jn(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(cn(l=>{if(l instanceof uo)return N(null);throw l}))),Tt(c=>!!c),cn(c=>{if(yv(c))return rI(r,i,o)?N(new qd):Gr(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return _t(r)!==s&&(s===H||!Qa(i,o,r))?Gr(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):Gr(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:g}=Dv(n,i,o);if(!c)return Gr(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>oI&&(this.allowRedirects=!1));let p=new Qr(o,l,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Zg(i),_t(i),i.component??i._loadedComponent??null,i,Qg(i)),w=Ha(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(w.params),p.data=Object.freeze(w.data);let F=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,p,e);return this.applyRedirects.lineralizeSegments(i,F).pipe(ue(X=>this.processSegment(e,r,n,X.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=K_(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(xe(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(xe(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:g,remainingSegments:p}=c,w=new Qr(g,d,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Zg(r),_t(r),r.component??r._loadedComponent??null,r,Qg(r)),F=Ha(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(F.params),w.data=Object.freeze(F.data);let{segmentGroup:X,slicedSegments:Y}=Wg(n,g,p,l);if(Y.length===0&&X.hasChildren())return this.processChildren(u,l,X,w).pipe(L($e=>new et(w,$e)));if(l.length===0&&Y.length===0)return N(new et(w,[]));let fe=_t(r)===o;return this.processSegment(u,l,X,Y,fe?H:o,!0,w).pipe(L($e=>new et(w,$e instanceof et?[$e]:[])))}))):Gr(n)))}getChildConfig(e,n,r){return n.children?N({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?N({routes:n._loadedRoutes,injector:n._loadedInjector}):W_(e,n,r,this.urlSerializer).pipe(ue(i=>i?this.configLoader.loadChildren(e,n).pipe(pe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Y_(n))):N({routes:[],injector:e})}};function sI(t){t.sort((e,n)=>e.value.outlet===H?-1:n.value.outlet===H?1:e.value.outlet.localeCompare(n.value.outlet))}function aI(t){let e=t.value.routeConfig;return e&&e.path===""}function wv(t){let e=[],n=new Set;for(let r of t){if(!aI(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=wv(r.children);e.push(new et(r.value,i))}return e.filter(r=>!n.has(r))}function Zg(t){return t.data||{}}function Qg(t){return t.resolve||{}}function cI(t,e,n,r,i,o){return ue(s=>iI(t,e,n,r,s.extractedUrl,i,o).pipe(L(({state:a,tree:c})=>R(y({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function lI(t,e){return ue(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return N(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of bv(c))s.add(l);let a=0;return ie(s).pipe(jn(c=>o.has(c)?uI(c,r,t,e):(c.data=Ha(c,c.parent,t).resolve,N(void 0))),pe(()=>a++),Cr(1),ue(c=>a===s.size?N(n):Ae))})}function bv(t){let e=t.children.map(n=>bv(n)).flat();return[t,...e]}function uI(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!pv(i)&&(o[po]=i.title),dI(o,t,e,r).pipe(L(s=>(t._resolvedData=s,t.data=Ha(t,t.parent,n).resolve,null)))}function dI(t,e,n,r){let i=Ed(t);if(i.length===0)return N({});let o={};return ie(i).pipe(ue(s=>fI(t[s],e,n,r).pipe(Tt(),pe(a=>{if(a instanceof lo)throw qa(new Jr,a);o[s]=a}))),Cr(1),Ii(o),cn(s=>yv(s)?Ae:sn(s)))}function fI(t,e,n,r){let i=go(e)??r,o=ni(t,i),s=o.resolve?o.resolve(e,n):Pt(i,()=>o(e,n));return Sn(s)}function wd(t){return xe(e=>{let n=t(e);return n?ie(n).pipe(L(()=>e)):N(e)})}var Ev=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===H);return i}getResolvedTitleForRoute(r){return r.data[po]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>m(hI),providedIn:"root"});let t=e;return t})(),hI=(()=>{let e=class e extends Ev{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(O(Bg))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Co=new M("",{providedIn:"root",factory:()=>({})}),pI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=S({type:e,selectors:[["ng-component"]],standalone:!0,features:[T],decls:1,vars:0,template:function(i,o){i&1&&b(0,"router-outlet")},dependencies:[Qd],encapsulation:2});let t=e;return t})();function Yd(t){let e=t.children&&t.children.map(Yd),n=e?R(y({},t),{children:e}):y({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==H&&(n.component=pI),n}var ho=new M(""),Kd=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=m(_a)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return N(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Sn(r.loadComponent()).pipe(L(_v),pe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),xi(()=>{this.componentLoaders.delete(r)})),o=new on(i,()=>new se).pipe(pr());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return N({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=mI(i,this.compiler,r,this.onLoadEndListener).pipe(xi(()=>{this.childrenLoaders.delete(i)})),a=new on(s,()=>new se).pipe(pr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mI(t,e,n,r){return Sn(t.loadChildren()).pipe(L(_v),ue(i=>i instanceof Vi||Array.isArray(i)?N(i):ie(e.compileModuleAsync(i))),L(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(ho,[],{optional:!0,self:!0}).flat()),{routes:s.map(Yd),injector:o}}))}function gI(t){return t&&typeof t=="object"&&"default"in t}function _v(t){return gI(t)?t.default:t}var Jd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>m(vI),providedIn:"root"});let t=e;return t})(),vI=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Iv=new M(""),xv=new M("");function yI(t,e,n){let r=t.get(xv),i=t.get(Pe);return t.get(de).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),CI(t))),{onViewTransitionCreated:c}=r;return c&&Pt(t,()=>c({transition:a,from:e,to:n})),s})}function CI(t){return new Promise(e=>{Ju({read:()=>setTimeout(e)},{injector:t})})}var DI=new M(""),Xd=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new se,this.transitionAbortSubject=new se,this.configLoader=m(Kd),this.environmentInjector=m(Xe),this.urlSerializer=m(mo),this.rootContexts=m(vo),this.location=m(zr),this.inputBindingEnabled=m(Za,{optional:!0})!==null,this.titleStrategy=m(Ev),this.options=m(Co,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=m(Jd),this.createViewTransition=m(Iv,{optional:!0}),this.navigationErrorHandler=m(DI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>N(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Nd(o)),i=o=>this.events.next(new Rd(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(R(y(y({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new _e({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ro,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ie(s=>s.id!==0),L(s=>R(y({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),xe(s=>{let a=!1,c=!1;return N(s).pipe(xe(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",tt.SupersededByNewNavigation),Ae;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?R(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let g="";return this.events.next(new xn(l.id,this.urlSerializer.serialize(l.rawUrl),g,Va.IgnoredSameUrlNavigation)),l.resolve(!1),Ae}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return N(l).pipe(xe(g=>{let p=this.transitions?.getValue();return this.events.next(new Xr(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),p!==this.transitions?.getValue()?Ae:Promise.resolve(g)}),cI(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),pe(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=R(y({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let p=new ja(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:g,extractedUrl:p,source:w,restoredState:F,extras:X}=l,Y=new Xr(g,this.urlSerializer.serialize(p),w,F);this.events.next(Y);let fe=fv(this.rootComponentType).snapshot;return this.currentTransition=s=R(y({},l),{targetSnapshot:fe,urlAfterRedirects:p,extras:R(y({},X),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,N(s)}else{let g="";return this.events.next(new xn(l.id,this.urlSerializer.serialize(l.extractedUrl),g,Va.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ae}}),pe(l=>{let u=new Md(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),L(l=>(this.currentTransition=s=R(y({},l),{guards:S_(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),j_(this.environmentInjector,l=>this.events.next(l)),pe(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw qa(this.urlSerializer,l.guardsResult);let u=new Sd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Ie(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",tt.GuardRejected),!1)),wd(l=>{if(l.guards.canActivateChecks.length)return N(l).pipe(pe(u=>{let d=new Td(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),xe(u=>{let d=!1;return N(u).pipe(lI(this.paramsInheritanceStrategy,this.environmentInjector),pe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",tt.NoDataFromResolver)}}))}),pe(u=>{let d=new Ad(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),wd(l=>{let u=d=>{let g=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(d.routeConfig).pipe(pe(p=>{d.component=p}),L(()=>{})));for(let p of d.children)g.push(...u(p));return g};return _i(u(l.targetSnapshot.root)).pipe(ln(null),we(1))}),wd(()=>this.afterPreactivation()),xe(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?ie(d).pipe(L(()=>s)):N(s)}),L(l=>{let u=E_(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=R(y({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),pe(()=>{this.events.next(new ao)}),M_(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),we(1),pe({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bt(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Mi(this.transitionAbortSubject.pipe(pe(l=>{throw l}))),xi(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",tt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),cn(l=>{if(c=!0,vv(l))this.events.next(new nn(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),x_(l)?this.events.next(new ei(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let u=new so(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let d=Pt(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof lo){let{message:g,cancellationCode:p}=qa(this.urlSerializer,d);this.events.next(new nn(s.id,this.urlSerializer.serialize(s.extractedUrl),g,p)),this.events.next(new ei(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let g=r.errorHandler(l);s.resolve(!!g)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Ae}))}))}cancelNavigationTransition(r,i,o){let s=new nn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wI(t){return t!==ro}var bI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>m(EI),providedIn:"root"});let t=e;return t})(),Wd=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},EI=(()=>{let e=class e extends Wd{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=En(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>m(_I),providedIn:"root"});let t=e;return t})(),_I=(()=>{let e=class e extends Mv{constructor(){super(...arguments),this.location=m(zr),this.urlSerializer=m(mo),this.options=m(Co,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=m(Jd),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new rn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=fv(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Xr)this.stateMemento=this.createStateMemento();else if(r instanceof xn)this.rawUrlTree=i.initialUrl;else if(r instanceof ja){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof ao?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof nn&&(r.code===tt.GuardRejected||r.code===tt.NoDataFromResolver)?this.restoreHistory(i):r instanceof so?this.restoreHistory(i,!0):r instanceof Bt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof rn?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=y(y({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=y(y({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=En(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),to=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(to||{});function Sv(t,e){t.events.pipe(Ie(n=>n instanceof Bt||n instanceof nn||n instanceof so||n instanceof xn),L(n=>n instanceof Bt||n instanceof xn?to.COMPLETE:(n instanceof nn?n.code===tt.Redirect||n.code===tt.SupersededByNewNavigation:!1)?to.REDIRECTING:to.FAILED),Ie(n=>n!==to.REDIRECTING),we(1)).subscribe(()=>{e()})}function II(t){throw t}var xI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},It=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=m(ba),this.stateManager=m(Mv),this.options=m(Co,{optional:!0})||{},this.pendingTasks=m(Xn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=m(Xd),this.urlSerializer=m(mo),this.location=m(zr),this.urlHandlingStrategy=m(Jd),this._events=new se,this.errorHandler=this.options.errorHandler||II,this.navigated=!1,this.routeReuseStrategy=m(bI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=m(ho,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!m(Za,{optional:!0}),this.eventsSubscription=new he,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof nn&&i.code!==tt.Redirect&&i.code!==tt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Bt)this.navigated=!0;else if(i instanceof ei){let a=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=y({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||wI(o.source)},a);this.scheduleNavigation(c,ro,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}TI(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ro,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=y({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Yd),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":d=y(y({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let g;try{let p=o?o.snapshot:this.routerState.snapshot.root;g=cv(p)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),g=this.currentUrlTree.root}return lv(g,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=ir(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ro,null,i)}navigate(r,i={skipLocationChange:!1}){return SI(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=y({},xI):i===!1?o=y({},MI):o=i,ir(r))return Ug(this.currentUrlTree,r,o);let s=this.parseUrl(r);return Ug(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((g,p)=>{c=g,l=p});let d=this.pendingTasks.add();return Sv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(g=>Promise.reject(g))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function SI(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new I(4008,!1)}function TI(t){return!(t instanceof ao)&&!(t instanceof ei)}var ri=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.onChanges=new se,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof Bt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ir(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,o,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:ym(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.routerLinkInput===null?null:ir(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(j(It),j(Mn),Tu("tabindex"),j(Lt),j(wt),j(jt))},e.\u0275dir=ye({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&_("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ce("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Hr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Hr],replaceUrl:[2,"replaceUrl","replaceUrl",Hr],routerLink:"routerLink"},standalone:!0,features:[Ku,ze]});let t=e;return t})();var Wa=class{};var AI=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ie(r=>r instanceof Bt),jn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=va(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return ie(o).pipe(an())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=N(null);let s=o.pipe(ue(a=>a===null?N(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ie([s,a]).pipe(an())}else return s})}};e.\u0275fac=function(i){return new(i||e)(O(It),O(_a),O(Xe),O(Wa),O(Kd))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Tv=new M(""),NI=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Xr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Bt?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof xn&&r.code===Va.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof $a&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $a(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){Am()},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function Av(t,...e){return Vr([{provide:ho,multi:!0,useValue:t},[],{provide:Mn,useFactory:Nv,deps:[It]},{provide:Ea,multi:!0,useFactory:Rv},e.map(n=>n.\u0275providers)])}function Nv(t){return t.routerState.root}function ii(t,e){return{\u0275kind:t,\u0275providers:e}}function Rv(){let t=m(Se);return e=>{let n=t.get(Vt);if(e!==n.components[0])return;let r=t.get(It),i=t.get(Ov);t.get(ef)===1&&r.initialNavigation(),t.get(Fv,null,Z.Optional)?.setUpPreloading(),t.get(Tv,null,Z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Ov=new M("",{factory:()=>new se}),ef=new M("",{providedIn:"root",factory:()=>1});function RI(){return ii(2,[{provide:ef,useValue:0},{provide:Ur,multi:!0,deps:[Se],useFactory:e=>{let n=e.get(Sg,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(It),o=e.get(Ov);Sv(i,()=>{r(!0)}),e.get(Xd).afterPreactivation=()=>(r(!0),o.closed?N(void 0):o),i.initialNavigation()}))}}])}function OI(){return ii(3,[{provide:Ur,multi:!0,useFactory:()=>{let e=m(It);return()=>{e.setUpLocationChangeListener()}}},{provide:ef,useValue:2}])}var Fv=new M("");function FI(t){return ii(0,[{provide:Fv,useExisting:AI},{provide:Wa,useExisting:t}])}function kv(){return ii(6,[{provide:jt,useClass:ld}])}function kI(){return ii(8,[Gg,{provide:Za,useExisting:Gg}])}function PI(t){let e=[{provide:Iv,useValue:yI},{provide:xv,useValue:y({skipNextTransition:!!t?.skipInitialTransition},t)}];return ii(9,e)}var Yg=new M("ROUTER_FORROOT_GUARD"),LI=[zr,{provide:mo,useClass:Jr},It,vo,{provide:Mn,useFactory:Nv,deps:[It]},Kd,[]],Ya=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[LI,[],{provide:ho,multi:!0,useValue:r},{provide:Yg,useFactory:BI,deps:[[It,new Ks,new mu]]},{provide:Co,useValue:i||{}},i?.useHash?jI():$I(),VI(),i?.preloadingStrategy?FI(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?UI(i):[],i?.bindToComponentInputs?kI().\u0275providers:[],i?.enableViewTransitions?PI().\u0275providers:[],HI()]}}static forChild(r){return{ngModule:e,providers:[{provide:ho,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(O(Yg,8))},e.\u0275mod=Dn({type:e}),e.\u0275inj=Cn({});let t=e;return t})();function VI(){return{provide:Tv,useFactory:()=>{let t=m(Sa),e=m(de),n=m(Co),r=m(Xd),i=m(mo);return n.scrollOffset&&t.setOffset(n.scrollOffset),new NI(i,r,t,e,n)}}}function jI(){return{provide:jt,useClass:ld}}function $I(){return{provide:jt,useClass:cd}}function BI(t){return"guarded"}function UI(t){return[t.initialNavigation==="disabled"?OI().\u0275providers:[],t.initialNavigation==="enabledBlocking"?RI().\u0275providers:[]]}var Kg=new M("");function HI(){return[{provide:Kg,useFactory:Rv},{provide:Ea,multi:!0,useExisting:Kg}]}var dt=class{evaluate(e){return!0}},nt=class{constructor(e){this.variable=e}evaluate(e){return e[this.variable]}},Le=class t extends nt{static string="please_select";constructor(){super(t.string)}},Ze=class{constructor(e){this.not=e}evaluate(e){return!this.not.evaluate(e)}},Ve=class{constructor(e,n){this.left=e;this.right=n}evaluate(e){return this.left.evaluate(e)&&this.right.evaluate(e)}},je=class{constructor(e,n){this.left=e;this.right=n}evaluate(e){return this.left.evaluate(e)||this.right.evaluate(e)}};function Lv(t,e){let n=localStorage.getItem(t);return n&&console.log("Loaded "+t+" from local storage"),n||e}function Do(t,e){e?(console.log("Saved "+t+" to local storage"),localStorage.setItem(t,e)):(console.log("Deleted "+t+" from local storage"),localStorage.removeItem(t))}var Vv={fadeOutDisabledRules:!1,trackWeight:!1},Ut=class t{config=Vv;constructor(){let e=localStorage.getItem("config");e&&(this.config=JSON.parse(e))}persist(){Do("config",JSON.stringify(this.config))}resetConfig(){this.config=Vv,this.persist()}setFadeOutDisabledRules(e){this.config.fadeOutDisabledRules=e,this.persist()}isFadeOutDisabledRules(){return this.config.fadeOutDisabledRules}setTrackWeight(e){this.config.trackWeight=e,this.persist()}isTrackWeight(){return this.config.trackWeight}static \u0275fac=function(n){return new(n||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})};var jv=/^\s*\[(?<category>.+)\]\s*(?<name>.+)\s*$/,$v=/^\s*(?<question>.*)\s+\$(?<variable>[a-zA-Z0-9_]+)\s*$/,Qe=class t{config=m(Ut);parseCondition(e){let n=e.trim().split(" ");if(n.includes("OR")){let r=n.indexOf("OR");return new je(this.parseCondition(n.slice(0,r).join(" ")),this.parseCondition(n.slice(r+1).join(" ")))}else if(n.includes("AND")){let r=n.indexOf("AND");return new Ve(this.parseCondition(n.slice(0,r).join(" ")),this.parseCondition(n.slice(r+1).join(" ")))}else{if(n[0]==="NOT")return new Ze(this.parseCondition(n.slice(1).join(" ")));if(n.length===1&&/^[a-zA-Z0-9_]+$/.test(n[0]))return new nt(n[0]);throw new Error("Could not parse condition from '"+e+"'")}}parseQuestion(e){let n=e.match($v);if(!n||!n.groups)throw new Error("Could not parse question from '"+e+"'");return{question:n.groups.question,variable:n.groups.variable}}extractItemNameAndWeight(e){if(!e)return["",0];if(!this.config.isTrackWeight())return[e.trim(),0];let n=e.trim().match(/^(.+)\s+(\d+(\.\d+)?)(k?g)?$/);if(n){let r=n[1].trim(),i=parseFloat(n[2])*(n[4]==="kg"?1e3:1);return[r,i]}else return[e.trim(),0]}parseItem(e){let n=e.match(jv);if(!n||!n.groups)throw new Error("Could not parse item from '"+e+"'");let[r,i]=this.extractItemNameAndWeight(n.groups.name);return{category:n.groups.category,name:r,weight:i}}parseEffects(e){let n=e.split(",").map(o=>o.trim()).filter(Boolean),r=[],i=[];for(let o of n)if($v.test(o))r.push(this.parseQuestion(o));else if(jv.test(o))i.push(this.parseItem(o));else throw new Error("Could not parse effect from '"+o+"'");return{questions:r,items:i}}parseRule(e){let n=e.split(":-");if(n.length!==2)throw new Error("Could not parse rule from '"+e+"'");let r;return n[0].trim()?r=this.parseCondition(n[0]):r=new dt,{condition:r,effects:this.parseEffects(n[1])}}parseRules(e){return e.split(`
`).filter(r=>!r.trim().startsWith("#")).map(r=>r.replace(/#.*/,"")).join(`
`).split(";").map(r=>r.trim()).filter(Boolean).map(this.parseRule.bind(this))}extractVariables(e){let n=new Set;for(let r of e)for(let i of r.effects.questions)n.add(i.variable);return Array.from(n)}extractCategories(e){let n=new Set;for(let r of e)for(let i of r.effects.items)n.add(i.category);return Array.from(n)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})};function ft(t){t||(Ui(ft),t=m(_n));let e=new B(n=>t.onDestroy(n.next.bind(n)));return n=>n.pipe(Mi(e))}function tf(t,e){!e?.injector&&Ui(tf);let n=e?.injector??m(Se),r=new wi(1),i=Zi(()=>{let o;try{o=t()}catch(s){lt(()=>r.error(s));return}lt(()=>r.next(o))},{injector:n,manualCleanup:!0});return n.get(_n).onDestroy(()=>{i.destroy(),r.complete()}),r.asObservable()}var Bv="view",Ye=class t{embedded=ae(Bv);setMode(e){this.embedded.set(e)}isMode(...e){return e.includes(this.embedded())}asObservable(){return tf(this.embedded)}reset(){this.setMode(Bv)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})};var zI=()=>["","not","and","or"],Uv=()=>["","or"],Hv=()=>[""];function qI(t,e){t&1&&(f(0,"span",1),v(1,"IF"),h())}function GI(t,e){t&1&&Ca(0)}function WI(t,e){if(t&1&&$(0,GI,1,0,"ng-container",2),t&2){C();let n=Da(8);A("ngTemplateOutlet",n)("ngTemplateOutletContext","")}}function ZI(t,e){t&1&&Ca(0)}function QI(t,e){if(t&1&&$(0,ZI,1,0,"ng-container",2),t&2){let n=C(),r=Da(8);A("ngTemplateOutlet",r)("ngTemplateOutletContext",n.state())}}function YI(t,e){if(t&1){let n=te();f(0,"app-editor-condition",4),_("conditionChanged",function(i){K(n);let o=C(2);return J(o.bubbleNotChange(i))}),h()}if(t&2){let n=C(2);A("depth",n.depth()+1)("condition",e.not)("variables",n.variables())("forbidden",Br(4,zI))}}function KI(t,e){if(t&1&&(f(0,"span",1),v(1,"NOT"),h(),$(2,YI,1,5,"app-editor-condition",3)),t&2){let n,r=C();D(2),V((n=r.asNot(r.state().condition))?2:-1,n)}}function JI(t,e){if(t&1){let n=te();f(0,"app-editor-condition",4),_("conditionChanged",function(i){K(n);let o=C(2);return J(o.bubbleAndLeftChange(i))}),h(),f(1,"span",1),v(2,"AND"),h(),f(3,"app-editor-condition",4),_("conditionChanged",function(i){K(n);let o=C(2);return J(o.bubbleAndRightChange(i))}),h()}if(t&2){let n=e,r=C(2);A("depth",r.depth()+1)("condition",n.left)("variables",r.variables())("forbidden",Br(8,Uv)),D(3),A("depth",r.depth()+1)("condition",n.right)("variables",r.variables())("forbidden",Br(9,Uv))}}function XI(t,e){if(t&1&&$(0,JI,4,10),t&2){let n,r=C();V((n=r.asAnd(r.state().condition))?0:-1,n)}}function ex(t,e){if(t&1){let n=te();f(0,"app-editor-condition",4),_("conditionChanged",function(i){K(n);let o=C(2);return J(o.bubbleOrLeftChange(i))}),h(),f(1,"span",1),v(2,"OR"),h(),f(3,"app-editor-condition",4),_("conditionChanged",function(i){K(n);let o=C(2);return J(o.bubbleOrRightChange(i))}),h()}if(t&2){let n=e,r=C(2);A("depth",r.depth()+1)("condition",n.left)("variables",r.variables())("forbidden",Br(8,Hv)),D(3),A("depth",r.depth()+1)("condition",n.right)("variables",r.variables())("forbidden",Br(9,Hv))}}function tx(t,e){if(t&1&&$(0,ex,4,10),t&2){let n,r=C();V((n=r.asOr(r.state().condition))?0:-1,n)}}function nx(t,e){t&1&&(f(0,"pre"),v(1,"UNKNOWN"),h())}function rx(t,e){t&1&&(f(0,"option",7),v(1,"always active"),h())}function ix(t,e){t&1&&(f(0,"option",8),v(1,"NOT x"),h())}function ox(t,e){t&1&&(f(0,"option",9),v(1,"x AND x"),h())}function sx(t,e){t&1&&(f(0,"option",10),v(1,"x OR x"),h())}function ax(t,e){if(t&1&&(f(0,"option",11),v(1),h()),t&2){let n=C().$implicit,r=C(2).context,i=C();Wi("value",n),A("selected",r===n)("disabled",n===i.please_select),D(),We(" ",n," ")}}function cx(t,e){if(t&1&&$(0,rx,2,0,"option",7)(1,ix,2,0,"option",8)(2,ox,2,0,"option",9)(3,sx,2,0,"option",10)(4,ax,2,4,"option",11),t&2){let n,r=e.$implicit;V((n=r)===""?0:n==="not"?1:n==="and"?2:n==="or"?3:4)}}function lx(t,e){if(t&1){let n=te();f(0,"select",6,0),_("change",function(){K(n);let i=Da(1),o=C(2);return J(o.selection(i.value))}),qe(2,cx,5,1,null,null,Xt),h()}if(t&2){let n=C(2);D(2),Ge(n.options())}}function ux(t,e){if(t&1&&(f(0,"span",5),v(1),h()),t&2){let n=C().context;D(),Ce(n)}}function dx(t,e){if(t&1&&$(0,lx,4,0,"select",5)(1,ux,2,1,"span",5),t&2){let n=e.context,r=C();V(r.mode.isMode("edit")?0:n?1:-1)}}var Ka=class t{condition=P.required();variables=P.required();forbidden=P([]);depth=P(0);mode=m(Ye);please_select=Le.string;options=ge(()=>{let e=[];this.condition()instanceof Le&&e.push(Le.string),this.forbidden().includes("")||e.push(""),e.push(...this.variables());for(let n of["not","or","and"])this.forbidden().includes(n)||e.push(n);return e});state=ge(()=>{let e=this.condition();return e instanceof dt?{type:"true"}:e instanceof nt?{type:"variable",context:e.variable}:e instanceof Ze?{type:"not",condition:e}:e instanceof Ve?{type:"and",condition:e}:e instanceof je?{type:"or",condition:e}:{type:"unknown"}});isAlwaysActive(){return this.condition()instanceof dt}asNot(e){if(e instanceof Ze)return e;throw new Error("Expected Not")}asAnd(e){if(e instanceof Ve)return e;throw new Error("Expected And")}asOr(e){if(e instanceof je)return e;throw new Error("Expected Or")}conditionChanged=st();selection(e){e===""?this.conditionChanged.emit(new dt):e==="not"?this.conditionChanged.emit(new Ze(new Le)):e==="and"?this.conditionChanged.emit(new Ve(new Le,new Le)):e==="or"?this.conditionChanged.emit(new je(new Le,new Le)):this.conditionChanged.emit(new nt(e))}bubbleNotChange(e){this.conditionChanged.emit(new Ze(e))}bubbleAndLeftChange(e){this.conditionChanged.emit(new Ve(e,this.asAnd(this.state().condition).right))}bubbleAndRightChange(e){this.conditionChanged.emit(new Ve(this.asAnd(this.state().condition).left,e))}bubbleOrLeftChange(e){this.conditionChanged.emit(new je(e,this.asOr(this.state().condition).right))}bubbleOrRightChange(e){this.conditionChanged.emit(new je(this.asOr(this.state().condition).left,e))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-editor-condition"]],inputs:{condition:[1,"condition"],variables:[1,"variables"],forbidden:[1,"forbidden"],depth:[1,"depth"]},outputs:{conditionChanged:"conditionChanged"},standalone:!0,features:[T],decls:9,vars:2,consts:[["select",""],[1,"font-bold"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"depth","condition","variables","forbidden"],[3,"conditionChanged","depth","condition","variables","forbidden"],[1,"font-mono"],[1,"font-mono",3,"change"],["value",""],["value","not"],["value","and"],["value","or"],[3,"value","selected","disabled"]],template:function(n,r){if(n&1&&$(0,qI,2,0,"span",1)(1,WI,1,2,"ng-container")(2,QI,1,2,"ng-container")(3,KI,3,1)(4,XI,1,1)(5,tx,1,1)(6,nx,2,0,"pre")(7,dx,2,1,"ng-template",null,0,dg),n&2){let i;V(r.depth()===0&&(r.mode.isMode("edit")||!r.isAlwaysActive())?0:-1),D(),V((i=r.state().type)==="true"?1:i==="variable"?2:i==="not"?3:i==="and"?4:i==="or"?5:i==="unknown"?6:-1)}},dependencies:[t,Ng],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;gap:8px;flex-wrap:wrap}"]})};var Yv=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(j(Lt),j(wt))},e.\u0275dir=ye({type:e});let t=e;return t})(),ac=(()=>{let e=class e extends Yv{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=En(e)))(o||e)}})(),e.\u0275dir=ye({type:e,features:[ct]});let t=e;return t})(),li=new M(""),fx={provide:li,useExisting:kt(()=>af),multi:!0},af=(()=>{let e=class e extends ac{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=En(e)))(o||e)}})(),e.\u0275dir=ye({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&_("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},features:[In([fx]),ct]});let t=e;return t})(),hx={provide:li,useExisting:kt(()=>An),multi:!0};function px(){let t=tn()?tn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var mx=new M(""),An=(()=>{let e=class e extends Yv{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!px())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(j(Lt),j(wt),j(mx,8))},e.\u0275dir=ye({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&_("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[In([hx]),ct]});let t=e;return t})();var cf=new M(""),lf=new M("");function Kv(t){return t!=null}function Jv(t){return er(t)?ie(t):t}function Xv(t){let e={};return t.forEach(n=>{e=n!=null?y(y({},e),n):e}),Object.keys(e).length===0?null:e}function ey(t,e){return e.map(n=>n(t))}function gx(t){return!t.validate}function ty(t){return t.map(e=>gx(e)?e:n=>e.validate(n))}function vx(t){if(!t)return null;let e=t.filter(Kv);return e.length==0?null:function(n){return Xv(ey(n,e))}}function ny(t){return t!=null?vx(ty(t)):null}function yx(t){if(!t)return null;let e=t.filter(Kv);return e.length==0?null:function(n){let r=ey(n,e).map(Jv);return Kc(r).pipe(L(Xv))}}function ry(t){return t!=null?yx(ty(t)):null}function zv(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function iy(t){return t._rawValidators}function oy(t){return t._rawAsyncValidators}function nf(t){return t?Array.isArray(t)?t:[t]:[]}function Xa(t,e){return Array.isArray(t)?t.includes(e):t===e}function qv(t,e){let n=nf(e);return nf(t).forEach(i=>{Xa(n,i)||n.push(i)}),n}function Gv(t,e){return nf(e).filter(n=>!Xa(t,n))}var ec=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ny(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ry(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ai=class extends ec{get formDirective(){return null}get path(){return null}},or=class extends ec{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},tc=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Cx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},wP=R(y({},Cx),{"[class.ng-submitted]":"isSubmitted"}),Nn=(()=>{let e=class e extends tc{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(j(or,2))},e.\u0275dir=ye({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&ya("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[ct]});let t=e;return t})(),cc=(()=>{let e=class e extends tc{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(j(ai,10))},e.\u0275dir=ye({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&ya("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[ct]});let t=e;return t})();var wo="VALID",Ja="INVALID",oi="PENDING",bo="DISABLED",Tn=class{},nc=class extends Tn{constructor(e,n){super(),this.value=e,this.source=n}},Eo=class extends Tn{constructor(e,n){super(),this.pristine=e,this.source=n}},_o=class extends Tn{constructor(e,n){super(),this.touched=e,this.source=n}},si=class extends Tn{constructor(e,n){super(),this.status=e,this.source=n}},rf=class extends Tn{constructor(e){super(),this.source=e}},of=class extends Tn{constructor(e){super(),this.source=e}};function sy(t){return(lc(t)?t.validators:t)||null}function Dx(t){return Array.isArray(t)?ny(t):t||null}function ay(t,e){return(lc(e)?e.asyncValidators:t)||null}function wx(t){return Array.isArray(t)?ry(t):t||null}function lc(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function bx(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new I(1e3,"");if(!r[n])throw new I(1001,"")}function Ex(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new I(1002,"")})}var rc=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ge(()=>this.statusReactive()),this.statusReactive=ae(void 0),this._pristine=ge(()=>this.pristineReactive()),this.pristineReactive=ae(!0),this._touched=ge(()=>this.touchedReactive()),this.touchedReactive=ae(!1),this._events=new se,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return lt(this.statusReactive)}set status(e){lt(()=>this.statusReactive.set(e))}get valid(){return this.status===wo}get invalid(){return this.status===Ja}get pending(){return this.status==oi}get disabled(){return this.status===bo}get enabled(){return this.status!==bo}get pristine(){return lt(this.pristineReactive)}set pristine(e){lt(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return lt(this.touchedReactive)}set touched(e){lt(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(qv(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qv(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Gv(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Gv(e,this._rawAsyncValidators))}hasValidator(e){return Xa(this._rawValidators,e)}hasAsyncValidator(e){return Xa(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(R(y({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new _o(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new _o(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(R(y({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Eo(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Eo(!0,r))}markAsPending(e={}){this.status=oi;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new si(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(R(y({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=bo,this.errors=null,this._forEachChild(i=>{i.disable(R(y({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nc(this.value,r)),this._events.next(new si(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(R(y({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=wo,this._forEachChild(r=>{r.enable(R(y({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(R(y({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wo||this.status===oi)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nc(this.value,n)),this._events.next(new si(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(R(y({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bo:wo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=oi,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Jv(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new si(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ve,this.statusChanges=new ve}_calculateStatus(){return this._allControlsDisabled()?bo:this.errors?Ja:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(oi)?oi:this._anyControlsHaveStatus(Ja)?Ja:wo}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Eo(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new _o(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lc(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Dx(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=wx(this._rawAsyncValidators)}},ci=class extends rc{constructor(e,n,r){super(sy(n),ay(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Ex(this,!0,e),Object.keys(e).forEach(r=>{bx(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var uf=new M("CallSetDisabledState",{providedIn:"root",factory:()=>df}),df="always";function _x(t,e){return[...e.path,t]}function sf(t,e,n=df){ff(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),xx(t,e),Sx(t,e),Mx(t,e),Ix(t,e)}function ic(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),sc(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function oc(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Ix(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function ff(t,e){let n=iy(t);e.validator!==null?t.setValidators(zv(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=oy(t);e.asyncValidator!==null?t.setAsyncValidators(zv(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();oc(e._rawValidators,i),oc(e._rawAsyncValidators,i)}function sc(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=iy(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=oy(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return oc(e._rawValidators,r),oc(e._rawAsyncValidators,r),n}function xx(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&cy(t,e)})}function Mx(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&cy(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function cy(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Sx(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Tx(t,e){t==null,ff(t,e)}function Ax(t,e){return sc(t,e)}function ly(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Nx(t){return Object.getPrototypeOf(t.constructor)===ac}function Rx(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function uy(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===An?n=o:Nx(o)?r=o:i=o}),i||r||n||null}function Ox(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Wv(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Zv(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ht=class extends rc{constructor(e=null,n,r){super(sy(n),ay(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Zv(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Wv(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Wv(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Zv(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Fx=t=>t instanceof ht;var uc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ye({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var hf=new M(""),kx={provide:or,useExisting:kt(()=>Io)},Io=(()=>{let e=class e extends or{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this.update=new ve,this._ngModelWarningSent=!1,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=uy(this,o)}ngOnChanges(r){if(this._isControlChanged(r)){let i=r.form.previousValue;i&&ic(i,this,!1),sf(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}ly(r,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ic(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_isControlChanged(r){return r.hasOwnProperty("form")}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(j(cf,10),j(lf,10),j(li,10),j(hf,8),j(uf,8))},e.\u0275dir=ye({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[In([kx]),ct,ze]});let t=e;return t})(),Px={provide:ai,useExisting:kt(()=>xo)},xo=(()=>{let e=class e extends ai{get submitted(){return lt(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=ge(()=>this._submittedReactive()),this._submittedReactive=ae(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ve,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return sf(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){ic(r.control||null,r,!1),Ox(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this._submittedReactive.set(!0),Rx(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new rf(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new of(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(ic(i||null,r),Fx(o)&&(sf(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);Tx(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&Ax(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ff(this.form,this),this._oldForm&&sc(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(j(cf,10),j(lf,10),j(uf,8))},e.\u0275dir=ye({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&_("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[In([Px]),ct,ze]});let t=e;return t})();var Lx={provide:or,useExisting:kt(()=>Mo)},Mo=(()=>{let e=class e extends or{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ve,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=uy(this,s)}ngOnChanges(r){this._added||this._setUpControl(),ly(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return _x(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(j(ai,13),j(cf,10),j(lf,10),j(li,10),j(hf,8))},e.\u0275dir=ye({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[In([Lx]),ct,ze]});let t=e;return t})(),Vx={provide:li,useExisting:kt(()=>dc),multi:!0};function dy(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function jx(t){return t.split(":")[0]}var dc=(()=>{let e=class e extends ac{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=dy(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=jx(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=En(e)))(o||e)}})(),e.\u0275dir=ye({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&_("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[In([Vx]),ct]});let t=e;return t})(),fy=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(dy(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(j(wt),j(Lt),j(dc,9))},e.\u0275dir=ye({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),$x={provide:li,useExisting:kt(()=>hy),multi:!0};function Qv(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Bx(t){return t.split(":")[0]}var hy=(()=>{let e=class e extends ac{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let c=0;c<a.length;c++){let l=a[c],u=this._getOptionValue(l.value);o.push(u)}}else{let a=i.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let u=this._getOptionValue(l.value);o.push(u)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=Bx(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=En(e)))(o||e)}})(),e.\u0275dir=ye({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&_("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[In([$x]),ct]});let t=e;return t})(),py=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(Qv(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(Qv(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(j(wt),j(Lt),j(hy,9))},e.\u0275dir=ye({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var Ux=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Dn({type:e}),e.\u0275inj=Cn({});let t=e;return t})();var Rn=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:hf,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:uf,useValue:r.callSetDisabledState??df}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Dn({type:e}),e.\u0275inj=Cn({imports:[Ux]});let t=e;return t})();var hc=class t{question=P.required();questionChanged=st();variableChanged=st();control=new ci({question:new ht(""),variable:new ht("")});mode=m(Ye);constructor(){this.control.valueChanges.pipe($n(500),ft()).subscribe(e=>{e.question!==this.question().question?this.questionChanged.emit(e):e.variable&&e.variable!==this.question().variable&&this.variableChanged.emit([this.question().variable,e.variable])}),this.mode.asObservable().pipe(ft()).subscribe(e=>{e==="edit"?this.control.enable({emitEvent:!1}):this.control.disable({emitEvent:!1})})}ngOnChanges(){this.control.patchValue(this.question(),{emitEvent:!1})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-editor-question"]],inputs:{question:[1,"question"]},outputs:{questionChanged:"questionChanged",variableChanged:"variableChanged"},standalone:!0,features:[ze,T],decls:6,vars:1,consts:[[1,"flex","flex-col",3,"formGroup"],["type","text","placeholder","question","formControlName","question",1,"grow"],[1,"flex","items-center","gap-2"],[1,"ml-3","font-mono"],["type","text","placeholder","variable","formControlName","variable",1,"grow","font-mono"]],template:function(n,r){n&1&&(f(0,"form",0),b(1,"input",1),f(2,"div",2)(3,"span",3),v(4,"->"),h(),b(5,"input",4),h()()),n&2&&A("formGroup",r.control)},dependencies:[Rn,uc,An,Nn,cc,xo,Mo],encapsulation:2})};var Ht=class t{serializeRules(e){return e.map(this.serialize.bind(this)).map(n=>n+";").join(`

`)}serializeEffects(e){return e.questions.map(this.serialize.bind(this)).concat(e.items.map(this.serialize.bind(this)))}serializeWeight(e,n){if(!e)return"";let r=e/1e3+"kg",i=e*1+"g";return n?n==="kg"?r:i:r.length<=i.length?r:i}serialize(e){if("condition"in e){let n=[],r=this.serialize(e.condition);r&&n.push(r," "),n.push(":-");let i=this.serializeEffects(e.effects);if(i.length===1&&!r)n.push(" ",i[0]);else for(let o=0;o<i.length;o++){let s=i[o];o>0&&n.push(","),n.push(`
`,"   ",s)}return n.join("")}else{if(e instanceof dt)return"";if(e instanceof nt)return e.variable;if(e instanceof Ze)return"NOT "+this.serialize(e.not);if(e instanceof Ve)return this.serialize(e.left)+" AND "+this.serialize(e.right);if(e instanceof je)return this.serialize(e.left)+" OR "+this.serialize(e.right);if("evaluate"in e)throw new Error("Cannot serialize unknown condition");if("question"in e)return e.question+" $"+e.variable;if("category"in e&&"name"in e)return`[${e.category}] ${e.name} ${this.serializeWeight(e.weight)}`.trim();throw new Error("Cannot serialize unknown input")}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})};function Hx(t,e){if(t&1&&(f(0,"option",2),v(1),h()),t&2){let n=e.$implicit;Wi("value",n),D(),Ce(n)}}var pc=class t{item=P.required();categories=P.required();itemChanged=st();control=new ci({category:new ht(""),name:new ht("")});mode=m(Ye);parser=m(Qe);serializer=m(Ht);constructor(){this.control.valueChanges.pipe($n(500),ft()).subscribe(e=>{if(e.category===""){this.addNewCategory();return}let[n,r]=this.parser.extractItemNameAndWeight(e.name);this.itemChanged.emit({category:e.category,name:n,weight:r})}),this.mode.asObservable().pipe(ft()).subscribe(e=>{e==="edit"?this.control.enable({emitEvent:!1}):this.control.disable({emitEvent:!1})})}blockPatch=!1;ngOnChanges(){if(!this.blockPatch){let e=this.item().name;this.item().weight&&(e+=` ${this.serializer.serializeWeight(this.item().weight)}`),this.control.patchValue({category:this.item().category,name:e},{emitEvent:!1})}}focus(e){this.blockPatch=document.activeElement===e.target}blur(){this.blockPatch=!1,this.ngOnChanges()}addNewCategory(){console.log("add new category");let e=window.prompt("Enter new category name");e&&this.control.patchValue({category:e})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-editor-item"]],inputs:{item:[1,"item"],categories:[1,"categories"]},outputs:{itemChanged:"itemChanged"},standalone:!0,features:[ze,T],decls:7,vars:1,consts:[[1,"flex",3,"formGroup"],["name","categories","formControlName","category",1,"max-w-24"],[3,"value"],["value",""],["type","text","formControlName","name",1,"grow",3,"focus","blur"]],template:function(n,r){n&1&&(f(0,"form",0)(1,"select",1),qe(2,Hx,2,2,"option",2,ig),f(4,"option",3),v(5,"+"),h()(),f(6,"input",4),_("focus",function(o){return r.focus(o)})("blur",function(){return r.blur()}),h()()),n&2&&(A("formGroup",r.control),D(2),Ge(r.categories()))},dependencies:[Rn,uc,fy,py,An,dc,Nn,cc,xo,Mo],encapsulation:2})};var ui=class t{questions=[];items=[];cutQuestion(e){this.questions.push(e)}cutItem(e){this.items.push(e)}get itemsCount(){return this.items.length}get questionsCount(){return this.questions.length}paste(){let e={questions:this.questions,items:this.items};return this.questions=[],this.items=[],e}static \u0275fac=function(n){return new(n||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})};var di=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-delete"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var mc=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-cut"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M760-120 480-400l-94 94q8 15 11 32t3 34q0 66-47 113T240-80q-66 0-113-47T80-240q0-66 47-113t113-47q17 0 34 3t32 11l94-94-94-94q-15 8-32 11t-34 3q-66 0-113-47T80-720q0-66 47-113t113-47q66 0 113 47t47 113q0 17-3 34t-11 32l494 494v40H760ZM600-520l-80-80 240-240h120v40L600-520ZM240-640q33 0 56.5-23.5T320-720q0-33-23.5-56.5T240-800q-33 0-56.5 23.5T160-720q0 33 23.5 56.5T240-640Zm240 180q8 0 14-6t6-14q0-8-6-14t-14-6q-8 0-14 6t-6 14q0 8 6 14t14 6ZM240-160q33 0 56.5-23.5T320-240q0-33-23.5-56.5T240-320q-33 0-56.5 23.5T160-240q0 33 23.5 56.5T240-160Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var gc=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-paste"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h167q11-35 43-57.5t70-22.5q40 0 71.5 22.5T594-840h166q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560h-80v120H280v-120h-80v560Zm280-560q17 0 28.5-11.5T520-800q0-17-11.5-28.5T480-840q-17 0-28.5 11.5T440-800q0 17 11.5 28.5T480-760Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var vc=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-down"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M440-800v487L216-537l-56 57 320 320 320-320-56-57-224 224v-487h-80Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("width",r.size()+"px")("height",r.size()+"px")},encapsulation:2})};var fi=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-up"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M440-160v-487L216-423l-56-57 320-320 320 320-56 57-224-224v487h-80Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};function zx(t,e){if(t&1){let n=te();f(0,"button",7),_("click",function(){K(n);let i=C();return J(i.resetCondition())}),b(1,"app-icon-delete"),h()}}function qx(t,e){if(t&1){let n=te();f(0,"button",7),_("click",function(){K(n);let i=C(2).$index,o=C();return J(o.swapQuestions(i,i+1))}),b(1,"app-icon-down"),h()}}function Gx(t,e){t&1&&b(0,"span",9)}function Wx(t,e){if(t&1&&$(0,qx,2,0,"button",2)(1,Gx,1,0,"span",9),t&2){let n=C().$index,r=C();V(n<r.rule().effects.questions.length-1?0:1)}}function Zx(t,e){if(t&1){let n=te();f(0,"button",7),_("click",function(){K(n);let i=C().$index,o=C();return J(o.deleteQuestion(i))}),b(1,"app-icon-delete"),h()}}function Qx(t,e){if(t&1){let n=te();f(0,"button",7),_("click",function(){K(n);let i=C().$index,o=C();return J(o.cutQuestion(i))}),b(1,"app-icon-cut"),h()}}function Yx(t,e){if(t&1){let n=te();f(0,"button",7),_("click",function(){K(n);let i=C().$index,o=C();return J(o.swapQuestions(i-1,i))}),b(1,"app-icon-up"),h()}}function Kx(t,e){if(t&1){let n=te();f(0,"div",3),$(1,Wx,2,1),f(2,"app-editor-question",8),_("questionChanged",function(i){let o=K(n).$index,s=C();return J(s.updateQuestion(o,i))})("variableChanged",function(i){K(n);let o=C();return J(o.variableChanged(i))}),h(),$(3,Zx,2,0,"button",2)(4,Qx,2,0,"button",2)(5,Yx,2,0,"button",2),h()}if(t&2){let n=e.$implicit,r=e.$index,i=C();D(),V(i.mode.isMode("swap")?1:-1),D(),A("question",n),D(),V(i.mode.isMode("delete")?3:i.mode.isMode("cut-paste")?4:i.mode.isMode("swap")&&r>0?5:-1)}}function Jx(t,e){if(t&1){let n=te();f(0,"button",7),_("click",function(){K(n);let i=C(2).$index,o=C();return J(o.swapItems(i,i+1))}),b(1,"app-icon-down"),h()}}function Xx(t,e){t&1&&b(0,"span",9)}function eM(t,e){if(t&1&&$(0,Jx,2,0,"button",2)(1,Xx,1,0,"span",9),t&2){let n=C().$index,r=C();V(n<r.rule().effects.items.length-1?0:1)}}function tM(t,e){if(t&1){let n=te();f(0,"button",7),_("click",function(){K(n);let i=C().$index,o=C();return J(o.deleteItem(i))}),b(1,"app-icon-delete"),h()}}function nM(t,e){if(t&1){let n=te();f(0,"button",7),_("click",function(){K(n);let i=C().$index,o=C();return J(o.cutItem(i))}),b(1,"app-icon-cut"),h()}}function rM(t,e){if(t&1){let n=te();f(0,"button",7),_("click",function(){K(n);let i=C().$index,o=C();return J(o.swapItems(i-1,i))}),b(1,"app-icon-up"),h()}}function iM(t,e){if(t&1){let n=te();f(0,"div",4),$(1,eM,2,1),f(2,"app-editor-item",10),_("itemChanged",function(i){let o=K(n).$index,s=C();return J(s.updateItem(o,i))}),h(),$(3,tM,2,0,"button",2)(4,nM,2,0,"button",2)(5,rM,2,0,"button",2),h()}if(t&2){let n=e.$implicit,r=e.$index,i=C();D(),V(i.mode.isMode("swap")?1:-1),D(),A("item",n)("categories",i.categories()),D(),V(i.mode.isMode("delete")?3:i.mode.isMode("cut-paste")?4:i.mode.isMode("swap")&&r>0?5:-1)}}function oM(t,e){if(t&1){let n=te();f(0,"div",5)(1,"button",11),_("click",function(){K(n);let i=C();return J(i.addQuestion())}),v(2,"+ Question"),h(),f(3,"button",11),_("click",function(){K(n);let i=C();return J(i.addItem())}),v(4,"+ Item"),h()()}}function sM(t,e){if(t&1){let n=te();f(0,"button",7),_("click",function(){K(n);let i=C(2);return J(i.deleteRule())}),b(1,"app-icon-delete"),h()}}function aM(t,e){if(t&1){let n=te();f(0,"button",7),_("click",function(){K(n);let i=C(2);return J(i.paste())}),b(1,"app-icon-paste"),h()}}function cM(t,e){if(t&1&&(f(0,"div",6),$(1,sM,2,0,"button",2)(2,aM,2,0,"button",2),h()),t&2){let n=C();D(),V(n.mode.isMode("delete")?1:-1),D(),V(n.mode.isMode("cut-paste")?2:-1)}}function lM(t,e){if(t&1&&(f(0,"pre"),v(1),h(),f(2,"pre"),v(3),h()),t&2){let n=C();D(),Ce(e),D(2),Ce(n.ruleDebugString())}}var yc=class t{rule=P.required();categories=P.required();variables=P.required();ruleChanged=st();renameVariable=st();ruleDebugString=ge(()=>this.serializer.serialize(this.rule()));errorMessage=ae(null);mode=m(Ye);clipboard=m(ui);parser=m(Qe);serializer=m(Ht);compileRule(e){try{return this.parser.parseRule(this.serializer.serialize(e)),this.errorMessage.set(null),!0}catch(n){return n instanceof Error&&this.errorMessage.set(n.message),!1}}deleteRule(){this.ruleChanged.emit(null)}resetCondition(){this.updateCondition(new Le)}updateCondition(e){let n=R(y({},this.rule()),{condition:e});this.compileRule(n)&&this.ruleChanged.emit(n)}emitNewQuestions(e){let n=R(y({},this.rule()),{effects:R(y({},this.rule().effects),{questions:e})});this.compileRule(n)&&this.ruleChanged.emit(n)}updateQuestion(e,n){let r=this.rule().effects.questions;r[e]=n,this.emitNewQuestions(r)}addQuestion(){let e={variable:"",question:""};this.updateQuestion(this.rule().effects.questions.length,e)}deleteQuestion(e){let n=this.rule().effects.questions;n.splice(e,1),this.emitNewQuestions(n)}cutQuestion(e){let n=this.rule().effects.questions[e];this.deleteQuestion(e),this.clipboard.cutQuestion(n)}swapQuestions(e,n){let r=this.rule().effects.questions,i=r[e];r[e]=r[n],r[n]=i,this.emitNewQuestions(r)}emitNewItems(e){let n=R(y({},this.rule()),{effects:R(y({},this.rule().effects),{items:e})});this.compileRule(n)&&this.ruleChanged.emit(n)}updateItem(e,n){console.log("updateItem",e,n);let r=this.rule().effects.items;r[e]=n,this.emitNewItems(r)}addItem(){let e={category:"New",name:"Item"};this.updateItem(this.rule().effects.items.length,e)}deleteItem(e){let n=this.rule().effects.items;n.splice(e,1),this.emitNewItems(n)}cutItem(e){let n=this.rule().effects.items[e];this.deleteItem(e),this.clipboard.cutItem(n)}swapItems(e,n){let r=this.rule().effects.items,i=r[e];r[e]=r[n],r[n]=i,this.emitNewItems(r)}paste(){let e=this.clipboard.paste(),n=R(y({},this.rule()),{effects:{questions:[...this.rule().effects.questions,...e.questions],items:[...this.rule().effects.items,...e.items]}});this.ruleChanged.emit(n)}variableChanged([e,n]){this.renameVariable.emit([e,n])}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-editor-rule"]],inputs:{rule:[1,"rule"],categories:[1,"categories"],variables:[1,"variables"]},outputs:{ruleChanged:"ruleChanged",renameVariable:"renameVariable"},standalone:!0,features:[T],decls:10,vars:5,consts:[[1,"mb-1","flex","items-center"],[1,"grow",3,"conditionChanged","variables","condition"],[1,"icon"],[1,"mb-1","flex","h-16","items-center"],[1,"mb-1","flex","h-8","items-center"],[1,"flex","justify-end","gap-2"],[1,"flex","justify-center"],[1,"icon",3,"click"],[1,"grow",3,"questionChanged","variableChanged","question"],[1,"ml-6"],[1,"grow",3,"itemChanged","item","categories"],[3,"click"]],template:function(n,r){if(n&1&&(f(0,"div",0)(1,"app-editor-condition",1),_("conditionChanged",function(o){return r.updateCondition(o)}),h(),$(2,zx,2,0,"button",2),h(),qe(3,Kx,6,3,"div",3,Xt),qe(5,iM,6,4,"div",4,Xt),$(7,oM,5,0,"div",5)(8,cM,3,2,"div",6)(9,lM,4,2)),n&2){let i;D(),A("variables",r.variables())("condition",r.rule().condition),D(),V(r.mode.isMode("edit")?2:-1),D(),Ge(r.rule().effects.questions),D(2),Ge(r.rule().effects.items),D(2),V(r.mode.isMode("edit")?7:8),D(2),V((i=r.errorMessage())?9:-1,i)}},dependencies:[Ka,hc,pc,di,mc,gc,vc,fi],encapsulation:2})};var Cc=`# This is the rules template

:-
   Will it be sunny? $sunny,
   [Utility] Paper Tissues,
   [Utility] Backpack;

sunny :-
   [Utility] Sunglasses,
   [Utility] Sunscreen,
   [Clothes] Short Pants;

NOT sunny :-
   [Clothes] Jacket,
   [Clothes] Long Pants;
`;var zt=class t{rules=Lv("rules",Cc);getRules(){return this.rules}saveRules(e){e&&(this.rules=e,Do("rules",e))}resetRules(){this.rules=Cc,Do("rules",Cc)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})};var Dc=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-view"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-146 0-266-81.5T40-500q54-137 174-218.5T480-800q146 0 266 81.5T920-500q-54 137-174 218.5T480-200Zm0-300Zm0 220q113 0 207.5-59.5T832-500q-50-101-144.5-160.5T480-720q-113 0-207.5 59.5T128-500q50 101 144.5 160.5T480-280Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var wc=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-edit"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var bc=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-reorder"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M160-501q0 71 47.5 122T326-322l-62-62 56-56 160 160-160 160-56-56 64-64q-105-6-176.5-81T80-500q0-109 75.5-184.5T340-760h140v80H340q-75 0-127.5 52T160-501Zm400 261v-80h320v80H560Zm0-220v-80h320v80H560Zm0-220v-80h320v80H560Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var hi=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-swap"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M320-440v-287L217-624l-57-56 200-200 200 200-57 56-103-103v287h-80ZM600-80 400-280l57-56 103 103v-287h80v287l103-103 57 56L600-80Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var uM=t=>({"sticky left-0 top-0 z-50 shadow-md":t}),So=t=>({"ring ring-slate-700":t});function dM(t,e){t&1&&(f(0,"span"),v(1,"empty"),h())}function fM(t,e){if(t&1&&(f(0,"span"),v(1),h()),t&2){let n=C(3);D(),We("",n.clipboard.itemsCount," Items")}}function hM(t,e){if(t&1&&(f(0,"span"),v(1),h()),t&2){let n=C(3);D(),We("",n.clipboard.questionsCount," Questions")}}function pM(t,e){if(t&1&&$(0,fM,2,1,"span")(1,hM,2,1,"span"),t&2){let n=C(2);V(n.clipboard.itemsCount?0:-1),D(),V(n.clipboard.questionsCount?1:-1)}}function mM(t,e){if(t&1&&(f(0,"div",4)(1,"span"),v(2,"Clipboard:"),h(),$(3,dM,2,0,"span")(4,pM,2,2),h()),t&2){let n=C();D(3),V(n.clipboard.itemsCount===0&&n.clipboard.questionsCount===0?3:4)}}var Ec=class t{mode=m(Ye);clipboard=m(ui);sticky=ae(!1);scroller=m(Sa);ngOnDestroy(){this.mode.reset()}scroll(){this.sticky.set(this.scroller.getScrollPosition()?.[1]>48)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-toolbar"]],hostBindings:function(n,r){n&1&&_("scroll",function(){return r.scroll()},!1,la)},standalone:!0,features:[T],decls:13,vars:24,consts:[[1,"bg-white","py-2",3,"ngClass"],[1,"mb-1","grid","grid-cols-5","gap-2"],[1,"icon",3,"click","ngClass"],[1,"my-auto",3,"size"],[1,"flex","justify-center","gap-5"]],template:function(n,r){n&1&&(f(0,"div",0)(1,"div",1)(2,"button",2),_("click",function(){return r.mode.setMode("view")}),b(3,"app-icon-view",3),h(),f(4,"button",2),_("click",function(){return r.mode.setMode("edit")}),b(5,"app-icon-edit",3),h(),f(6,"button",2),_("click",function(){return r.mode.setMode("delete")}),b(7,"app-icon-delete",3),h(),f(8,"button",2),_("click",function(){return r.mode.setMode("cut-paste")}),b(9,"app-icon-reorder",3),h(),f(10,"button",2),_("click",function(){return r.mode.setMode("swap")}),b(11,"app-icon-swap",3),h()(),$(12,mM,5,1,"div",4),h()),n&2&&(A("ngClass",Et(12,uM,r.sticky())),D(2),A("ngClass",Et(14,So,r.mode.isMode("view"))),D(),A("size",24),D(),A("ngClass",Et(16,So,r.mode.isMode("edit"))),D(),A("size",24),D(),A("ngClass",Et(18,So,r.mode.isMode("delete"))),D(),A("size",24),D(),A("ngClass",Et(20,So,r.mode.isMode("cut-paste"))),D(),A("size",24),D(),A("ngClass",Et(22,So,r.mode.isMode("swap"))),D(),A("size",24),D(),V(r.mode.isMode("cut-paste")?12:-1))},dependencies:[qr,Dc,wc,di,bc,hi],encapsulation:2})};var qt=class t{answers={};checkedItems=[];constructor(){let e=localStorage.getItem("answers");e&&(this.answers=JSON.parse(e));let n=localStorage.getItem("checkedItems");n&&(this.checkedItems=JSON.parse(n))}getAnswers(){return this.answers}saveAnswers(e){e?(this.answers=e,localStorage.setItem("answers",JSON.stringify(e))):localStorage.removeItem("answers")}getCheckedItems(){return this.checkedItems}setCheckedItems(e){e?(this.checkedItems=e,localStorage.setItem("checkedItems",JSON.stringify(e))):localStorage.removeItem("checkedItems")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})};var pi=class t{error=P();static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-error"]],inputs:{error:[1,"error"]},standalone:!0,features:[T],decls:11,vars:1,consts:[[1,"flex","flex-col","items-center","gap-3","text-center"],[1,"font-mono","text-red-700"],["routerLink","/rules-raw"]],template:function(n,r){n&1&&(f(0,"div",0)(1,"p"),v(2,"The following error occured while parsing the rules:"),h(),f(3,"p",1),v(4),h(),f(5,"p"),v(6," Unfortunately, this error can only be fixed by changing the rules manually. "),h(),f(7,"p"),v(8,"Please do that"),h(),f(9,"button",2),v(10,"here"),h()()),n&2&&(D(4),Ce(r.error()))},dependencies:[ri],encapsulation:2})};var _c=class t{renameVariable(e,n,r){if(r instanceof Array)return r.map(i=>this.renameVariable(e,n,i));if("variable"in r&&"question"in r){let i=r;return i.variable===e?R(y({},i),{variable:n}):i}else if("condition"in r&&"effects"in r){let i=r;return{condition:this.renameVariable(e,n,i.condition),effects:{questions:i.effects.questions.map(o=>this.renameVariable(e,n,o)),items:i.effects.items}}}else{let i=r;if(i instanceof dt)return i;if(i instanceof nt)return i.variable===e?new nt(n):i;if(i instanceof Ze)return new Ze(this.renameVariable(e,n,i.not));if(i instanceof Ve)return new Ve(this.renameVariable(e,n,i.left),this.renameVariable(e,n,i.right));if(i instanceof je)return new je(this.renameVariable(e,n,i.left),this.renameVariable(e,n,i.right))}throw console.log("this part is unreachable",r),new Error("this part is unreachable")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})};var gM=t=>({"opacity-50":t});function vM(t,e){t&1&&b(0,"app-error",0),t&2&&A("error",e)}function yM(t,e){if(t&1){let n=te();f(0,"div",3)(1,"button",5),_("click",function(){K(n);let i=C().$index,o=C(2);return J(o.swapRules(i-1,i))}),b(2,"app-icon-swap"),h()()}}function CM(t,e){if(t&1){let n=te();$(0,yM,3,0,"div",3),f(1,"div",1)(2,"app-editor-rule",4),_("ruleChanged",function(i){let o=K(n).$index,s=C(2);return J(s.updateRule(o,i))})("renameVariable",function(i){K(n);let o=C(2);return J(o.renameVariable(i))}),h()()}if(t&2){let n=e.$implicit,r=e.$index,i=C(2);V(r>0&&i.mode.isMode("swap")?0:-1),D(),$r("id","rule-",r,""),A("ngClass",Et(7,gM,i.showAsDisabled(n))),D(),A("rule",n)("categories",i.categories())("variables",i.variables())}}function DM(t,e){if(t&1){let n=te();f(0,"button",6),_("click",function(){K(n);let i=C(2);return J(i.addRule())}),v(1,"+ Rule"),h()}}function wM(t,e){if(t&1&&(b(0,"app-toolbar"),qe(1,CM,3,9,"div",1,Xt),$(3,DM,2,0,"button",2)),t&2){let n=C();D(),Ge(n.parsedRules()),D(2),V(n.mode.isMode("edit")?3:-1)}}var Ic=class t{parsedRules=ae([]);categories=ae([]);variables=ae([]);persistence=m(zt);mode=m(Ye);error=ae(void 0);answers=m(qt).getAnswers();config=m(Ut);parser=m(Qe);serializer=m(Ht);refactor=m(_c);ngOnInit(){try{this.calculateFields(this.parser.parseRules(this.persistence.getRules())),this.error.set(void 0)}catch(e){e instanceof Error?this.error.set(e.message):this.error.set("Unknown error"),console.error(e)}}calculateFields(e){this.parsedRules.set(e),this.categories.set(this.parser.extractCategories(e)),this.variables.set(this.parser.extractVariables(e))}applyNewRules(e){let n=this.serializer.serializeRules(e);this.persistence.saveRules(n),this.calculateFields(e)}updateRule(e,n){console.log("updateRule",e,n);let r=this.parsedRules();n?r[e]=n:r.splice(e,1),this.applyNewRules(r)}addRule(){let e=this.parsedRules().length,n=[];for(let o=0;o<this.parsedRules().length;o++){let s=document.querySelector(`#rule-${o}`);if(s){let a=s.getBoundingClientRect();a.top>=0&&a.bottom<=window.innerHeight&&n.push(o)}}console.log({candidates:n,insertAt:e}),n.includes(e-1)||(e=n[0]+1);let r={condition:new Le,effects:{questions:[],items:[]}},i=this.parsedRules();i.splice(e,0,r),this.applyNewRules(i)}swapRules(e,n){let r=this.parsedRules(),i=r[e];r[e]=r[n],r[n]=i,this.applyNewRules(r)}showAsDisabled(e){return this.config.isFadeOutDisabledRules()&&!e.condition.evaluate(this.answers)}renameVariable([e,n]){let r=this.refactor.renameVariable(e,n,this.parsedRules());this.applyNewRules(r)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-rules"]],standalone:!0,features:[T],decls:2,vars:1,consts:[[3,"error"],[1,"card","mb-1",3,"id","ngClass"],[1,"sticky","bottom-0","z-50"],[1,"flex","justify-center"],[3,"ruleChanged","renameVariable","rule","categories","variables"],[1,"icon",3,"click"],[1,"sticky","bottom-0","z-50",3,"click"]],template:function(n,r){if(n&1&&$(0,vM,1,1,"app-error",0)(1,wM,4,1),n&2){let i;V((i=r.error())?0:1,i)}},dependencies:[yc,Ec,hi,qr,pi],encapsulation:2})};var mi=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-checkmark"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","300 -1000 500 800","fill","#000000"],["d","M382-240 154-468l57-57 171 171 367-367 57 57-424 424Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};function bM(t,e){t&1&&(f(0,"span"),b(1,"app-icon-checkmark"),h())}function EM(t,e){if(t&1){let n=te();f(0,"div",1),_("click",function(){K(n);let i=C();return J(i.click())}),f(1,"span",2),v(2),h(),$(3,bM,2,0,"span"),h()}if(t&2){let n=C();D(2),Ce(e),D(),V(n.value()?3:-1)}}var xc=class t{question=P(void 0);value=P(void 0);valueChange=st();click(){this.valueChange.emit(!this.value())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-display-question"]],inputs:{question:[1,"question"],value:[1,"value"]},outputs:{valueChange:"valueChange"},standalone:!0,features:[T],decls:1,vars:1,consts:[[1,"flex","flex-row","justify-between"],[1,"flex","flex-row","justify-between",3,"click"],[1,"font-bold"]],template:function(n,r){if(n&1&&$(0,EM,4,2,"div",0),n&2){let i;V((i=r.question())?0:-1,i)}},dependencies:[mi],encapsulation:2})};function _M(t,e){t&1&&b(0,"app-icon-checkmark")}function IM(t,e){if(t&1&&(v(0),f(1,"span",0),v(2,"/"),h(),v(3)),t&2){let n=C();We(" ",n.count(),""),D(3),We("",n.total(),`
`)}}var Mc=class t{count=P(0);total=P(0);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-status"]],inputs:{count:[1,"count"],total:[1,"total"]},standalone:!0,features:[T],decls:2,vars:1,consts:[[1,"px-0.5"]],template:function(n,r){n&1&&$(0,_M,1,0,"app-icon-checkmark")(1,IM,4,2),n&2&&V(r.count()===r.total()?0:1)},dependencies:[mi],encapsulation:2})};var xM=(t,e)=>e.key,MM=t=>({"text-slate-500 line-through":t});function SM(t,e){if(t&1&&(f(0,"div",1),b(1,"progress",2),h(),f(2,"div",3),v(3),h()),t&2){let n=C();D(),A("value",n.weightChecked())("max",n.weightTotal()),D(2),wa(" ",n.serializeWeight(n.weightChecked(),"kg")||"0kg"," / ",n.serializeWeight(n.weightTotal(),"kg")||"0kg"," ")}}function TM(t,e){if(t&1&&(f(0,"div",1),b(1,"progress",2),h(),f(2,"div",3),v(3),h()),t&2){let n=C();D(),A("value",n.currentlyCheckedItems())("max",n.items().length),D(2),wa(" ",n.currentlyCheckedItems()," / ",n.items().length," ")}}function AM(t,e){if(t&1&&(f(0,"span",9),v(1),h()),t&2){let n=C().$implicit,r=C(2);D(),Ce(r.serializeWeight(n.weight))}}function NM(t,e){if(t&1){let n=te();f(0,"li",8),_("click",function(){let i=K(n).$implicit,o=C(2);return J(o.toggle(i))}),v(1),$(2,AM,2,1,"span",9),h()}if(t&2){let n=e.$implicit,r=C(2);A("ngClass",Et(3,MM,n.checked)),D(),We(" ",n.name," "),D(),V(n.weight&&r.trackWeight?2:-1)}}function RM(t,e){if(t&1&&(f(0,"div",0)(1,"div",4)(2,"span",5),v(3),h(),b(4,"app-status",6),h(),f(5,"ul"),qe(6,NM,3,5,"li",7,Xt),h()()),t&2){let n=e.$implicit;D(3),Ce(n.key),D(),A("count",n.value.checked)("total",n.value.items.length),D(2),Ge(n.value.items)}}function pf(t){return`${t.category}-${t.name}`}var Sc=class t{items=P([]);persistence=m(qt);checkedItems=ae(this.persistence.getCheckedItems());groupedItems=ge(()=>{let e=this.checkedItems();return this.items().reduce((n,r)=>{n[r.category]||(n[r.category]={items:[],checked:0});let i=e.includes(pf(r));return n[r.category].items.push(R(y({},r),{checked:i})),i&&n[r.category].checked++,n},{})});currentlyCheckedItems=ge(()=>Object.values(this.groupedItems()).reduce((e,n)=>e+n.items.filter(r=>r.checked).length,0));trackWeight=m(Ut).isTrackWeight();weightTotal=ge(()=>Math.round(this.items().reduce((e,n)=>e+(n.weight??0),0)));weightChecked=ge(()=>Math.round(this.items().reduce((e,n)=>e+(this.checkedItems().includes(pf(n))?n.weight??0:0),0)));serializer=m(Ht);serializeWeight=this.serializer.serializeWeight.bind(this.serializer);toggle(e){let n=pf(e);this.checkedItems().includes(n)?this.checkedItems.update(r=>r.filter(i=>i!==n)):this.checkedItems.update(r=>[...r,n]),this.persistence.setCheckedItems(this.checkedItems())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-display-items"]],inputs:{items:[1,"items"]},standalone:!0,features:[T],decls:6,vars:3,consts:[[1,"card","mb-1"],[1,"mb-1","flex"],[1,"grow",3,"value","max"],[1,"flex","justify-center"],[1,"flex","flex-row","justify-between"],[1,"pb-1","font-bold","italic"],[3,"count","total"],[1,"flex","justify-between",3,"ngClass"],[1,"flex","justify-between",3,"click","ngClass"],[1,"italic"]],template:function(n,r){n&1&&(f(0,"div",0),$(1,SM,4,4)(2,TM,4,4),h(),qe(3,RM,8,3,"div",0,xM),lg(5,"keyvalue")),n&2&&(D(),V(r.trackWeight?1:2),D(2),Ge(ug(5,1,r.groupedItems())))},dependencies:[Rg,Mc,qr],styles:["progress[_ngcontent-%COMP%]::-webkit-progress-bar{border:2px solid #ccc;border-radius:5px;background-color:transparent}progress[_ngcontent-%COMP%]::-webkit-progress-value{background-color:#999;border-radius:3px}"]})};var OM=(t,e)=>e.question;function FM(t,e){t&1&&b(0,"app-error",0),t&2&&A("error",e)}function kM(t,e){if(t&1){let n=te();f(0,"div",2)(1,"app-display-question",3),_("valueChange",function(i){let o=K(n).$implicit,s=C(2);return J(s.modelChange(o.variable,i))}),h()()}if(t&2){let n=e.$implicit,r=C(2);D(),A("question",n.question)("value",r.model()[n.variable])}}function PM(t,e){if(t&1&&(qe(0,kM,2,2,"div",2,OM),b(2,"app-display-items",1)),t&2){let n=C();Ge(n.questions()),D(2),A("items",n.items())}}var Tc=class t{rulesPersistence=m(zt);packlistPersistence=m(qt);rules=ae([]);model=ae(this.packlistPersistence.getAnswers());activeRules=ge(()=>{let e=this.model();return this.rules().filter(n=>n.condition.evaluate(e))});questions=ge(()=>this.activeRules().flatMap(e=>e.effects.questions));items=ge(()=>this.activeRules().flatMap(e=>e.effects.items));error=ae(void 0);parser=m(Qe);constructor(){Zi(()=>{let e=this.model();this.packlistPersistence.saveAnswers(e)})}ngOnInit(){let e=this.rulesPersistence.getRules();try{this.rules.set(this.parser.parseRules(e)),this.error.set(void 0)}catch(n){n instanceof Error?this.error.set(n.message):this.error.set("An unknown error occurred"),console.error(n)}}modelChange(e,n){this.model.update(r=>R(y({},r),{[e]:n}))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-packlist"]],standalone:!0,features:[T],decls:2,vars:1,consts:[[3,"error"],[3,"items"],[1,"card","mb-1"],[3,"valueChange","question","value"]],template:function(n,r){if(n&1&&$(0,FM,1,1,"app-error",0)(1,PM,3,1,"app-display-items",1),n&2){let i;V((i=r.error())?0:1,i)}},dependencies:[xc,Sc,pi],encapsulation:2})};var my={version:"0.0.0",git_hash:"e3dcb72cd46bce7288d2db7afd72ecd656f96a61"};var mf="travel-packlist-rules.txt",Ac=class t{packlist=m(qt);rules=m(zt);env=my;router=m(It);config=m(Ut);parser=m(Qe);fadeOutDisabledRulesControl=new ht(this.config.isFadeOutDisabledRules());trackWeightControl=new ht(this.config.isTrackWeight());constructor(){this.fadeOutDisabledRulesControl.valueChanges.pipe(ft()).subscribe(e=>{this.config.setFadeOutDisabledRules(!!e)}),this.trackWeightControl.valueChanges.pipe(ft()).subscribe(e=>{this.config.setTrackWeight(!!e)})}isMobile(){let e=navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(e)}resetChecklist(){window.confirm("Are you sure you want to reset the checklist?")&&(this.packlist.saveAnswers({}),this.packlist.setCheckedItems([]),this.router.navigate(["/packlist"]))}resetEverything(){window.confirm("Are you sure you want to reset the whole application?")&&(this.packlist.saveAnswers({}),this.packlist.setCheckedItems([]),this.rules.resetRules(),this.config.resetConfig(),this.router.navigate(["/packlist"]))}downloadRules(){let e=this.rules.getRules(),n=new Blob([e],{type:"text/plain"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=mf,i.click()}shareRules(){let e=this.rules.getRules();navigator.share({title:mf,files:[new File([e],mf,{type:"text/plain"})]})}exportRules(){this.isMobile()&&"share"in navigator?this.shareRules():this.downloadRules()}importRules(){let e=document.createElement("input");e.type="file",e.accept=".txt",e.onchange=async()=>{let n=e.files?.[0];if(!n)return;let r=await n.text();this.rules.saveRules(r);try{this.parser.parseRules(r),this.router.navigate(["/packlist"])}catch{this.router.navigate(["/rules"])}},e.click()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-config"]],standalone:!0,features:[T],decls:59,vars:6,consts:[[1,"section"],[1,"font-bold"],[3,"click"],[1,"flex","items-center","gap-3"],["type","checkbox","id","track-weight",3,"formControl"],["for","track-weight",1,"grow"],[1,"w-1/2","text-sm","italic"],["routerLink","/rules"],["type","checkbox","id","rules-debug-mode",3,"formControl"],["for","rules-debug-mode"],["routerLink","/documentation"],["routerLink","/rules-raw"],[1,"font-mono","text-sm","text-slate-500"],[3,"href"],[1,"flex","flex-col","gap-4"],["href","https://github.com/dhhyi/travel-packlist/issues","target","_blank"],["src","https://img.shields.io/github/issues/dhhyi/travel-packlist","alt","GitHub issues",1,"inline"],["href","mailto:dhhyi@aol.com","target","_blank"],["src","https://img.shields.io/badge/email-dhhyi%40aol.com-blue","alt","Email",1,"inline"],["href","https://ko-fi.com/danilohoffmann","target","_blank"],["src","https://storage.ko-fi.com/cdn/brandasset/kofi_button_stroke.png","alt","Buy Me a Coffee at ko-fi.com",1,"inline","max-w-40"],[1,"red",3,"click"]],template:function(n,r){n&1&&(f(0,"div",0)(1,"span",1),v(2,"Answers"),h(),f(3,"button",2),_("click",function(){return r.resetChecklist()}),v(4,"Reset Checklist"),h(),f(5,"div",3),b(6,"input",4),f(7,"label",5),v(8,"Track item weight"),h(),f(9,"p",6),v(10," You can enter the item weight appended to the item name in the editor. "),h()()(),f(11,"div",0)(12,"span",1),v(13,"Rules"),h(),f(14,"button",7),v(15,"Edit Rules"),h(),f(16,"div",3),b(17,"input",8),f(18,"label",9),v(19,"Fade out disabled rules in editor"),h()(),b(20,"hr"),f(21,"button",10),v(22,"Documentation"),h(),f(23,"button",11),v(24,"Edit Rules with Code"),h(),b(25,"hr"),f(26,"button",2),_("click",function(){return r.exportRules()}),v(27,"Export Rules"),h(),f(28,"button",2),_("click",function(){return r.importRules()}),v(29,"Import Rules"),h()(),f(30,"div",0)(31,"span",1),v(32,"App Version"),h(),f(33,"span"),v(34),h(),f(35,"span",12)(36,"a",13),v(37),h()()(),f(38,"div",0)(39,"span",1),v(40,"Support"),h(),f(41,"div",14)(42,"p"),v(43," If you find any bugs or have any suggestions, please open an issue on GitHub: "),f(44,"a",15),b(45,"img",16),h()(),f(46,"p"),v(47," Alternatively, you can reach out to me by "),f(48,"a",17),b(49,"img",18),h()(),f(50,"p"),v(51," If you like this app, please consider to "),f(52,"a",19),b(53,"img",20),h()()()(),f(54,"div",0)(55,"span",1),v(56,"DANGER!"),h(),f(57,"button",21),_("click",function(){return r.resetEverything()}),v(58,"Reset Application"),h()()),n&2&&(D(6),A("formControl",r.trackWeightControl),D(11),A("formControl",r.fadeOutDisabledRulesControl),D(17),Ce(r.env.version),D(2),$r("href","https://github.com/dhhyi/travel-packlist/commit/",r.env.git_hash,"",Lu),D(),Ce(r.env.git_hash))},dependencies:[Ya,ri,Rn,af,Nn,Io],styles:[".section[_ngcontent-%COMP%]{margin-bottom:.75rem;display:flex;flex-direction:column;gap:.5rem;border-bottom-width:1px;padding-bottom:.5rem}"]})};var Nc=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-documentation"]],standalone:!0,features:[T],decls:81,vars:0,consts:[["id","howtodefinerules"],["id","comments"],["id","rules"],["id","effects"],["id","questions"],["id","items"],["id","conditions"],["id","conclusion"]],template:function(n,r){n&1&&(f(0,"h1",0),v(1,"How to define rules"),h(),f(2,"h2",1),v(3,"Comments"),h(),f(4,"p"),v(5,"start with the "),f(6,"code"),v(7,"#"),h(),v(8," character and can be placed anywhere in the file. Code after a "),f(9,"code"),v(10,"#"),h(),v(11," will be ignored."),h(),f(12,"pre")(13,"code"),v(14,`# This is a comment
`),h()(),f(15,"h2",2),v(16,"Rules"),h(),f(17,"p"),v(18,"are defined with the following syntax:"),h(),f(19,"pre")(20,"code"),v(21,`Condition :- Effects ;
`),h()(),f(22,"p"),v(23,"Rules have to be separated by a semicolon character."),h(),f(24,"p"),v(25,"One example for a rule could be:"),h(),f(26,"pre")(27,"code"),v(28,`cold_weather :- [Clothing] Coat,
  Do you expect snow? $snow ;
`),h()(),f(29,"p"),v(30,'Means something like "If it is cold weather, you should bring a coat. Also, you should answer the question if you expect snow."'),h(),f(31,"h3",3),v(32,"Effects"),h(),f(33,"p"),v(34,"can be either "),f(35,"strong"),v(36,"questions"),h(),v(37," or "),f(38,"strong"),v(39,"items"),h(),v(40,` as seen above.
Separate multiple effects with a comma.`),h(),f(41,"h3",4),v(42,"Questions"),h(),f(43,"p"),v(44,"are defined with the following syntax:"),h(),f(45,"pre")(46,"code"),v(47,`Question? $variable
`),h()(),f(48,"p"),v(49,`A question will be displayed on top of the list.
You can toggle the answer by clicking on it.`),h(),f(50,"h3",5),v(51,"Items"),h(),f(52,"p"),v(53,"are defined with the following syntax:"),h(),f(54,"pre")(55,"code"),v(56,`[Category] Name
`),h()(),f(57,"p"),v(58,"An item will be displayed in the list under its category."),h(),f(59,"h3",6),v(60,"Conditions"),h(),f(61,"p"),v(62,`can be empty, in which case they are always true.
You can use variables for defining logic with AND, OR, and NOT.
Variables are defined in questions.
Conditions trigger the effects of the rule if they are true. So if the condition is not met, then you will neither see any addition questons nor items of that specific rule.`),h(),f(63,"p"),v(64,"Some examples for conditions:"),h(),f(65,"pre")(66,"code"),v(67,`cold_weather AND NOT snow
`),h()(),f(68,"p"),v(69,'Means something like "It is cold weather and it is not snowing".'),h(),f(70,"pre")(71,"code"),v(72,`washer OR laundromat
`),h()(),f(73,"p"),v(74,'Means something like "You have a washer in your AirBnB or you have a laundromat nearby".'),h(),f(75,"h2",7),v(76,"Conclusion"),h(),f(77,"p"),v(78,"With all of this you can define a conditional checklist very flexible."),h(),f(79,"p"),v(80,`One advice:
Don't trigger too many effects in one rule. It can get confusing.`),h())},styles:["h1[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;font-size:1.25rem;line-height:1.75rem;font-weight:700}h2[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;font-size:1.125rem;line-height:1.75rem;font-weight:700}h3[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;font-size:1rem;line-height:1.5rem;font-weight:700}p[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:.5rem;padding-top:.25rem;padding-bottom:.25rem;font-size:1rem;line-height:1.5rem}pre[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:.5rem;border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity));padding:.5rem;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}"]})};function VM(t,e){t&1&&(f(0,"div",2),v(1,"Waiting for input."),h())}function jM(t,e){if(t&1&&(f(0,"div",3),v(1),h()),t&2){let n=C();D(),We(" Parsed ",n.noOfRules()," rules successfully! ")}}function $M(t,e){if(t&1&&(f(0,"div",4),v(1),h()),t&2){let n=C();D(),Ce(n.state())}}var Rc=class t{rules=new ht("");state=ae("pending");parsedRules=ae([]);noOfRules=ge(()=>this.parsedRules().length);persistence=m(zt);parser=m(Qe);constructor(){this.rules.valueChanges.pipe(pe(()=>{this.state.set("pending")}),$n(500),ft()).subscribe({complete:()=>{this.persistence.saveRules(this.rules.value)},next:e=>{if(this.persistence.saveRules(e),e)try{let n=this.parser.parseRules(e);this.parsedRules.set(n),this.state.set("success")}catch(n){n instanceof Error?this.state.set(n.message):console.error(n)}}}),this.rules.setValue(this.persistence.getRules())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-edit-rules-raw"]],standalone:!0,features:[T],decls:5,vars:2,consts:[[1,"mb-8","w-full","grow","resize-none","rounded","border","border-gray-300","bg-gray-100","px-1","py-0","pb-10","font-mono","leading-tight","text-gray-700","focus:bg-white","focus:outline-none",3,"formControl"],[1,"absolute","bottom-0","left-0","w-full","bg-white","p-2","font-mono"],[1,"text-yellow-600"],[1,"text-green-700"],[1,"text-red-700"]],template:function(n,r){if(n&1&&(b(0,"textarea",0),f(1,"div",1),$(2,VM,2,0,"div",2)(3,jM,2,1,"div",3)(4,$M,2,1,"div",4),h()),n&2){let i;A("formControl",r.rules),D(2),V((i=r.state())==="pending"?2:i==="success"?3:4)}},dependencies:[Rn,An,Nn,Io],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}"]})};var gy=[{path:"",redirectTo:"/packlist",pathMatch:"full"},{path:"packlist",component:Tc},{path:"config",component:Ac},{path:"rules",component:Ic},{path:"rules-raw",component:Rc},{path:"documentation",component:Nc},{path:"**",redirectTo:"/packlist"}];var Ao="Service workers are disabled or not supported by this browser";function BM(t){return Ln(()=>sn(new Error(t)))}var gi=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=BM(Ao);else{let r=yr(e,"controllerchange").pipe(L(()=>e.controller)),i=Ln(()=>N(e.controller)),o=St(i,r);this.worker=o.pipe(Ie(u=>!!u)),this.registration=this.worker.pipe(xe(()=>e.getRegistration()));let l=yr(e,"message").pipe(L(u=>u.data)).pipe(Ie(u=>u&&u.type)).pipe(tl());l.connect(),this.events=l}}postMessage(e,n){return this.worker.pipe(we(1),pe(r=>{r.postMessage(y({action:e},n))})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,n);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let n;return typeof e=="string"?n=r=>r.type===e:n=r=>e.includes(r.type),this.events.pipe(Ie(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(we(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ie(n=>n.nonce===e),we(1),L(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},UM=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,this.pushManager=null,this.subscriptionChanges=new se,!r.isEnabled){this.messages=Vn,this.notificationClicks=Vn,this.subscription=Vn;return}this.messages=this.sw.eventsOfType("PUSH").pipe(L(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(L(o=>o.data)),this.pushManager=this.sw.registration.pipe(L(o=>o.pushManager));let i=this.pushManager.pipe(xe(o=>o.getSubscription()));this.subscription=ls(i,this.subscriptionChanges)}requestSubscription(r){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Ao));let i={userVisibleOnly:!0},o=this.decodeBase64(r.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(o.length));for(let a=0;a<o.length;a++)s[a]=o.charCodeAt(a);return i.applicationServerKey=s,this.pushManager.pipe(xe(a=>a.subscribe(i)),we(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ao));let r=i=>{if(i===null)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(we(1),xe(r)).toPromise()}decodeBase64(r){return atob(r)}};e.\u0275fac=function(i){return new(i||e)(O(gi))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),gf=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,!r.isEnabled){this.versionUpdates=Vn,this.unrecoverable=Vn;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ao));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:r},r)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ao));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:r},r)}};e.\u0275fac=function(i){return new(i||e)(O(gi))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();var vy=new M("");function HM(t,e,n,r){return()=>{if(!(Ma(r)&&"serviceWorker"in navigator&&n.enabled!==!1))return;let i=t.get(de),o=t.get(Vt);i.runOutsideAngular(()=>{let a=navigator.serviceWorker,c=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",c),o.onDestroy(()=>{a.removeEventListener("controllerchange",c)})});let s;if(typeof n.registrationStrategy=="function")s=n.registrationStrategy();else{let[a,...c]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=N(null);break;case"registerWithDelay":s=yy(+c[0]||0);break;case"registerWhenStable":let l=ie(t.get(Vt).whenStable());s=c[0]?ls(l,yy(+c[0])):l;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}i.runOutsideAngular(()=>s.pipe(we(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function yy(t){return N(null).pipe(Xc(t))}function zM(t,e){return new gi(Ma(e)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var To=class{};function Cy(t,e={}){return Vr([UM,gf,{provide:vy,useValue:t},{provide:To,useValue:e},{provide:gi,useFactory:zM,deps:[To,bt]},{provide:Ur,useFactory:HM,deps:[Se,vy,To,bt],multi:!0}])}var Dy={providers:[gg(),Av(gy,kv()),Cy("ngsw-worker.js",{enabled:!yg(),registrationStrategy:"registerWhenStable:30000"})]};var Oc=class t{size=P(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-icon-cog"]],inputs:{size:[1,"size"]},standalone:!0,features:[T],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z"]],template:function(n,r){n&1&&(me(),f(0,"svg",0),b(1,"path",1),h()),n&2&&ce("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};function qM(t,e){if(t&1){let n=te();f(0,"div",7)(1,"button",8),_("click",function(){K(n);let i=C();return J(i.scrollTop())}),b(2,"app-icon-up",5),h()()}t&2&&(D(2),A("size",32))}var Fc=class t{swUpdate=m(gf);constructor(){this.swUpdate.versionUpdates.subscribe(e=>{e.type==="VERSION_READY"&&this.swUpdate.activateUpdate().then(()=>{window.location.reload()})})}scrollTop(){window.scrollTo({top:0,behavior:"smooth"})}onScroll(){this.scrollTopVisible=window.scrollY>100}scrollTopVisible=!1;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-root"]],hostBindings:function(n,r){n&1&&_("scroll",function(){return r.onScroll()},!1,la)},standalone:!0,features:[T],decls:10,vars:2,consts:[[1,"flex","h-12","flex-row","items-center","p-2"],["routerLink","/",1,"flex","grow"],["src","icon.png","alt","icon","width","32px","height","32px"],[1,"text-2xl","font-bold"],["routerLink","/config",1,"pr-2"],[3,"size"],[1,"grow-children","flex","grow","flex-col","px-2","pb-2"],[1,"sticky","bottom-2","flex","justify-center"],[1,"rounded-3xl","border","border-slate-300","bg-white","shadow-xl",3,"click"]],template:function(n,r){n&1&&(f(0,"nav",0)(1,"a",1),b(2,"img",2),f(3,"span",3),v(4,"Travel Packlist"),h()(),f(5,"a",4),b(6,"app-icon-cog",5),h()(),f(7,"div",6),b(8,"router-outlet"),$(9,qM,3,1,"div",7),h()),n&2&&(D(6),A("size",24),D(3),V(r.scrollTopVisible?9:-1))},dependencies:[Ya,Qd,ri,Oc,fi],encapsulation:2})};$g(Fc,Dy).catch(t=>console.error(t));
