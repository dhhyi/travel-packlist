import{a as Ze}from"./chunk-XAFSYTQE.js";import{b as T}from"./chunk-E243DG7Q.js";import{a as We,b as Be,d as He,f as qe,h as Ke,p as je}from"./chunk-XAEFLQC4.js";import{b as Ue}from"./chunk-ZVKXQLJL.js";import{n as b}from"./chunk-EJ4KSD3V.js";import{c as Le,d as De,i as ze,k as Xe,l as Ve,p as xe}from"./chunk-C4UQJ6CT.js";import{$a as Ae,Ab as C,Bb as $e,Cb as Re,Db as be,Ea as Te,Fb as y,Gb as V,Ha as a,Jb as F,Kb as M,Lb as G,Pa as E,Qb as m,Sb as ke,Tb as we,W as Pe,_a as Ie,aa as N,bc as x,cb as I,dc as ve,eb as f,hb as P,ib as A,ja as u,ka as d,la as h,nb as i,ob as t,pb as p,rb as ye,ub as $,va as O,vb as R,wb as l,xb as z,yb as X}from"./chunk-3LKDF7HW.js";import"./chunk-2NFLSA4Y.js";var Qe={version:"0.1.1",git_hash:"3dc637007f424df8a0028a6b747ff496db87ffb1",build_time:1732295476};var k=class s{state=N(b);rulesShare=N(Ze);resetHash(){this.state.set("lastExportHash",this.state.get("rulesHash")),this.state.set("lastExportDate",new Date().getTime())}isExportAvailable(){return!!this.state.get("rules")}async exportRules(){await this.rulesShare.exportRules(),this.resetHash()}async importRules(){return this.state.get("exportNeeded")&&!await T($localize`:@@config.rules.import.export-first:You have unsaved changes that will be lost if you import new rules. Do you want to continue anyway?`)?Promise.resolve(!1):new Promise(g=>{let o=document.createElement("input");o.type="file",o.accept=".txt",o.addEventListener("cancel",()=>{g(!1)}),o.onchange=async()=>{let e=o.files?.[0];if(!e){g(!1);return}let r=await e.text();this.state.set("rules",r),this.resetHash(),setTimeout(()=>{this.promptEnableWeightTracking()},2e3),this.resetChecklist(),g(!0)},o.click()})}async promptEnableWeightTracking(){this.state.get("percentageOfItemsWithWeights")>.1&&!this.state.get("trackWeight")&&await T($localize`:@@config.rules.import.suggest-track-weight:It seems that the imported rules contain items with weights. Shall we enable the weight tracking?`)&&this.state.set("trackWeight",!0)}resetChecklist(){this.state.set("answers",{}),this.state.set("checkedItems",[]),this.state.set("collapsedCategories",[]),this.state.set("answersLocked",!1)}static \u0275fac=function(o){return new(o||s)};static \u0275prov=Pe({token:s,factory:s.\u0275fac,providedIn:"root"})};var v=class s{class=O("h-4 w-4");static \u0275fac=function(o){return new(o||s)};static \u0275cmp=E({type:s,selectors:[["app-icon-download"]],inputs:{class:[1,"class"]},decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960"],["d","M439-82q-76-8-141.5-42.5t-113.5-88Q136-266 108.5-335T81-481q0-155 102.5-268.5T440-880v80q-121 17-200 107.5T161-481q0 121 79 211.5T439-162v80Zm40-198L278-482l57-57 104 104v-245h80v245l103-103 57 58-200 200Zm40 198v-80q43-6 82.5-23t73.5-43l58 58q-47 37-101 59.5T519-82Zm158-652q-35-26-74.5-43T520-800v-80q59 6 113 28.5T733-792l-56 58Zm112 506-56-57q26-34 42-73.5t22-82.5h82q-8 59-30 113.5T789-228Zm8-293q-6-43-22-82.5T733-677l56-57q38 45 61 99.5T879-521h-82Z"]],template:function(o,e){o&1&&(h(),i(0,"svg",0),p(1,"path",1),t()),o&2&&P(e.class())},encapsulation:2,changeDetection:0})};var L=class s{class=O("h-4 w-5");static \u0275fac=function(o){return new(o||s)};static \u0275cmp=E({type:s,selectors:[["app-flag-germany"]],inputs:{class:[1,"class"]},decls:5,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 55.2 38.4"],["fill-rule","evenodd","clip-rule","evenodd"],["d","M3.03 0h49.13c1.67 0 3.03 1.36 3.03 3.03v32.33c0 1.66-1.36 3.02-3.02 3.03H3.02C1.36 38.4 0 37.03 0 35.37V3.03C0 1.36 1.36 0 3.03 0z","fill","#000"],["d","M0 12.8h55.2v22.57c0 1.67-1.36 3.03-3.03 3.03H3.03C1.36 38.4 0 37.04 0 35.37V12.8z","fill","#d00"],["d","M0 25.6h55.2v9.77c0 1.66-1.36 3.02-3.02 3.03H3.03A3.04 3.04 0 010 35.37V25.6z","fill","#ffce00"]],template:function(o,e){o&1&&(h(),i(0,"svg",0)(1,"g",1),p(2,"path",2)(3,"path",3)(4,"path",4),t()()),o&2&&P(e.class())},encapsulation:2,changeDetection:0})};var D=class s{class=O("h-4 w-5");static \u0275fac=function(o){return new(o||s)};static \u0275cmp=E({type:s,selectors:[["app-flag-uk"]],inputs:{class:[1,"class"]},decls:18,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","id","Layer_1","x","0px","y","0px","viewBox","0 0 55.2 38.4",0,"xml","space","preserve",2,"enable-background","new 0 0 55.2 38.4"],["type","text/css"],["d","M2.87,38.4h49.46c1.59-0.09,2.87-1.42,2.87-3.03V3.03c0-1.66-1.35-3.02-3.01-3.03H3.01 C1.35,0.01,0,1.37,0,3.03v32.33C0,36.98,1.28,38.31,2.87,38.4L2.87,38.4z",1,"st0"],["points","23.74,23.03 23.74,38.4 31.42,38.4 31.42,23.03 55.2,23.03 55.2,15.35 31.42,15.35 31.42,0 23.74,0 23.74,15.35 0,15.35 0,23.03 23.74,23.03",1,"st1"],["d","M33.98,12.43V0h18.23c1.26,0.02,2.34,0.81,2.78,1.92L33.98,12.43L33.98,12.43z",1,"st2"],["d","M33.98,25.97V38.4h18.35c1.21-0.07,2.23-0.85,2.66-1.92L33.98,25.97L33.98,25.97z",1,"st2"],["d","M21.18,25.97V38.4H2.87c-1.21-0.07-2.24-0.85-2.66-1.94L21.18,25.97L21.18,25.97z",1,"st2"],["d","M21.18,12.43V0H2.99C1.73,0.02,0.64,0.82,0.21,1.94L21.18,12.43L21.18,12.43z",1,"st2"],["points","0,12.8 7.65,12.8 0,8.97 0,12.8",1,"st2"],["points","55.2,12.8 47.51,12.8 55.2,8.95 55.2,12.8",1,"st2"],["points","55.2,25.6 47.51,25.6 55.2,29.45 55.2,25.6",1,"st2"],["points","0,25.6 7.65,25.6 0,29.43 0,25.6",1,"st2"],["points","55.2,3.25 36.15,12.8 40.41,12.8 55.2,5.4 55.2,3.25",1,"st1"],["points","19.01,25.6 14.75,25.6 0,32.98 0,35.13 19.05,25.6 19.01,25.6",1,"st1"],["points","10.52,12.81 14.78,12.81 0,5.41 0,7.55 10.52,12.81",1,"st1"],["points","44.63,25.59 40.37,25.59 55.2,33.02 55.2,30.88 44.63,25.59",1,"st1"]],template:function(o,e){o&1&&(h(),i(0,"svg",0)(1,"style",1),y(2," .st0 { fill: #fefefe; } .st1 { fill: #c8102e; } .st2 { fill: #012169; } "),t(),i(3,"g"),p(4,"path",2)(5,"polygon",3)(6,"path",4)(7,"path",5)(8,"path",6)(9,"path",7)(10,"polygon",8)(11,"polygon",9)(12,"polygon",10)(13,"polygon",11)(14,"polygon",12)(15,"polygon",13)(16,"polygon",14)(17,"polygon",15),t()()),o&2&&P(e.class())},encapsulation:2,changeDetection:0})};var Je=["exportButton"],et=s=>({"animate-pulse bg-green-500":s}),S=s=>({"ring ring-slate-800 dark:ring-slate-200":s});function tt(s,g){s&1&&(i(0,"div",61),l(1,36),t())}function it(s,g){if(s&1&&(i(0,"span",74),l(1,37),t()),s&2){let o=$e();a(),z(o.serviceWorkerStatus()),X(1)}}function nt(s,g){s&1&&(i(0,"p"),$(1,38),i(2,"a",82),p(3,"img",83),t(),R(),t())}function ot(s,g){s&1&&(i(0,"div",81),p(1,"app-icon-download",84),t())}var B=class s{env=Qe;loading=Ie(!1);displayKoFi=!0;displayServiceWorkerStatus=!0;router=N(Xe);route=N(ze);state=N(b);fadeOutDisabledRules=this.state.signal("fadeOutDisabledRules");highlightVariableStatus=this.state.signal("highlightVariableStatus");refactorVariables=this.state.signal("refactorVariables");trackWeight=this.state.signal("trackWeight");categorySorting=this.state.signal("categorySorting");exportReminder=this.state.signal("exportReminder");theme=this.state.signal("theme");language=this.state.signal("language");fontSize=this.state.signal("fontSize");exportNeeded=this.state.signal("exportNeeded");facade=N(k);highlightExport;exportButton=Ae.required("exportButton");isExportAvailable=this.facade.isExportAvailable.bind(this.facade);serviceWorkerStatus=x(()=>{switch(this.state.signal("serviceWorkerStatus")()){case"disabled":return $localize`:@@config.service-worker.disabled:disabled`;case"error":return $localize`:@@config.service-worker.error:error`;case"unrecoverable":return $localize`:@@config.service-worker.unrecoverable:unrecoverable - please refresh`;case"init":return $localize`:@@config.service-worker.init:initializing`;case"ok":return $localize`:@@config.service-worker.ok:ok`;case"update-available":return $localize`:@@config.service-worker.update-available:update available`}});constructor(){let g=Ue(this.route.fragment);this.highlightExport=x(()=>g()==="export-now"),ve(()=>{g()==="export-now"&&setTimeout(()=>{this.exportButton().nativeElement.scrollIntoView({behavior:"smooth"})},2e3)})}async resetChecklist(){await T($localize`:@@config.checklist.reset.question:Are you sure you want to reset the checklist?`)&&(this.facade.resetChecklist(),await this.router.navigate(["/packlist"]))}async resetEverything(){await T($localize`:@@config.dangerzone.reset.question:Are you sure you want to reset the whole application?`)&&(this.state.reset(),await this.router.navigate(["/packlist"]))}async importRules(){this.loading.set(!0),await this.facade.importRules()&&await this.router.navigate(["/packlist"]),this.loading.set(!1)}async exportRules(){await this.facade.exportRules()}static \u0275fac=function(o){return new(o||s)};static \u0275cmp=E({type:s,selectors:[["app-config"]],viewQuery:function(o,e){o&1&&Re(e.exportButton,Je,5),o&2&&be()},decls:117,vars:49,consts:()=>{let g;g=$localize`:@@config.support.issues.github:GitHub issues`;let o;o=$localize`:@@config.support.email.label:Email`;let e;e=$localize`:@@config.checklist:Checklist`;let r;r=$localize`:@@config.checklist.reset: Reset Checklist `;let c;c=$localize`:@@config.checklist.track-weight:Track item weight`;let _;_=$localize`:@@config.checklist.track-weight.description: You can enter the item weight appended to the item name in the editor. `;let H;H=$localize`:@@config.checklist.category-sorting: Sort categories `;let q;q=$localize`:@@config.checklist.category-sorting.alphabetically:alphabetically`;let K;K=$localize`:@@config.checklist.category-sorting.definition:order of definition`;let j;j=$localize`:@@config.rules:Rules`;let Z;Z=$localize`:@@config.rules.edit: Edit Rules `;let U;U=$localize`:@@config.rules.edit.fadeout-disabled:Fade out disabled rules in editor`;let Q;Q=$localize`:@@config.rules.edit.highlight-variables:Highlight variable status in editor`;let Y;Y=$localize`:@@config.rules.refactor-variables:Rename all occurrences when renaming variables`;let J;J=$localize`:@@config.rules.documentation: Documentation `;let ee;ee=$localize`:@@config.rules.edit-raw: Edit Rules with Code `;let te;te=$localize`:@@config.rules.export: Export Rules `;let ie;ie=$localize`:@@config.rules.import: Import Rules `;let ne;ne=$localize`:@@config.rules.export-reminder:Remind me to regularly export rules`;let oe;oe=$localize`:@@config.appearance:Appearance`;let le;le=$localize`:@@config.theme:Theme`;let _e;_e=$localize`:@@config.theme.dark: Dark `;let se;se=$localize`:@@config.theme.light: Light `;let ae;ae=$localize`:@@config.theme.system: System `;let re;re=$localize`:@@config.fontsize:Font Size`;let ge;ge=$localize`:@@config.fontsize.small: small `;let ce;ce=$localize`:@@config.fontsize.normal: normal `;let ue;ue=$localize`:@@config.fontsize.large: large `;let de;de=$localize`:@@config.language:Language`;let pe;pe=$localize`:@@config.language.detect: detect `;let Ce;Ce=$localize`:@@config.appversion:App Version`;let fe;fe=$localize`:@@config.appversion.built:built on ${"\uFFFD0\uFFFD"}:LONG_DATE:`;let me;me=$localize`:@@config.support:Support`;let Se;Se=$localize`:@@config.support.issues: If you find any bugs or have any suggestions, please open an issue on GitHub: ${"\uFFFD#104\uFFFD"}:START_LINK:${"\uFFFD#105\uFFFD\uFFFD/#105\uFFFD"}:TAG_IMG:${"\uFFFD/#104\uFFFD"}:CLOSE_LINK:`;let Ne;Ne=$localize`:@@config.support.email: Alternatively, you can reach out to me by ${"\uFFFD#108\uFFFD"}:START_LINK:${"\uFFFD#109\uFFFD\uFFFD/#109\uFFFD"}:TAG_IMG:${"\uFFFD/#108\uFFFD"}:CLOSE_LINK:`;let Ee;Ee=$localize`:@@config.dangerzone:DANGER!`;let Fe;Fe=$localize`:@@config.dangerzone.reset: Reset Application `;let Me;Me=$localize`:@@config.rules.export-needed: Current rules are not backed up! `;let Ge;Ge=$localize`:@@config.service-worker:Service Worker: ${"\uFFFD0\uFFFD"}:INTERPOLATION:`;let he;he=$localize`:@@config.support.ko-fi.label:Buy Me a Coffee at ko-fi.com`;let Oe;return Oe=$localize`:@@config.support.ko-fi: If you like this app, please consider to ${"\uFFFD#2\uFFFD"}:START_LINK:${"\uFFFD#3\uFFFD\uFFFD/#3\uFFFD"}:TAG_IMG:${"\uFFFD/#2\uFFFD"}:CLOSE_LINK:`,[["exportButton",""],e,r,c,_,H,q,K,j,Z,U,Q,Y,J,ee,te,ie,ne,oe,le,_e,se,ae,re,ge,ce,ue,de,pe,Ce,fe,me,Se,Ne,Ee,Fe,Me,Ge,Oe,[1,"section"],[1,"font-bold"],["type","button",3,"click"],[1,"flex","items-center","gap-3"],["type","checkbox","id","track-weight",3,"ngModelChange","ngModel"],["for","track-weight",1,"grow"],[1,"w-1/2","text-sm","italic"],[1,"grid","grid-cols-2"],["type","radio","id","sort-alphabetically","value","alphabetically",3,"ngModelChange","ngModel"],["for","sort-alphabetically"],["type","radio","id","sort-definition","value","definition",3,"ngModelChange","ngModel"],["for","sort-definition"],["type","button","routerLink","/rules"],["type","checkbox","id","rules-debug-mode",3,"ngModelChange","ngModel"],["for","rules-debug-mode"],["type","checkbox","id","variables-debug-mode",3,"ngModelChange","ngModel"],["for","variables-debug-mode"],["type","checkbox","id","variables-refactor",3,"ngModelChange","ngModel"],["for","variables-refactor"],["type","button","routerLink","/documentation"],["type","button","routerLink","/rules-raw"],["type","button",3,"click","ngClass","disabled"],[1,"text-center","italic","text-red-500"],["type","checkbox","id","export-reminder",3,"ngModelChange","ngModel"],["for","export-reminder"],[1,"grid","grid-cols-3","gap-3"],["type","button",3,"click","ngClass"],["type","button",1,"text-[16px]",3,"click","ngClass"],["type","button",1,"text-[18px]",3,"click","ngClass"],["type","button",1,"text-[20px]",3,"click","ngClass"],["type","button",1,"flex","items-center","justify-center","bg-transparent",3,"click","ngClass"],[1,"h-6","w-7"],[1,"italic"],[1,"truncate","font-mono","text-sm","text-slate-500"],[3,"href"],[1,"font-mono","text-sm"],[1,"flex","flex-col","gap-4"],["href","https://github.com/dhhyi/travel-packlist/issues","target","_blank"],["src","https://img.shields.io/github/issues/dhhyi/travel-packlist","alt",g,1,"inline"],["href","mailto:dhhyi@aol.com","target","_blank"],["src","https://img.shields.io/badge/email-dhhyi%40aol.com-blue","alt",o,1,"inline"],["type","button",1,"red",3,"click"],[1,"loading","fixed","left-0","top-0","flex","h-svh","w-full","items-center","justify-center","bg-white","opacity-30"],["href","https://ko-fi.com/danilohoffmann","target","_blank"],["src","https://storage.ko-fi.com/cdn/brandasset/kofi_button_stroke.png","alt",he,1,"inline","max-w-40"],[1,"h-48","w-48"]]},template:function(o,e){if(o&1){let r=ye();i(0,"div",39)(1,"span",40),l(2,1),t(),i(3,"button",41),C("click",function(){return u(r),d(e.resetChecklist())}),l(4,2),t(),i(5,"div",42)(6,"input",43),G("ngModelChange",function(_){return u(r),M(e.trackWeight,_)||(e.trackWeight=_),d(_)}),t(),i(7,"label",44),l(8,3),t(),i(9,"p",45),l(10,4),t()(),i(11,"div")(12,"fieldset",46)(13,"legend"),l(14,5),t(),i(15,"div",42)(16,"input",47),G("ngModelChange",function(_){return u(r),M(e.categorySorting,_)||(e.categorySorting=_),d(_)}),t(),i(17,"label",48),l(18,6),t()(),i(19,"div",42)(20,"input",49),G("ngModelChange",function(_){return u(r),M(e.categorySorting,_)||(e.categorySorting=_),d(_)}),t(),i(21,"label",50),l(22,7),t()()()()(),i(23,"div",39)(24,"span",40),l(25,8),t(),i(26,"button",51),l(27,9),t(),i(28,"div",42)(29,"input",52),G("ngModelChange",function(_){return u(r),M(e.fadeOutDisabledRules,_)||(e.fadeOutDisabledRules=_),d(_)}),t(),i(30,"label",53),l(31,10),t()(),i(32,"div",42)(33,"input",54),G("ngModelChange",function(_){return u(r),M(e.highlightVariableStatus,_)||(e.highlightVariableStatus=_),d(_)}),t(),i(34,"label",55),l(35,11),t()(),i(36,"div",42)(37,"input",56),G("ngModelChange",function(_){return u(r),M(e.refactorVariables,_)||(e.refactorVariables=_),d(_)}),t(),i(38,"label",57),l(39,12),t()(),p(40,"hr"),i(41,"button",58),l(42,13),t(),i(43,"button",59),l(44,14),t(),p(45,"hr"),i(46,"button",60,0),C("click",function(){return u(r),d(e.exportRules())}),l(48,15),t(),I(49,tt,2,0,"div",61),i(50,"button",41),C("click",function(){return u(r),d(e.importRules())}),l(51,16),t(),i(52,"div",42)(53,"input",62),G("ngModelChange",function(_){return u(r),M(e.exportReminder,_)||(e.exportReminder=_),d(_)}),t(),i(54,"label",63),l(55,17),t()()(),i(56,"div",39)(57,"span",40),l(58,18),t(),i(59,"fieldset",64)(60,"legend"),l(61,19),t(),i(62,"button",65),C("click",function(){return u(r),d(e.theme.set("dark"))}),l(63,20),t(),i(64,"button",65),C("click",function(){return u(r),d(e.theme.set("light"))}),l(65,21),t(),i(66,"button",65),C("click",function(){return u(r),d(e.theme.set("system"))}),l(67,22),t()(),i(68,"fieldset",64)(69,"legend"),l(70,23),t(),i(71,"button",66),C("click",function(){return u(r),d(e.fontSize.set("small"))}),l(72,24),t(),i(73,"button",67),C("click",function(){return u(r),d(e.fontSize.set("normal"))}),l(74,25),t(),i(75,"button",68),C("click",function(){return u(r),d(e.fontSize.set("large"))}),l(76,26),t()(),i(77,"fieldset",64)(78,"legend"),l(79,27),t(),i(80,"button",69),C("click",function(){return u(r),d(e.language.set("auto"))}),l(81,28),t(),i(82,"button",69),C("click",function(){return u(r),d(e.language.set("en"))}),p(83,"app-flag-uk",70),t(),i(84,"button",69),C("click",function(){return u(r),d(e.language.set("de"))}),p(85,"app-flag-germany",70),t()()(),i(86,"div",39)(87,"span",40),l(88,29),t(),i(89,"span"),y(90),t(),i(91,"span",71),l(92,30),ke(93,"date"),t(),i(94,"span",72)(95,"a",73),y(96),t()(),I(97,it,2,1,"span",74),t(),i(98,"div",39)(99,"span",40),l(100,31),t(),i(101,"div",75)(102,"p"),$(103,32),i(104,"a",76),p(105,"img",77),t(),R(),t(),i(106,"p"),$(107,33),i(108,"a",78),p(109,"img",79),t(),R(),t(),I(110,nt,4,0,"p"),t()(),i(111,"div",39)(112,"span",40),l(113,34),t(),i(114,"button",80),C("click",function(){return u(r),d(e.resetEverything())}),l(115,35),t()(),I(116,ot,2,0,"div",81)}o&2&&(a(6),F("ngModel",e.trackWeight),a(10),F("ngModel",e.categorySorting),a(4),F("ngModel",e.categorySorting),a(9),F("ngModel",e.fadeOutDisabledRules),a(4),F("ngModel",e.highlightVariableStatus),a(4),F("ngModel",e.refactorVariables),a(9),f("ngClass",m(29,et,e.highlightExport()&&e.exportNeeded()))("disabled",!e.isExportAvailable()),a(3),A(e.exportNeeded()?49:-1),a(4),F("ngModel",e.exportReminder),a(9),f("ngClass",m(31,S,e.theme()==="dark")),a(2),f("ngClass",m(33,S,e.theme()==="light")),a(2),f("ngClass",m(35,S,e.theme()==="system")),a(5),f("ngClass",m(37,S,e.fontSize()==="small")),a(2),f("ngClass",m(39,S,e.fontSize()==="normal")),a(2),f("ngClass",m(41,S,e.fontSize()==="large")),a(5),f("ngClass",m(43,S,e.language()==="auto")),a(2),f("ngClass",m(45,S,e.language()==="en")),a(2),f("ngClass",m(47,S,e.language()==="de")),a(6),V(e.env.version),a(3),z(we(93,26,e.env.build_time*1e3,"long")),X(92),a(2),f("href","https://github.com/dhhyi/travel-packlist/commit/"+e.env.git_hash,Te),a(),V(e.env.git_hash),a(),A(e.displayServiceWorkerStatus?97:-1),a(13),A(e.displayKoFi?110:-1),a(6),A(e.loading()?116:-1))},dependencies:[xe,Ve,je,Be,We,Ke,He,qe,De,Le,L,D,v],styles:[".section[_ngcontent-%COMP%]{margin-bottom:.75rem;display:flex;flex-direction:column;gap:.5rem;border-bottom-width:1px;padding-bottom:.5rem}"],changeDetection:0})};export{B as default};
