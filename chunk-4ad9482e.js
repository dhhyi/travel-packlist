import{$a as S,Ab as M,Fb as P,Jb as g,Kb as d,Oa as a,Qb as T,Sb as x,Vb as w,Wb as L,Za as y,b as m,ba as V,ga as f,ha as u,hb as O,pa as l,pb as D,qb as h,qc as b,tc as k,ua as v,uc as I,vb as C,wb as r,xb as c,yb as E}from"./chunk-cccbad7d.js";var R=(()=>{class i{appFocusThis=I(!1);element=V(v);constructor(){O({write:()=>{let e=this.element.nativeElement;this.appFocusThis()&&e&&e.focus();}});}static ɵfac=function(n){return new(n||i)();};static ɵdir=S({type:i,selectors:[["","appFocusThis",""]],inputs:{appFocusThis:[1,"appFocusThis"]}});}return i;})();function N(i,o){if(i&1){let e=M();E(0,"div",3),r(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),w(5),c(),r(6,"input",8,0),g("keydown.enter",function(){f(e);let s=T(7),_=d();return u(_.self.dialogOk()(s.value));}),c(),r(8,"div",9)(9,"button",10),g("click",function(){f(e);let s=d();return u(s.self.dialogCancel()());}),P(10,1),c(),r(11,"button",11),g("click",function(){f(e);let s=T(7),_=d();return u(_.self.dialogOk()(s.value));}),P(12,2),c()()()()();}if(i&2){let e=d();a(5),L(e.self.dialogMessage()),a(),x("hidden",!e.self.dialogPromptVisible()),C("appFocusThis",e.self.focus()==="prompt")("value",e.self.dialogPrefill()),a(3),x("hidden",!e.self.dialogCancelVisible()),a(2),C("appFocusThis",e.self.focus()==="ok");}}var t=class i{self=i;static dialogVisible=l(!1);static dialogPromptVisible=l(!1);static dialogPrefill=l("");static dialogCancelVisible=l(!0);static dialogMessage=l("");static dialogOk=l(m);static dialogCancel=l(m);static focus=l(void 0);overlayVisible=k();constructor(){b(()=>{this.overlayVisible.emit(i.dialogVisible());}),b(()=>{i.focus(),setTimeout(()=>{i.focus.set(void 0);},500);});}static ɵfac=function(e){return new(e||i)();};static ɵcmp=y({type:i,selectors:[["app-dialog"]],outputs:{overlayVisible:"overlayVisible"},decls:1,vars:1,consts:()=>{let o;o="Abbrechen";let e;return e="OK",[["prompt",""],o,e,[1,"bg-disabled","pointer-events-none","fixed","top-0","left-0","z-40","h-full","w-full","opacity-50"],[1,"fixed","top-0","left-0","z-50","flex","h-full","w-full"],["role","dialog","aria-describedby","dialog-message",1,"card","bg-disabled","m-auto","w-[300px]"],[1,"m-2","flex","flex-col","gap-4"],["id","dialog-message"],["type","text","role","textbox",3,"keydown.enter","appFocusThis","value"],[1,"mt-4","grid","grid-cols-2","gap-4"],["type","button",1,"secondary",3,"click"],["type","submit",3,"click","appFocusThis"]];},template:function(e,n){e&1&&D(0,N,13,8),e&2&&h(n.self.dialogVisible()?0:-1);},dependencies:[R],encapsulation:2,changeDetection:0});};function A(i=!0,o=!1){t.dialogCancelVisible.set(i),t.dialogPromptVisible.set(o!==!1),typeof o=="string"&&t.dialogPrefill.set(o),t.focus.set(typeof o=="string"?"prompt":"ok"),t.dialogVisible.set(!0);}function p(){t.dialogVisible.set(!1),t.dialogPromptVisible.set(!1),t.dialogPrefill.set(""),t.dialogCancelVisible.set(!0);}function G(i){return t.dialogMessage.set(i),A(),new Promise(o=>{t.dialogOk.set(()=>{p(),o(!0);}),t.dialogCancel.set(()=>{p(),o(!1);});});}function $(i,o=""){return t.dialogMessage.set(i),A(!0,o),new Promise(e=>{t.dialogOk.set(n=>{p(),e(n.trim());}),t.dialogCancel.set(()=>{p(),e(null);});});}function K(i){return t.dialogMessage.set(i),A(!1),new Promise(o=>{t.dialogOk.set(()=>{p(),o();});});}export{t as a,G as b,$ as c,K as d};/**i18n:28a3168b76bee7dffc4b1e816012f24aa421b4da90b9b896cc67ce89fdf6fb94*/