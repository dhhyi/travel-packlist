import{b as h,d as v,h as x,n as V,p as b,r as T}from"./chunk-fc0d2ab4.js";import{q as y}from"./chunk-30cf8046.js";import"./chunk-0d702e51.js";import"./chunk-12fb62d5.js";import{Ac as d,Cb as E,Dc as G,F as g,Hb as r,Ib as l,Jb as m,Ob as P,Pb as N,Qb as O,Rb as $,S as p,Tb as u,_a as R,bc as I,dc as U,ea as S,ic as W,lb as f,qb as a,yb as M}from"./chunk-6d94f052.js";import"./chunk-cb4c040a.js";function F(e,s){e&1&&(r(0,"div",4),P(1,0),l());}function K(e,s){if(e&1&&(W(0),r(1,"div",5),P(2,1),l()),e&2){let t=u().rules;R(2),N(t)(t),O(2);}}function X(e,s){if(e&1&&(r(0,"div",6),I(1),l()),e&2){let _=u();R(),U(" ",_.error," ");}}function w(e,s){if(e&1&&a(0,F,2,0,"div",4)(1,K,3,2,"div",5)(2,X,2,1,"div",6),e&2){let _;E((_=s.type)==="pending"?0:_==="success"?1:2);}}var Y=(()=>{class e{state=S(y);fb=S(V).nonNullable;rulesControl=this.fb.control(this.state.rules.raw());rulesText=T(this.rulesControl.valueChanges.pipe(p(this.rulesControl.value)));rulesPending=d(()=>this.rulesText()!==this.state.rules.raw());parserState=d(()=>{if(this.rulesPending())return{type:"pending"};{let _=this.state.rules.parserError;return _()?{type:"error",error:_()}:{type:"success",rules:this.state.rules.parsed().length};}});constructor(){let _=T(this.rulesControl.valueChanges.pipe(g(500)));G(()=>{let t=_();this.state.rules.raw.set(t);});}static ɵfac=function(t){return new(t||e)();};static ɵcmp=f({type:e,selectors:[["app-edit-rules-raw"]],decls:3,vars:2,consts:()=>{let _;_="Regeln als Code";let t;t="Parser-Zustand";let o;o="ausstehend";let i;i="Erfolg";let C;C="Fehler";let L;L="Warten auf Eingabe.";let A;A="{VAR_PLURAL, plural, one {Eine Regel} other {{INTERPOLATION} Regeln}}",A=$(A,{INTERPOLATION:"\uFFFD1\uFFFD",VAR_PLURAL:"\uFFFD0\uFFFD"});let c;return c=""+A+" erfolgreich geparst!",[L,c,["aria-label",_,1,"grow","resize-none","rounded","border","border-gray-300","bg-gray-100","px-1","py-0","pb-8","font-mono","leading-tight","text-gray-700","focus:outline-none","dark:bg-gray-900","dark:text-gray-300",3,"formControl"],["aria-label",t,"aria-live","polite",1,"bg-active","bottom-0","p-2","font-mono"],["aria-label",o,1,"text-yellow-normal"],["aria-label",i,1,"text-green"],["aria-label",C,1,"text-red"]];},template:function(t,o){if(t&1&&(m(0,"textarea",2),r(1,"div",3),a(2,w,3,1),l()),t&2){let i;M("formControl",o.rulesControl),R(2),E((i=o.parserState())?2:-1,i);}},dependencies:[b,h,v,x],styles:["[_nghost-%COMP%]{display:flex;flex-grow:1;flex-direction:column}"],changeDetection:0});}return e;})();export{Y as default};/**i18n:015bdb808d2848989c3b91cbfc9cad629f58047ff6617f7ac5d9a7ed8c5b6894*/