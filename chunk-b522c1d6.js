import{c as I,d as h,e as D,g as m,h as R,i as nt,j as P,k as j,l as H,m as v,n as g,o as J}from"./chunk-d6e0ccba.js";import{b as lt,c as ct}from"./chunk-9ebb13f2.js";import{e as ot,g as at,h as st,i as rt,q as U}from"./chunk-5faceaef.js";import"./chunk-835102cd.js";import{C as L,m as O,n as q}from"./chunk-db0e641e.js";import"./chunk-2ec0a2cb.js";import{Ba as b,Bb as p,Eb as N,Fb as V,Gb as l,Hb as s,Ib as C,Ja as w,Kb as A,Lb as G,Mb as W,Nb as et,Qb as it,Rb as f,Sb as o,Za as r,ac as S,bc as F,cc as B,dc as Q,ea as E,kb as k,la as u,ma as d,pb as _,wb as x,xb as T,ya as Y,yb as K,zc as y}from"./chunk-9f64b81f.js";import{a as Z,b as tt}from"./chunk-089050b7.js";var _t={opacity:0,transform:"scale(0.9)",height:0,minHeight:0,padding:0,margin:"-2px"},pt={opacity:1,transform:"scale(1)",height:"*",minHeight:"*",padding:"*",margin:"*"},$=j([m(_t),J(50,[h("0.3s ease-in",m(pt))])]),M=j([m(pt),J(50,[h("0.3s ease-in",m(_t))])]);function Tt(e,a){e&1&&C(0,"app-icon-checkmark");}function St(e,a){if(e&1&&S(0),e&2){let t=o();Q(" ",t.count()," / ",t.total(),`
`);}}var mt=(()=>{class e{count=Y(0);total=Y(0);static ɵfac=function(i){return new(i||e)();};static ɵcmp=k({type:e,selectors:[["app-items-status"]],inputs:{count:[1,"count"],total:[1,"total"]},decls:2,vars:1,template:function(i,n){i&1&&_(0,Tt,1,0,"app-icon-checkmark")(1,St,1,2),i&2&&p(n.count()===n.total()?0:1);},dependencies:[U],encapsulation:2,changeDetection:0});}return e;})();var ut=(e,a)=>a.name;function ft(e,a){e&1&&(l(0,"div",1)(1,"p",4),et(2,0),s()());}function At(e,a){if(e&1&&S(0),e&2){let t=o(2).$implicit,i=o();B(" (",i.serializeWeight(t.checkedWeight,void 0,1),") ");}}function ht(e,a){if(e&1&&S(0),e&2){let t=o(2).$implicit,i=o();B(" (",i.serializeWeightPartition(t.checkedWeight,t.totalWeight),") ");}}function kt(e,a){if(e&1&&(l(0,"span",9),_(1,At,1,1)(2,ht,1,1),s()),e&2){let t=o().$implicit;r(),p(t.checkedWeight===t.totalWeight?1:2);}}function xt(e,a){if(e&1&&(l(0,"span",13),S(1),s()),e&2){let t=o().$implicit,i=o(3);r(),F(i.serializeWeight(t.weight));}}function Pt(e,a){if(e&1){let t=A();l(0,"div",11)(1,"div",12),f("click",function(){let n=u(t).$implicit,c=o(3);return d(c.toggleCheckedItem(n));})("keypress",function(){let n=u(t).$implicit,c=o(3);return d(c.toggleCheckedItem(n));})("dblclick",function(){let n=u(t).$implicit,c=o(3);return d(c.dblclick(n));})("touchstart",function(){let n=u(t).$implicit,c=o(3);return d(c.touchStart(n));})("touchend",function(){u(t);let n=o(3);return d(n.touchEnd());}),S(2),_(3,xt,2,1,"span",13),s()();}if(e&2){let t=a.$implicit,i=o(3);r(),K("text-checked-item",t.checked&&!t.skipped)("text-skipped-item",t.skipped),T("@animateStrikeThrough",t.checked),x("aria-checked",t.checked),r(),B(" ",t.name," "),r(),p(t.weight&&i.trackWeight()?3:-1);}}function It(e,a){if(e&1&&N(0,Pt,4,8,"div",11,ut),e&2){let t=o().$implicit;V(t.items);}}function vt(e,a){if(e&1){let t=A();l(0,"div",3)(1,"div",5),f("click",function(){let n=u(t).$implicit,c=o();return d(c.toggleCategoryCollapse(n.name));}),l(2,"div",6),C(3,"app-icon-key-right",7),l(4,"span",8),S(5),s(),_(6,kt,3,1,"span",9),s(),C(7,"app-items-status",10),s(),_(8,It,2,0),s();}if(e&2){let t=a.$implicit,i=o();T("@animateItems",t),x("aria-label",t.name),r(3),T("@animateChevron",t.collapsed),r(2),F(t.name),r(),p(i.trackWeight()&&t.totalWeight?6:-1),r(),T("count",t.checkedItems)("total",t.totalItems),r(),p(t.collapsed?-1:8);}}var Et=I("animateCategory",[P("* <=> *",[D([g('div[role="list"]:enter',v($),{optional:!0}),g('div[role="list"]:leave',v(M),{optional:!0}),g("@*",[H()],{optional:!0})])])]),yt=I("animateItems",[P("* <=> *",[D([g('div[role="listitem"]:enter',[m({opacity:0,height:0}),h("0.2s ease-in",m({opacity:1,height:"*"}))],{optional:!0}),g('div[role="listitem"]:leave',[m({opacity:1,height:"*"}),h("0.2s ease-in",m({opacity:0,height:0}))],{optional:!0}),g("@*",[H()],{optional:!0})])])]),Lt=I("animateChevron",[R("true",m({transform:"rotate(0)"})),R("false",m({transform:"rotate(90deg)"})),P("false => true",h("0.5s ease-in-out")),P("true => false",h("0.5s ease-in-out",nt([m({transform:"rotate(0)"}),m({transform:"rotate(100deg)"}),m({transform:"rotate(80deg)"})])))]),Ft=I("animateStrikeThrough",[R("true",m({textDecorationColor:"inherit"})),R("false",m({textDecorationColor:"transparent"})),P("false => true",h("0.2s ease-in-out"))]),dt=(()=>{class e{state=E(L);stats=this.state.packlist.stats;packlist=this.state.packlist.model;trackWeight=this.state.config.trackWeight;toggleCategoryCollapse=this.state.packlist.toggleCategoryCollapse;toggleCheckedItem=this.state.packlist.toggleCheckedItem;serializeWeight=O;serializeWeightPartition=q;animationsDisabled=b(!0);constructor(){w(()=>{this.animationsDisabled.set(!this.state.config.animations());});}dblclick(t){this.state.browser.isMobile()||this.state.packlist.toggleSkippedItem(t);}touchAction;touchStart(t){this.state.browser.isMobile()&&(this.touchAction=setTimeout(()=>{this.state.packlist.toggleSkippedItem(t);},800));}touchEnd(){this.touchAction&&clearTimeout(this.touchAction);}static ɵfac=function(i){return new(i||e)();};static ɵcmp=k({type:e,selectors:[["app-display-items"]],decls:4,vars:3,consts:()=>{let t;return t="Keine Gegenst\xE4nde verf\xFCgbar.",[t,[1,"flex","flex-col","items-center"],[1,"contents"],["role","list",1,"card","mb-1","overflow-hidden"],[1,"text-center"],["aria-hidden","true",1,"accessible-content","flex","items-center","justify-between",3,"click"],[1,"flex","items-center","gap-1"],[1,"h-6","w-6"],[1,"font-bold","italic"],[1,"text-sm"],[3,"count","total"],["role","listitem"],["role","checkbox","tabindex","0",1,"flex","select-none","items-center","justify-between",3,"click","keypress","dblclick","touchstart","touchend"],[1,"italic"]];},template:function(i,n){i&1&&(_(0,ft,3,0,"div",1),l(1,"div",2),N(2,vt,9,8,"div",3,ut),s()),i&2&&(p(n.stats().totalItems?-1:0),r(),T("@animateCategory",n.packlist())("@.disabled",n.animationsDisabled()),r(),V(n.packlist()));},dependencies:[mt,rt],encapsulation:2,data:{animation:[Et,yt,Lt,Ft]},changeDetection:0});}return e;})();var Dt=(e,a)=>a.question;function bt(e,a){if(e&1){let t=A();l(0,"div",1)(1,"p",2),G(2,0),l(3,"button",3),f("click",function(){u(t);let n=o();return d(n.goToRulesEdit());}),s(),W(),s()();}}function wt(e,a){e&1&&C(0,"app-icon-checkmark");}function $t(e,a){if(e&1){let t=A();l(0,"div",5),f("click",function(){let n=u(t).$implicit,c=o(2);return d(c.toggleQuestion(n));})("keypress",function(){let n=u(t).$implicit,c=o(2);return d(c.toggleQuestion(n));}),l(1,"span",6),S(2),s(),_(3,wt,1,0,"app-icon-checkmark"),s();}if(e&2){let t=a.$implicit,i=o(2);K("disabled",i.isAnswersLockActive()),x("aria-checked",i.isQuestionActive(t))("aria-disabled",i.isAnswersLockActive())("aria-label",t.question),r(2),F(t.question),r(),p(i.isQuestionActive(t)?3:-1);}}function Mt(e,a){if(e&1&&(l(0,"div"),N(1,$t,4,7,"div",4,Dt),s()),e&2){let t=o();T("@.disabled",t.animationsDisabled())("@animateQuestions",t.displayQuestions()),r(),V(t.displayQuestions());}}var Nt=I("animateQuestions",[P("* <=> *",[D([g("div.card:enter",v($),{optional:!0}),g("div.card:leave",v(M),{optional:!0}),g("app-icon-checkmark:enter",[m({transform:"translateX(200%)"}),h("0.3s ease-in",m({transform:"translateX(0)"}))],{optional:!0})])])]),Ct=(()=>{class e{state=E(L);questions=this.state.active.questions;isQuestionActive=t=>this.state.packlist.answers()[t.variable];isAnswersLockActive=this.state.packlist.answersLocked;displayQuestions=y(()=>this.questions().filter(t=>!this.isAnswersLockActive()||this.isQuestionActive(t)));toggleQuestion=t=>{this.isAnswersLockActive()||this.state.packlist.answers.update(i=>tt(Z({},i),{[t.variable]:!i[t.variable]}));};goToRulesEdit(){this.state.router.go("rules->edit");}animationsDisabled=b(!0);constructor(){w(()=>{this.animationsDisabled.set(!this.state.config.animations());});}static ɵfac=function(i){return new(i||e)();};static ɵcmp=k({type:e,selectors:[["app-display-questions"]],decls:2,vars:1,consts:()=>{let t;return t="Keine Fragen verf\xFCgbar, bitte "+"\uFFFD#3\uFFFD"+" erstelle "+"\uFFFD/#3\uFFFD"+" welche.",[t,[1,"flex","flex-col","items-center"],[1,"text-center"],["type","button",1,"link","inline","p-0","underline",3,"click"],["role","checkbox","tabindex","0",1,"card","mb-1","flex","flex-row","items-center","justify-between","overflow-hidden",3,"disabled"],["role","checkbox","tabindex","0",1,"card","mb-1","flex","flex-row","items-center","justify-between","overflow-hidden",3,"click","keypress"],["aria-hidden","true",1,"select-none","font-bold"]];},template:function(i,n){i&1&&_(0,bt,4,0,"div",1)(1,Mt,3,2,"div"),i&2&&p(n.questions().length?1:0);},dependencies:[U],encapsulation:2,data:{animation:[Nt]},changeDetection:0});}return e;})();function Vt(e,a){e&1&&C(0,"app-icon-lock",8);}function Rt(e,a){e&1&&C(0,"app-icon-lock-open",8);}function Ot(e,a){if(e&1){let t=A();l(0,"button",10),f("click",function(){u(t);let n=o(2);return d(n.statsVisible.set(!n.statsVisible()));}),s();}if(e&2){let t=o(2);x("aria-pressed",t.statsVisible());}}function Kt(e,a){if(e&1){let t=A();l(0,"div",0)(1,"button",7),f("click",function(){u(t);let n=o();return d(n.toggleAnswersLock());})("keypress",function(){u(t);let n=o();return d(n.toggleAnswersLock());}),_(2,Vt,1,0,"app-icon-lock",8)(3,Rt,1,0,"app-icon-lock-open",8),s(),_(4,Ot,1,1,"button",9),s();}if(e&2){let t=o();r(),x("aria-pressed",t.isAnswersLockActive()),r(),p(t.isAnswersLockActive()?2:3),r(2),p(t.trackWeight()?4:-1);}}function Gt(e,a){if(e&1&&(l(0,"div",2),C(1,"cmp-pie-chart",11),s()),e&2){let t=o();r(),T("segments",t.weightStats());}}function Wt(e,a){if(e&1&&C(0,"cmp-progress",4),e&2){let t=o();T("value",t.stats().checkedWeight)("max",t.stats().totalWeight)("animationDuration",t.animationDuration()),x("aria-label",t.statusLabelText());}}function Bt(e,a){if(e&1&&C(0,"cmp-progress",5),e&2){let t=o();T("value",t.stats().checkedItems)("max",t.stats().totalItems)("animationDuration",t.animationDuration()),x("aria-label",t.statusLabelText());}}function Qt(e,a){if(e&1&&(l(0,"span"),S(1),s()),e&2){let t=o();r(),F(t.serializeWeightPartition(t.stats().checkedWeight,t.stats().totalWeight));}}var Ut=I("animateDiagram",[P("* <=> *",[D([g("div.card:enter",v($),{optional:!0}),g("div.card:leave",v(M),{optional:!0})])])]),gt=(()=>{class e{state=E(L);questionsAvailable=y(()=>this.state.active.questions().length>0);isAnswersLockActive=this.state.packlist.answersLocked;trackWeight=this.state.config.trackWeight;stats=this.state.packlist.stats;toggleAnswersLock(){this.state.packlist.answersLocked.update(t=>!t);}serializeWeightPartition=q;statusLabelText=y(()=>{let t=this.stats().totalWeight,i=this.stats().checkedWeight,n=this.stats().checkedItems.toString(),c=this.stats().totalItems.toString();return this.trackWeight()?"Du hast "+O(i,void 0,1)+" von "+O(t,void 0,1)+" gepackt, indem du "+n+" von "+c+" Gegenst\xE4nde gepackt hast.":"Du hast "+n+" von "+c+" Gegenst\xE4nde gepackt.";});animationDuration=b(0);statsVisible=this.state.packlist.weightStatsVisible;weightStats=y(()=>{let t=this.stats().totalWeight;return this.state.packlist.model().map(i=>({name:i.name,value:i.totalWeight/t})).filter(i=>i.value>0);});constructor(){w(()=>{this.animationDuration.set(this.state.config.animations()?500:0);});}static ɵfac=function(i){return new(i||e)();};static ɵcmp=k({type:e,selectors:[["app-packlist-status"]],decls:11,vars:7,consts:()=>{let t;t="Gewicht-Packfortschritt";let i;i="Gegenstandspackfortschritt";let n;n="Antworten sperren";let c;return c="Statistik anzeigen",[[1,"flex","justify-center","gap-x-4"],[1,"contents"],[1,"card","mb-1"],[1,"mb-1","flex"],["title",t,"aria-live","polite",1,"grow",3,"value","max","animationDuration"],["title",i,"aria-live","polite",1,"grow",3,"value","max","animationDuration"],["aria-hidden","true",1,"flex","flex-col","items-center"],["type","button","role","button","aria-label",n,1,"link",3,"click","keypress"],[1,"h-6","w-6"],["iconPieChart","","iconClass","h-6 w-6","type","button","role","button","aria-label",c,1,"link"],["iconPieChart","","iconClass","h-6 w-6","type","button","role","button","aria-label",c,1,"link",3,"click"],["chartClass","max-w-[300px]",3,"segments"]];},template:function(i,n){i&1&&(_(0,Kt,5,3,"div",0),l(1,"div",1),_(2,Gt,2,1,"div",2),s(),l(3,"div",2)(4,"div",3),_(5,Wt,1,4,"cmp-progress",4)(6,Bt,1,4,"cmp-progress",5),s(),l(7,"div",6)(8,"span"),S(9),s(),_(10,Qt,2,1,"span"),s()()),i&2&&(p(n.questionsAvailable()?0:-1),r(),T("@animateDiagram",n.statsVisible()),r(),p(n.statsVisible()?2:-1),r(3),p(n.trackWeight()?5:6),r(4),Q("",n.stats().checkedItems," / ",n.stats().totalItems,""),r(),p(n.trackWeight()?10:-1));},dependencies:[at,st,ot,ct,lt],encapsulation:2,data:{animation:[Ut]},changeDetection:0});}return e;})();function qt(e,a){e&1&&C(0,"app-display-questions")(1,"app-packlist-status")(2,"app-display-items");}function zt(e,a){if(e&1){let t=A();l(0,"div",1)(1,"p",2),G(2,0),l(3,"button",3),f("click",function(){u(t);let n=o();return d(n.goToConfigImport());}),s(),l(4,"button",3),f("click",function(){u(t);let n=o();return d(n.goToRulesEdit());}),s(),W(),s()();}}var Ve=(()=>{class e{state=E(L);rulesAvailable=y(()=>this.state.rules.parsed().length>0);goToRulesEdit(){this.state.router.go("rules->edit");}goToConfigImport(){this.state.router.go("config#import");}static ɵfac=function(i){return new(i||e)();};static ɵcmp=k({type:e,selectors:[["app-packlist"]],decls:2,vars:1,consts:()=>{let t;return t="Keine Regeln verf\xFCgbar, bitte "+"\uFFFD#3\uFFFD"+" importiere "+"[\uFFFD/#3\uFFFD|\uFFFD/#4\uFFFD]"+" oder "+"\uFFFD#4\uFFFD"+" erstelle "+"[\uFFFD/#3\uFFFD|\uFFFD/#4\uFFFD]"+" welche.",t=it(t),[t,[1,"flex","flex-col","items-center"],[1,"text-center"],["type","button",1,"link","inline","p-0","underline",3,"click"]];},template:function(i,n){i&1&&_(0,qt,3,0)(1,zt,5,0,"div",1),i&2&&p(n.rulesAvailable()?0:1);},dependencies:[dt,Ct,gt],encapsulation:2,changeDetection:0});}return e;})();export{Ve as PacklistComponent};/**i18n:14d9dda96f8b1cc78a5c1f627e7f4001f725ee96fc4e32e9e8f03011a063420a*/