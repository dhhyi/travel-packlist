import"./chunk-bd3096b6.js";import"./chunk-92453d5d.js";import{c as Pe,d as ne,e as ke,g as I,j as se,k as Re,m as ae,n as M}from"./chunk-1edbf0ad.js";import{a as N}from"./chunk-4bb36d77.js";import{a as Ge,b as g}from"./chunk-e142b0f8.js";import{m as xe,r as De,w as Fe,z as Ve}from"./chunk-a92fdc47.js";import{n as je,p as We,q as Ue,r as $e,s as l}from"./chunk-8dc8e53f.js";import{a as Q}from"./chunk-88d5c091.js";import{a as Be}from"./chunk-6fad3c7b.js";import{a as Z,h as Ce,i as Se,l as Ie,m as q,o as Me,p as k,q as Ne,r as Le,s as Oe}from"./chunk-0e95d309.js";import{A as T,B as d,Ba as fe,Bb as f,Cb as y,Db as oe,Ea as ge,Fa as _e,Fb as X,G as E,Kb as Te,Ob as A,Pb as K,Q as m,T as W,Ta as S,V as me,Wa as ye,X as c,Za as we,_ as U,aa as ee,ba as s,c as D,ca as $,e as F,eb as be,h as V,ia as G,ja as B,jb as Ae,ma as C,nb as _,nc as Ee,oa as he,pb as ie,pc as Y,r as h,ra as H,rb as re,tb as ve,uc as P,vc as w,wa as te,wb as z,y as j,z as ue}from"./chunk-b4a1f340.js";import{a as de}from"./chunk-ecf0d82d.js";function at(i,o){if(i&1){let e=X();f(0,"button",12),A("click",function(){G(e);let r=K();return B(r.go("rules-documentation"));}),y();}}function lt(i,o){if(i&1){let e=X();f(0,"button",13),A("click",function(){G(e);let r=K();return B(r.go("back"));}),y();}}function ct(i,o){if(i&1){let e=X();f(0,"button",14),A("click",function(){G(e);let r=K();return B(r.go("config"));}),y();}}var He=Re([M(":enter, :leave",I({position:"fixed",width:`${(Math.min(window.innerWidth,600)-18).toFixed(0)}px`}),{optional:!0}),M(":enter",I({opacity:0,transform:"{{ from }}"}),{optional:!0}),ke([M(":leave",[ne("{{ duration }}",I({opacity:0,transform:"{{ to }}"}))],{optional:!0}),M(":enter",[ne("{{ duration }}",I({opacity:1,transform:"translateX(0) translateY(0) scale(1)"}))],{optional:!0})])],{params:{duration:"0.3s ease-in-out"}}),pt=Pe("routeTransition",[se(":decrement",[ae(He,{params:{from:"translateX(-100%) scale(1)",to:"translateX(100%) scale(0.9)"}})]),se(":increment",[ae(He,{params:{from:"translateX(100%) scale(1)",to:"translateX(-100%) scale(0.9)"}})])]),ze=(()=>{class i{state=s(l);overlayVisible=te(!1);router=s(k);routeData=Ie(this.router.events.pipe(d(e=>e instanceof q),h(()=>this.router.routerState.root.snapshot.firstChild?.data)));hierarchy=P(()=>this.routeData()?.hierarchy);scrollTopVisible=P(()=>this.state.browser.scrollY()>100);disableAnimations=te(!0);displayRuleHelpLink=P(()=>this.routeData()?.ruleHelp);displayConfigLink=P(()=>this.routeData()?.config);displayHistoryBackLink=P(()=>this.routeData()?.historyBack);constructor(){_e(()=>{this.disableAnimations.set(!this.state.config.animations());});}scrollTop(){window.scrollTo({top:0,behavior:"smooth"});}go=this.state.router.go;static ɵfac=function(t){return new(t||i)();};static ɵcmp=be({type:i,selectors:[["app-root"]],hostAttrs:[1,"flex","h-full","flex-col"],decls:13,vars:9,consts:()=>{let e;e="Go to TravelPacklist";let t;t="Go to rules format help";let r;r="Go back";let n;n="Go to configuration";let a;a="Scroll to top";let p;return p="TravelPacklist",[p,["role","navigation",1,"flex","h-[3rem]","min-h-[3rem]","flex-row","items-center","pb-2",3,"inert"],["type","button","aria-label",e,"role","banner",1,"link","grow","justify-start","pl-0",3,"click"],["aria-hidden","true","src","icon.svg",1,"h-8"],[1,"text-xl","font-bold"],["iconHelp","","iconClass","h-6 w-6","type","button","role","link","aria-label",t,1,"link","pr-2"],["iconArrowBack","","iconClass","h-6 w-6","type","button","role","link","aria-label",r,1,"link","pr-2"],["iconCog","","iconClass","h-6 w-6","type","button","role","link","aria-label",n,1,"link","pr-2"],[1,"flex","grow","flex-col","pb-[3.5rem]",3,"inert"],[1,"fixed","bottom-2","left-1/2","-translate-x-1/2"],["iconArrowUpward","","iconClass","h-6 w-6","type","button","aria-label",a,1,"flex","w-full","items-center","justify-center","rounded-3xl","border","border-slate-700","shadow-xl","dark:border-slate-300",3,"click"],[3,"overlayVisible"],["iconHelp","","iconClass","h-6 w-6","type","button","role","link","aria-label",t,1,"link","pr-2",3,"click"],["iconArrowBack","","iconClass","h-6 w-6","type","button","role","link","aria-label",r,1,"link","pr-2",3,"click"],["iconCog","","iconClass","h-6 w-6","type","button","role","link","aria-label",n,1,"link","pr-2",3,"click"]];},template:function(t,r){t&1&&(f(0,"nav",1)(1,"button",2),A("click",function(){return r.go("packlist");}),oe(2,"img",3),f(3,"h1",4),Te(4,0),y()(),Ae(5,at,1,0,"button",5)(6,lt,1,0,"button",6)(7,ct,1,0,"button",7),y(),f(8,"div",8),oe(9,"router-outlet"),f(10,"div",9)(11,"button",10),A("click",function(){return r.scrollTop();}),y()()(),f(12,"app-dialog",11),A("overlayVisible",function(a){return r.overlayVisible.set(a);}),y()),t&2&&(re("inert",r.overlayVisible()),S(5),z(r.displayRuleHelpLink()?5:-1),S(),z(r.displayHistoryBackLink()?6:-1),S(),z(r.displayConfigLink()?7:-1),S(),re("@routeTransition",r.hierarchy())("@.disabled",r.disableAnimations())("inert",r.overlayVisible()),S(2),ve("hidden",!r.scrollTopVisible()));},dependencies:[Me,De,Ge,Fe,Ve,xe],encapsulation:2,data:{animation:[pt]},changeDetection:0});}return i;})();var dt="@",ut=(()=>{class i{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=s(C);loadingSchedulerFn=s(mt,{optional:!0});_engine;constructor(e,t,r,n,a){this.doc=e,this.delegate=t,this.zone=r,this.animationType=n,this.moduleImpl=a;}ngOnDestroy(){this._engine?.flush();}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-7e011a9a.js").then(r=>r),t;return this.loadingSchedulerFn?t=this.loadingSchedulerFn(e):t=e(),t.catch(r=>{throw new me(5300,!1);}).then(({ɵcreateEngine:r,ɵAnimationRendererFactory:n})=>{this._engine=r(this.animationType,this.doc);let a=new n(this.delegate,this._engine,this.zone);return this.delegate=a,a;});}createRenderer(e,t){let r=this.delegate.createRenderer(e,t);if(r.ɵtype===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let n=new le(r);return t?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let p=a.createRenderer(e,t);n.use(p),this.scheduler??=this.injector.get(he,null,{optional:!0}),this.scheduler?.notify(10);}).catch(a=>{n.use(r);}),n;}begin(){this.delegate.begin?.();}end(){this.delegate.end?.();}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve();}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e);}static ɵfac=function(t){we();};static ɵprov=c({token:i,factory:i.ɵfac});}return i;})(),le=class{delegate;replay=[];ɵtype=1;constructor(o){this.delegate=o;}use(o){if(this.delegate=o,this.replay!==null){for(let e of this.replay)e(o);this.replay=null;}}get data(){return this.delegate.data;}destroy(){this.replay=null,this.delegate.destroy();}createElement(o,e){return this.delegate.createElement(o,e);}createComment(o){return this.delegate.createComment(o);}createText(o){return this.delegate.createText(o);}get destroyNode(){return this.delegate.destroyNode;}appendChild(o,e){this.delegate.appendChild(o,e);}insertBefore(o,e,t,r){this.delegate.insertBefore(o,e,t,r);}removeChild(o,e,t){this.delegate.removeChild(o,e,t);}selectRootElement(o,e){return this.delegate.selectRootElement(o,e);}parentNode(o){return this.delegate.parentNode(o);}nextSibling(o){return this.delegate.nextSibling(o);}setAttribute(o,e,t,r){this.delegate.setAttribute(o,e,t,r);}removeAttribute(o,e,t){this.delegate.removeAttribute(o,e,t);}addClass(o,e){this.delegate.addClass(o,e);}removeClass(o,e){this.delegate.removeClass(o,e);}setStyle(o,e,t,r){this.delegate.setStyle(o,e,t,r);}removeStyle(o,e,t){this.delegate.removeStyle(o,e,t);}setProperty(o,e,t){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(o,e,t)),this.delegate.setProperty(o,e,t);}setValue(o,e){this.delegate.setValue(o,e);}listen(o,e,t,r){return this.shouldReplay(e)&&this.replay.push(n=>n.listen(o,e,t,r)),this.delegate.listen(o,e,t,r);}shouldReplay(o){return this.replay!==null&&o.startsWith(dt);}},mt=new U("");function Xe(i="animations"){return ge("NgAsyncAnimations"),$([{provide:ye,useFactory:(o,e,t)=>new ut(o,e,t,i),deps:[Z,Ce,H]},{provide:fe,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}]);}var L="Service workers are disabled or not supported by this browser",R=class{serviceWorker;worker;registration;events;constructor(o,e){if(this.serviceWorker=o,!o)this.worker=this.events=this.registration=new F(t=>t.error(new Error(L)));else{let t=null,r=new V();this.worker=new F(b=>(t!==null&&b.next(t),r.subscribe(x=>b.next(x))));let n=()=>{let{controller:b}=o;b!==null&&(t=b,r.next(t));};o.addEventListener("controllerchange",n),n(),this.registration=this.worker.pipe(m(()=>o.getRegistration()));let a=new V();this.events=a.asObservable();let p=b=>{let{data:x}=b;x?.type&&a.next(x);};o.addEventListener("message",p),e?.get(ie,null,{optional:!0})?.onDestroy(()=>{o.removeEventListener("controllerchange",n),o.removeEventListener("message",p);});}}postMessage(o,e){return new Promise(t=>{this.worker.pipe(E(1)).subscribe(r=>{r.postMessage(de({action:o},e)),t();});});}postMessageWithOperation(o,e,t){let r=this.waitForOperationCompleted(t),n=this.postMessage(o,e);return Promise.all([n,r]).then(([,a])=>a);}generateNonce(){return Math.round(Math.random()*1e7);}eventsOfType(o){let e;return typeof o=="string"?e=t=>t.type===o:e=t=>o.includes(t.type),this.events.pipe(d(e));}nextEventOfType(o){return this.eventsOfType(o).pipe(E(1));}waitForOperationCompleted(o){return new Promise((e,t)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(d(r=>r.nonce===o),E(1),h(r=>{if(r.result!==void 0)return r.result;throw new Error(r.error);})).subscribe({next:e,error:t});});}get isEnabled(){return!!this.serviceWorker;}},ht=(()=>{class i{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled;}pushManager=null;subscriptionChanges=new V();constructor(e){if(this.sw=e,!e.isEnabled){this.messages=T,this.notificationClicks=T,this.subscription=T;return;}this.messages=this.sw.eventsOfType("PUSH").pipe(h(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(h(r=>r.data)),this.pushManager=this.sw.registration.pipe(h(r=>r.pushManager));let t=this.pushManager.pipe(m(r=>r.getSubscription()));this.subscription=new F(r=>{let n=t.subscribe(r),a=this.subscriptionChanges.subscribe(r);return()=>{n.unsubscribe(),a.unsubscribe();};});}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(L));let t={userVisibleOnly:!0},r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),n=new Uint8Array(new ArrayBuffer(r.length));for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return t.applicationServerKey=n,new Promise((a,p)=>{this.pushManager.pipe(m(u=>u.subscribe(t)),E(1)).subscribe({next:u=>{this.subscriptionChanges.next(u),a(u);},error:p});});}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(L));let e=t=>{if(t===null)throw new Error("Not subscribed to push notifications.");return t.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null);});};return new Promise((t,r)=>{this.subscription.pipe(E(1),m(e)).subscribe({next:t,error:r});});}decodeBase64(e){return atob(e);}static ɵfac=function(t){return new(t||i)(ee(R));};static ɵprov=c({token:i,factory:i.ɵfac});}return i;})(),ce=(()=>{class i{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled;}constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=T,this.unrecoverable=T;return;}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE");}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(L));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e);}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(L));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e);}static ɵfac=function(t){return new(t||i)(ee(R));};static ɵprov=c({token:i,factory:i.ɵfac});}return i;})();var Ye=new U("");function ft(){let i=s(O);if(!("serviceWorker"in navigator&&i.enabled!==!1))return;let o=s(Ye),e=s(H),t=s(ie);e.runOutsideAngular(()=>{let r=navigator.serviceWorker,n=()=>r.controller?.postMessage({action:"INITIALIZE"});r.addEventListener("controllerchange",n),t.onDestroy(()=>{r.removeEventListener("controllerchange",n);});}),e.runOutsideAngular(()=>{let r,{registrationStrategy:n}=i;if(typeof n=="function")r=new Promise(a=>n().subscribe(()=>a()));else{let[a,...p]=(n||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":r=Promise.resolve();break;case"registerWithDelay":r=Ke(+p[0]||0);break;case"registerWhenStable":r=Promise.race([t.whenStable(),Ke(+p[0])]);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${i.registrationStrategy}`);}}r.then(()=>navigator.serviceWorker.register(o,{scope:i.scope}).catch(a=>console.error("Service worker registration failed with:",a)));});}function Ke(i){return new Promise(o=>setTimeout(o,i));}function gt(i,o){return new R(i.enabled!==!1?navigator.serviceWorker:void 0,o);}var O=class{enabled;scope;registrationStrategy;};function Ze(i,o={}){return $([ht,ce,{provide:Ye,useValue:i},{provide:O,useValue:o},{provide:R,useFactory:gt,deps:[O,C]},_(ft)]);}var qe=!1,Qe=async()=>{let i=s(l).rules.parsed.value();if(!qe&&i.rulesContainComments){let o=await g("The current rules contain comments. Editing them with the graphical editor will discard these comments. Do you want to proceed?");return o&&(qe=!0),o;}return!0;};var pe=()=>{if(s(l).rules.hasError()){let o=s(k),e=o.getCurrentNavigation()?.finalUrl;return o.navigate(["/rules-error"],{browserUrl:e});}else return!0;};var _t=[{path:"",redirectTo:"/packlist",pathMatch:"full"},{path:"packlist",loadComponent:()=>import("./chunk-f64b4f6e.js").then(i=>i.PacklistComponent),canActivate:[pe],data:{hierarchy:0,config:!0}},{path:"config",loadComponent:()=>import("./chunk-d33798df.js").then(i=>i.ConfigComponent),data:{hierarchy:1}},{path:"rules",loadComponent:()=>import("./chunk-8a40fc63.js").then(i=>i.RulesComponent),canActivate:[pe,Qe],data:{hierarchy:2,config:!0}},{path:"rules-raw",loadComponent:()=>import("./chunk-8cde1deb.js").then(i=>i.EditRulesRawComponent),data:{hierarchy:2,config:!0,ruleHelp:!0}},{path:"rules-error",loadComponent:()=>import("./chunk-625256ec.js").then(i=>i.RulesErrorComponent),data:{hierarchy:2,config:!0}},{path:"documentation/:topic",loadComponent:()=>import("./chunk-a38edcfe.js").then(i=>i.DocumentationComponent),data:{hierarchy:3,historyBack:!0}},{path:"**",redirectTo:"/packlist"}],Je=()=>Ne(_t,Le(),Oe());var et=(()=>{class i{state=s(l);document=s(Z);init(){w(()=>{this.applyTheme(this.state.config.theme());}),w(()=>{this.applyLanguage(this.state.config.preferredLanguage());}),w(()=>{this.applyFontSize(this.state.config.fontSize());}),w(()=>{this.applyAccessibilityClass(this.state.config.accessibility());}),w(()=>{this.applyAnimationClass(this.state.config.animations());});}applyTheme(e){let t=window.matchMedia("(prefers-color-scheme: dark)").matches;e==="system"&&t||e==="dark"?this.document.documentElement.classList.add("dark"):this.document.documentElement.classList.remove("dark");}applyLanguage(e){if(e&&this.document.documentElement.lang!==e){if(Y()){console.warn("Language switching is disabled in dev mode");return;}let t=window.location.href,r=window.location.hash,n=`index${e==="en"?"":`.${e}`}.html`,p=t.substring(0,t.indexOf(r))+n+window.location.hash;setTimeout(()=>{window.location.href=p;},0);}}applyFontSize(e){document.documentElement.style.setProperty("--html-font-size",e==="small"?"16px":e==="normal"?"18px":"20px");}applyAccessibilityClass(e){document.documentElement.classList.remove("accessible","compact"),document.documentElement.classList.add(e);}applyAnimationClass(e){document.documentElement.classList.toggle("animations",e);}static ɵfac=function(t){return new(t||i)();};static ɵprov=c({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();var tt=(()=>{class i{swUpdate=s(ce);status=s(l).serviceWorker.status;init(){ue(this.swUpdate.versionUpdates,this.swUpdate.unrecoverable).pipe(W(e=>{if(e.type==="VERSION_INSTALLATION_FAILED")this.status.set("error"),console.error(`Version installation failed
`,e.error);else if(e.type==="NO_NEW_VERSION_DETECTED")this.status.set("ok");else if(e.type==="VERSION_READY"||e.type==="VERSION_DETECTED")this.status.set("update-available");else{let t=e;this.status.set("unrecoverable"),console.error(`Unrecoverable state
`,t.reason);}}),d(e=>e.type==="VERSION_READY"),m(()=>g("A new version of the app is available. Do you want to reload?")),d(D)).subscribe(()=>{window.location.reload();}),this.swUpdate.isEnabled?j(6e4).pipe(m(()=>this.swUpdate.checkForUpdate())).subscribe(e=>{e&&console.log("Update available");}):(this.status.set("disabled"),console.warn("Service worker updates are disabled/unavailable"));}static ɵfac=function(t){return new(t||i)();};static ɵprov=c({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();var yt=Q("Filesystem",{web:()=>import("./chunk-2e93f5b6.js").then(i=>new i.FilesystemWeb())});var wt=Q("Share",{web:()=>import("./chunk-69f9f200.js").then(i=>new i.ShareWeb())});var J=class extends N{async webShareRules(){if(this.state.rules.raw.hasValue()){let o=this.state.rules.raw.value(),e=this.exportFileName();await navigator.share({title:e,files:[new File([o],e,{type:"text/plain"})]});}}downloadRules(){if(this.state.rules.raw.hasValue()){let o=this.state.rules.raw.value(),e=new Blob([o],{type:"text/plain"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=this.exportFileName(),r.click();}}async exportRules(){this.state.browser.isMobile()&&"share"in navigator?await this.webShareRules():this.downloadRules();}};var rt=(()=>{class i{state=s(l);exportNeeded=this.state.rules.exportNeeded;reminderActive=this.state.config.exportReminder;lastAskedHash=[];init(){j(3e4).pipe(d(()=>this.reminderActive()&&this.exportNeeded()&&this.exportOverdue()&&this.enoughTimeSinceLastEditPassed()),h(()=>this.state.rules.hash()),d(e=>!this.lastAskedHash.includes(e)),W(e=>{this.lastAskedHash.push(e);}),m(()=>g("The current rules haven't been exported for some time now. Do you want to export them now?")),d(D)).subscribe(()=>{this.state.router.go("config#export");});}exportOverdue(){let e=this.state.export.lastDate();return new Date().getTime()-(e??0)>it(10);}enoughTimeSinceLastEditPassed(){let e=this.state.rules.lastAction();return new Date().getTime()-e>it(2);}static ɵfac=function(t){return new(t||i)();};static ɵprov=c({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();function it(i){return i*60*1e3;}var ot=(()=>{class i{state=s(l);router=s(k);init(){this.router.events.pipe(d(e=>e instanceof q)).subscribe(()=>{let e=this.state.router.fragment();e&&setTimeout(()=>{let t=document.getElementById(e);t&&(t.getBoundingClientRect().top>window.innerHeight&&t.scrollIntoView({behavior:"smooth",block:"center"}),t instanceof HTMLButtonElement&&t.classList.add("highlighted"),t.classList.add("animate-pulse"),setTimeout(()=>{t.classList.remove("highlighted"),t.classList.remove("animate-pulse");},5e3),setTimeout(()=>{this.state.router.fragment.set(void 0);},500));},100);});}static ɵfac=function(t){return new(t||i)();};static ɵprov=c({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();var nt=(()=>{class i{state=s(l);refactor=s(We);percentageOfItemsWithWeights=()=>{if(this.state.rules.parsed.value().length>0){let{items:e,weights:t}=this.refactor.countItemsAndWeights(this.state.rules.parsed.value());return t/e;}return 0;};askedFor=this.state.packlist.askedWeightTracking;async promptEnableWeightTracking(){!this.state.config.trackWeight()&&this.percentageOfItemsWithWeights()>.1&&this.askedFor()!=="activation"&&(this.askedFor.set("activation"),(await g("The loaded rules contain items with weights. Would you like to enable weight tracking?"))&&(this.state.config.trackWeight.set(!0),this.state.config.categorySorting.set("weight")));}async promptDisableWeightTracking(){this.state.config.trackWeight()&&this.percentageOfItemsWithWeights()<=0&&this.askedFor()!=="deactivation"&&(this.askedFor.set("deactivation"),(await g("The loaded rules contain no items with weights. Would you like to disable weight tracking?"))&&this.state.config.trackWeight.set(!1));}init(){let e;w(()=>{this.state.rules.parsed.value(),e&&clearTimeout(e),this.state.router.path().startsWith("/packlist")&&(e=setTimeout(()=>{this.promptEnableWeightTracking(),this.promptDisableWeightTracking();},2e3));});}static ɵfac=function(t){return new(t||i)();};static ɵprov=c({token:i,factory:i.ɵfac,providedIn:"root"});}return i;})();function bt(i){return{isTrackWeight:()=>i.get(l).config.trackWeight()};}var st={providers:[Ee(),Je(),Ze("ngsw-worker.js",{enabled:!Y()&&!0,registrationStrategy:"registerImmediately"}),Xe(),_(()=>{s(et).init();}),_(()=>{s(tt).init();}),_(()=>{s(rt).init();}),_(()=>{s(nt).init();}),_(()=>{s(ot).init();}),{deps:[C],provide:je,useFactory:bt},{provide:N,useClass:J},Be(),Ue(),{provide:$e,useValue:"cors"}]};Se(ze,st).catch(i=>{console.error(i);});/**i18n:28a3168b76bee7dffc4b1e816012f24aa421b4da90b9b896cc67ce89fdf6fb94*/