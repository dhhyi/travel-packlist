import{f as Z,g as ee,h as te,i as ie,q as R}from"./chunk-9433fdab.js";import{b as O,q as V}from"./chunk-78bf46a1.js";import{d as J}from"./chunk-febce904.js";import{$a as d,Aa as c,Ab as M,Eb as Q,Fb as x,Gb as f,Ib as U,Ka as I,Pa as p,Tb as h,W as B,Wa as b,Xa as F,Ya as z,aa as T,ab as X,cb as v,cc as H,db as D,eb as r,fb as l,gb as u,ia as g,ib as P,ja as C,jb as w,kb as N,lb as q,ob as j,pb as k,qb as o,ta as Y,xb as S,yb as E,zb as $}from"./chunk-392589c5.js";import{a as K,b as W}from"./chunk-fde9b292.js";function ce(t,a){t&1&&u(0,"app-icon-checkmark");}function le(t,a){if(t&1&&S(0),t&2){let e=o();M(" ",e.count()," / ",e.total(),`
`);}}var ne=(()=>{class t{count=Y(0);total=Y(0);static ɵfac=function(i){return new(i||t)();};static ɵcmp=I({type:t,selectors:[["app-status"]],inputs:{count:[1,"count"],total:[1,"total"]},decls:2,vars:1,template:function(i,n){i&1&&p(0,ce,1,0,"app-icon-checkmark")(1,le,1,2),i&2&&d(n.count()===n.total()?0:1);},dependencies:[R],encapsulation:2,changeDetection:0});}return t;})();function oe(t){return`${t.category}-${t.name}`;}var L=(()=>{class t{router=T(J);state=T(V);checkedItems=this.state.signal("checkedItems");collapsedCategories=this.state.signal("collapsedCategories");isItemChecked(e){return this.checkedItems().includes(oe(e));}isCategoryCollapsed(e){return this.collapsedCategories().includes(e);}toggleCheckedItem(e){let i=oe(e);this.checkedItems().includes(i)?this.checkedItems.update(n=>n.filter(s=>s!==i)):this.checkedItems.update(n=>[...n,i]);}toggleCategoryCollapse(e){this.collapsedCategories().includes(e)?this.collapsedCategories.update(i=>i.filter(n=>n!==e)):this.collapsedCategories.update(i=>[...i,e]);}categoriesOrderBy=h(()=>this.state.signal("categorySorting")()==="definition"?()=>0:(i,n)=>i().localeCompare(n()));packlist=h(()=>{let e=this.state.signal("activeItems")(),i=0,n=0,s=0,A=e.reduce((m,_)=>(m[_.category]||(m[_.category]={items:[],checked:0,collapsed:this.isCategoryCollapsed(_.category),totalWeight:0,checkedWeight:0}),m[_.category].items.push(W(K({},_),{checked:this.isItemChecked(_)})),this.isItemChecked(_)&&(i++,m[_.category].checked++,n+=_.weight??0,m[_.category].checkedWeight+=_.weight??0),m[_.category].totalWeight+=_.weight??0,s+=_.weight??0,m),{}),y=Object.entries(A);return y.sort((m,_)=>this.categoriesOrderBy()(()=>m[0],()=>_[0])),{numberOfItems:e.length,categories:y,checked:i,checkedWeight:n,totalWeight:s};});rulesAvailable=h(()=>this.state.signal("numberOfRules")()>0);isAnswersLockActive=this.state.signal("answersLocked");model=this.state.signal("answers");activeQuestions=this.state.signal("activeQuestions");questions=h(()=>this.activeQuestions().filter(e=>!this.isAnswersLockActive()||this.model()[e.variable]));questionsAvailable=h(()=>this.activeQuestions().length>0);toggleQuestion(e){this.isAnswersLockActive()||this.model.update(i=>W(K({},i),{[e.variable]:!i[e.variable]}));}isQuestionActive(e){return this.model()[e.variable];}toggleAnswersLock(){this.isAnswersLockActive.update(e=>!e);}goToRulesEdit(){this.router.navigate(["/rules"]).then(()=>{this.state.set("rulesMode","edit");});}goToConfigImport(){this.router.navigate(["/config"],{fragment:"import"});}static ɵfac=function(i){return new(i||t)();};static ɵprov=B({token:t,factory:t.ɵfac,providedIn:"root"});}return t;})();var re=(t,a)=>a[0],_e=t=>({"text-slate-600 line-through dark:text-slate-400":t});function pe(t,a){if(t&1&&(r(0,"div",3),u(1,"progress",4),l(),r(2,"div",2)(3,"span",5),S(4),l(),r(5,"span",6),S(6),l()()),t&2){let e=o(),i=f(1),n=f(2),s=f(3),A=f(4);c(),F("value",s)("max",A),c(3),M("",i," / ",n,""),c(2),E(e.serializeWeightPartition(s,A));}}function de(t,a){if(t&1&&(r(0,"div",3),u(1,"progress",7),l(),r(2,"div",8)(3,"span",9),S(4),l()()),t&2){o();let e=f(1),i=f(2);c(),F("value",e)("max",i),c(3),M("",e," / ",i,"");}}function me(t,a){t&1&&(r(0,"div",2)(1,"p",10),q(2,0),l()());}function ue(t,a){t&1&&u(0,"app-icon-key-right",13);}function ge(t,a){t&1&&u(0,"app-icon-key-down",13);}function Ce(t,a){if(t&1&&S(0),t&2){o(2);let e=f(1),i=o();$(" (",i.serializeWeight(e.checkedWeight,void 0,1),") ");}}function Se(t,a){if(t&1&&S(0),t&2){o(2);let e=f(1),i=o();$(" (",i.serializeWeightPartition(e.checkedWeight,e.totalWeight),") ");}}function fe(t,a){if(t&1&&(r(0,"span",15),p(1,Ce,1,1)(2,Se,1,1),l()),t&2){o();let e=f(1);c(),d(e.checkedWeight===e.totalWeight?1:2);}}function Te(t,a){if(t&1&&(r(0,"span",20),S(1),l()),t&2){let e=o().$implicit,i=o(3);c(),E(i.serializeWeight(e.weight));}}function ke(t,a){if(t&1){let e=P();r(0,"li",19),k("click",function(){let n=g(e).$implicit,s=o(3);return C(s.facade.toggleCheckedItem(n));})("keypress",function(){let n=g(e).$implicit,s=o(3);return C(s.facade.toggleCheckedItem(n));}),S(1),p(2,Te,2,1,"span",20),l();}if(t&2){let e=a.$implicit,i=o(3);F("ngClass",U(4,_e,e.checked)),b("aria-pressed",e.checked),c(),$(" ",e.name," "),c(),d(e.weight&&i.trackWeight()?2:-1);}}function Pe(t,a){if(t&1&&(r(0,"ul",17),v(1,ke,3,6,"li",18,X),l()),t&2){o();let e=f(1);c(),D(e.items);}}function Ie(t,a){if(t&1){let e=P();Q(0)(1),r(2,"div",1)(3,"div",11),k("click",function(){g(e);let n=f(0),s=o();return C(s.facade.toggleCategoryCollapse(n));})("keypress",function(){g(e);let n=f(0),s=o();return C(s.facade.toggleCategoryCollapse(n));}),r(4,"div",12),p(5,ue,1,0,"app-icon-key-right",13)(6,ge,1,0,"app-icon-key-down",13),r(7,"span",14),S(8),l(),p(9,fe,3,1,"span",15),l(),u(10,"app-status",16),l(),p(11,Pe,3,0,"ul",17),l();}if(t&2){let e=a.$implicit,i=o(),n=x(e[0]);c();let s=x(e[1]);c(4),d(s.collapsed?5:6),c(3),E(n),c(),d(i.trackWeight()&&s.totalWeight?9:-1),c(),F("count",s.checked)("total",s.items.length),c(),d(s.collapsed?-1:11);}}var ae=(()=>{class t{state=T(V);facade=T(L);trackWeight=this.state.signal("trackWeight");serializeWeight=O;serializeWeightPartition(e,i){return O(e,void 0,1)+" / "+O(i,void 0,1);}static ɵfac=function(i){return new(i||t)();};static ɵcmp=I({type:t,selectors:[["app-display-items"]],decls:10,vars:6,consts:()=>{let e;e="weight packing progress";let i;i="item packing status";let n;n="weight packing status";let s;s="item packing progress";let A;A="item packing status";let y;return y="No items available.",[y,[1,"card","mb-1"],[1,"flex","flex-col","items-center"],[1,"mb-1","flex"],["role","progressbar","title",e,1,"grow",3,"value","max"],["title",i,"aria-live","polite"],["title",n,"aria-live","polite"],["role","progressbar","title",s,1,"grow",3,"value","max"],[1,"flex","justify-center"],["title",A,"aria-live","polite"],[1,"text-center"],["role","button","tabindex","0",1,"flex","justify-between",3,"click","keypress"],[1,"flex","items-center","gap-1"],[1,"h-6","w-6"],[1,"font-bold","italic"],[1,"text-sm"],[3,"count","total"],[1,"pt-2"],["role","button","tabindex","0",1,"flex","justify-between",3,"ngClass"],["role","button","tabindex","0",1,"flex","justify-between",3,"click","keypress","ngClass"],[1,"italic"]];},template:function(i,n){i&1&&(r(0,"div",1),Q(1)(2)(3)(4),p(5,pe,7,5)(6,de,5,4),l(),p(7,me,3,0,"div",2),v(8,Ie,12,8,"div",1,re)),i&2&&(c(),x(n.facade.packlist().checked),c(),x(n.facade.packlist().numberOfItems),c(),x(n.facade.packlist().checkedWeight),c(),x(n.facade.packlist().totalWeight),c(),d(n.trackWeight()?5:6),c(2),d(n.facade.packlist().numberOfItems?-1:7),c(),D(n.facade.packlist().categories));},dependencies:[ne,H,ie,te],styles:["progress[_ngcontent-%COMP%]::-webkit-progress-bar{border:2px solid #ccc;border-radius:5px;background-color:transparent}progress[_ngcontent-%COMP%]::-webkit-progress-value{background-color:#999;border-radius:3px}"],changeDetection:0});}return t;})();var Ae=(t,a)=>a.question;function xe(t,a){if(t&1){let e=P();r(0,"div",1)(1,"p",2),w(2,0),r(3,"button",3),k("click",function(){g(e);let n=o();return C(n.facade.goToRulesEdit());}),l(),N(),l()();}}function Ee(t,a){t&1&&u(0,"app-icon-checkmark");}function he(t,a){if(t&1){let e=P();r(0,"div",8),k("click",function(){let n=g(e).$implicit,s=o(2);return C(s.facade.toggleQuestion(n));})("keypress",function(){let n=g(e).$implicit,s=o(2);return C(s.facade.toggleQuestion(n));}),r(1,"span",9),S(2),l(),p(3,Ee,1,0,"app-icon-checkmark"),l();}if(t&2){let e=a.$implicit,i=o(2);z("disabled",i.facade.isAnswersLockActive()),b("aria-checked",i.facade.isQuestionActive(e)),c(2),E(e.question),c(),d(i.facade.isQuestionActive(e)?3:-1);}}function Le(t,a){t&1&&u(0,"app-icon-lock",7);}function ye(t,a){t&1&&u(0,"app-icon-lock-open",7);}function Fe(t,a){if(t&1){let e=P();v(0,he,4,5,"div",4,Ae),r(2,"div",5)(3,"button",6),k("click",function(){g(e);let n=o();return C(n.facade.toggleAnswersLock());}),p(4,Le,1,0,"app-icon-lock",7)(5,ye,1,0,"app-icon-lock-open",7),l()();}if(t&2){let e=o();D(e.facade.questions()),c(4),d(e.facade.isAnswersLockActive()?4:5);}}var se=(()=>{class t{facade=T(L);static ɵfac=function(i){return new(i||t)();};static ɵcmp=I({type:t,selectors:[["app-display-questions"]],decls:2,vars:1,consts:()=>{let e;return e=" No questions available, please "+"\uFFFD#3\uFFFD"+" create "+"\uFFFD/#3\uFFFD"+" some. ",[e,[1,"flex","flex-col","items-center"],[1,"text-center"],["type","button",1,"link","inline","p-0","underline",3,"click"],["role","checkbox","tabindex","0",1,"card","mb-1","flex","flex-row","justify-between",3,"disabled"],[1,"flex","justify-center"],["type","button",1,"link",3,"click"],[1,"h-6","w-6"],["role","checkbox","tabindex","0",1,"card","mb-1","flex","flex-row","justify-between",3,"click","keypress"],[1,"font-bold"]];},template:function(i,n){i&1&&p(0,xe,4,0,"div",1)(1,Fe,6,1),i&2&&d(n.facade.questionsAvailable()?1:0);},dependencies:[Z,ee,R],encapsulation:2,changeDetection:0});}return t;})();function ve(t,a){t&1&&u(0,"app-display-questions")(1,"app-display-items");}function De(t,a){if(t&1){let e=P();r(0,"div",1)(1,"p",2),w(2,0),r(3,"button",3),k("click",function(){g(e);let n=o();return C(n.facade.goToConfigImport());}),l(),r(4,"button",3),k("click",function(){g(e);let n=o();return C(n.facade.goToRulesEdit());}),l(),N(),l()();}}var pt=(()=>{class t{facade=T(L);static ɵfac=function(i){return new(i||t)();};static ɵcmp=I({type:t,selectors:[["app-packlist"]],decls:2,vars:1,consts:()=>{let e;return e=" No rules available, please "+"\uFFFD#3\uFFFD"+" import "+"[\uFFFD/#3\uFFFD|\uFFFD/#4\uFFFD]"+" or "+"\uFFFD#4\uFFFD"+" create "+"[\uFFFD/#3\uFFFD|\uFFFD/#4\uFFFD]"+" some. ",e=j(e),[e,[1,"flex","flex-col","items-center"],[1,"text-center"],["type","button",1,"link","inline","p-0","underline",3,"click"]];},template:function(i,n){i&1&&p(0,ve,2,0)(1,De,5,0,"div",1),i&2&&d(n.facade.rulesAvailable()?0:1);},dependencies:[ae,se],encapsulation:2,changeDetection:0});}return t;})();export{pt as default};/**i18n:dedd5470af1d8ff9fad383437db3f2db99f1a4dd222b97ea99c2e928bb12df18*/