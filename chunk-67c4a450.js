import{$a as A,Ac as L,Bc as k,Fb as E,Lb as b,Oa as a,Pb as f,Rb as d,Xb as P,Za as V,Zb as T,ac as N,b as m,ba as x,bc as w,ga as u,ha as p,ib as y,pa as l,qb as O,rb as S,ua as M,wb as C,xb as r,xc as v,yb as c,zb as h}from"./chunk-9437341d.js";var I=(()=>{class i{appFocusThis=k(!1);element=x(M);constructor(){y({write:()=>{let e=this.element.nativeElement;this.appFocusThis()&&e&&e.focus();}});}static ɵfac=function(n){return new(n||i)();};static ɵdir=A({type:i,selectors:[["","appFocusThis",""]],inputs:{appFocusThis:[1,"appFocusThis"]}});}return i;})();function R(i,o){if(i&1){let e=E();h(0,"div",3),r(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7),N(5),c(),r(6,"input",8,0),f("keydown.enter",function(){u(e);let s=P(7),_=d();return p(_.self.dialogOk()(s.value));}),c(),r(8,"div",9)(9,"button",10),f("click",function(){u(e);let s=d();return p(s.self.dialogCancel()());}),b(10,1),c(),r(11,"button",11),f("click",function(){u(e);let s=P(7),_=d();return p(_.self.dialogOk()(s.value));}),b(12,2),c()()()()();}if(i&2){let e=d();a(5),w(e.self.dialogMessage()),a(),T("hidden",!e.self.dialogPromptVisible()),C("appFocusThis",e.self.focus()==="prompt")("value",e.self.dialogPrefill()),a(3),T("hidden",!e.self.dialogCancelVisible()),a(2),C("appFocusThis",e.self.focus()==="ok");}}var t=class i{self=i;static dialogVisible=l(!1);static dialogPromptVisible=l(!1);static dialogPrefill=l("");static dialogCancelVisible=l(!0);static dialogMessage=l("");static dialogOk=l(m);static dialogCancel=l(m);static focus=l(void 0);overlayVisible=L();constructor(){v(()=>{this.overlayVisible.emit(i.dialogVisible());}),v(()=>{i.focus(),setTimeout(()=>{i.focus.set(void 0);},500);});}static ɵfac=function(e){return new(e||i)();};static ɵcmp=V({type:i,selectors:[["app-dialog"]],outputs:{overlayVisible:"overlayVisible"},decls:1,vars:1,consts:()=>{let o;o=" Cancel ";let e;return e=" OK ",[["prompt",""],o,e,[1,"bg-disabled","pointer-events-none","fixed","top-0","left-0","z-40","h-full","w-full","opacity-50"],[1,"fixed","top-0","left-0","z-50","flex","h-full","w-full"],["role","dialog","aria-describedby","dialog-message",1,"card","bg-disabled","m-auto","w-[300px]"],[1,"m-2","flex","flex-col","gap-4"],["id","dialog-message"],["type","text","role","textbox",3,"keydown.enter","appFocusThis","value"],[1,"mt-4","grid","grid-cols-2","gap-4"],["type","button",1,"secondary",3,"click"],["type","submit",3,"click","appFocusThis"]];},template:function(e,n){e&1&&O(0,R,13,8),e&2&&S(n.self.dialogVisible()?0:-1);},dependencies:[I],encapsulation:2,changeDetection:0});};function D(i=!0,o=!1){t.dialogCancelVisible.set(i),t.dialogPromptVisible.set(o!==!1),typeof o=="string"&&t.dialogPrefill.set(o),t.focus.set(typeof o=="string"?"prompt":"ok"),t.dialogVisible.set(!0);}function g(){t.dialogVisible.set(!1),t.dialogPromptVisible.set(!1),t.dialogPrefill.set(""),t.dialogCancelVisible.set(!0);}function G(i){return t.dialogMessage.set(i),D(),new Promise(o=>{t.dialogOk.set(()=>{g(),o(!0);}),t.dialogCancel.set(()=>{g(),o(!1);});});}function $(i,o=""){return t.dialogMessage.set(i),D(!0,o),new Promise(e=>{t.dialogOk.set(n=>{g(),e(n.trim());}),t.dialogCancel.set(()=>{g(),e(null);});});}function K(i){return t.dialogMessage.set(i),D(!1),new Promise(o=>{t.dialogOk.set(()=>{g(),o();});});}export{t as a,G as b,$ as c,K as d};/**i18n:1e46c8204f38df38d095c36b85005d70b26c53f2afa257bd2af7cc57ec9b3308*/