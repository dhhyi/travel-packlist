var Ay=Object.defineProperty,Ny=Object.defineProperties;var Ry=Object.getOwnPropertyDescriptors;var wf=Object.getOwnPropertySymbols;var Oy=Object.prototype.hasOwnProperty,ky=Object.prototype.propertyIsEnumerable;var bf=(t,e,n)=>e in t?Ay(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,D=(t,e)=>{for(var n in e||={})Oy.call(e,n)&&bf(t,n,e[n]);if(wf)for(var n of wf(e))ky.call(e,n)&&bf(t,n,e[n]);return t},F=(t,e)=>Ny(t,Ry(e));function _f(t,e){return Object.is(t,e)}var we=null,Di=!1,ko=1,Mt=Symbol("SIGNAL");function Z(t){let e=we;return we=t,e}function Ef(){return we}function Fy(){return Di}var fr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Po(t){if(Di)throw new Error("");if(we===null)return;we.consumerOnSignalRead(t);let e=we.nextProducerIndex++;if(Bo(we),e<we.producerNode.length&&we.producerNode[e]!==t&&wi(we)){let n=we.producerNode[e];$o(n,we.producerIndexOfThis[e])}we.producerNode[e]!==t&&(we.producerNode[e]=t,we.producerIndexOfThis[e]=wi(we)?Tf(t,we,e):0),we.producerLastReadVersion[e]=t.version}function Py(){ko++}function If(t){if(!(wi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ko)){if(!t.producerMustRecompute(t)&&!Vo(t)){t.dirty=!1,t.lastCleanEpoch=ko;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ko}}function xf(t){if(t.liveConsumerNode===void 0)return;let e=Di;Di=!0;try{for(let n of t.liveConsumerNode)n.dirty||Sf(n)}finally{Di=e}}function Mf(){return we?.consumerAllowSignalWrites!==!1}function Sf(t){t.dirty=!0,xf(t),t.consumerMarkedDirty?.(t)}function bi(t){return t&&(t.nextProducerIndex=0),Z(t)}function Lo(t,e){if(Z(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(wi(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)$o(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Vo(t){Bo(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(If(n),r!==n.version))return!0}return!1}function jo(t){if(Bo(t),wi(t))for(let e=0;e<t.producerNode.length;e++)$o(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Tf(t,e,n){if(Af(t),t.liveConsumerNode.length===0&&Nf(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Tf(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function $o(t,e){if(Af(t),t.liveConsumerNode.length===1&&Nf(t))for(let r=0;r<t.producerNode.length;r++)$o(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Bo(i),i.producerIndexOfThis[r]=e}}function wi(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Bo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Af(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Nf(t){return t.producerNode!==void 0}function Rf(t){let e=Object.create(Ly);e.computation=t;let n=()=>{if(If(e),Po(e),e.value===Fo)throw e.error;return e.value};return n[Mt]=e,n}var $c=Symbol("UNSET"),Bc=Symbol("COMPUTING"),Fo=Symbol("ERRORED"),Ly=F(D({},fr),{value:$c,dirty:!0,error:null,equal:_f,producerMustRecompute(t){return t.value===$c||t.value===Bc},producerRecomputeValue(t){if(t.value===Bc)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Bc;let n=bi(t),r;try{r=t.computation()}catch(i){r=Fo,t.error=i}finally{Lo(t,n)}if(e!==$c&&e!==Fo&&r!==Fo&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function Vy(){throw new Error}var Of=Vy;function kf(){Of()}function Ff(t){Of=t}var jy=null;function Pf(t){let e=Object.create(Hc);e.value=t;let n=()=>(Po(e),e.value);return n[Mt]=e,n}function Uo(t,e){Mf()||kf(),t.equal(t.value,e)||(t.value=e,$y(t))}function Lf(t,e){Mf()||kf(),Uo(t,e(t.value))}var Hc=F(D({},fr),{equal:_f,value:void 0});function $y(t){t.version++,Py(),xf(t),jy?.()}function Vf(t,e,n){let r=Object.create(By);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function o(c){return c.fn===null&&c.schedule===null}function s(c){o(c)||(jo(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=Uc)}let a=()=>{if(r.fn===null)return;if(Fy())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!Vo(r))return;r.hasRun=!0;let c=bi(r);try{r.cleanupFn(),r.cleanupFn=Uc,r.fn(i)}finally{Lo(r,c)}};return r.ref={notify:()=>Sf(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>s(r),[Mt]:r},r.ref}var Uc=()=>{},By=F(D({},fr),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:Uc});function T(t){return typeof t=="function"}function hr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ho=hr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ln(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var me=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(T(r))try{r()}catch(o){e=o instanceof Ho?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{jf(o)}catch(s){e=e??[],s instanceof Ho?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ho(e)}}add(e){var n;if(e&&e!==this)if(this.closed)jf(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ln(n,e)}remove(e){let{_finalizers:n}=this;n&&Ln(n,e),e instanceof t&&e._removeParent(this)}};me.EMPTY=(()=>{let t=new me;return t.closed=!0,t})();var zc=me.EMPTY;function zo(t){return t instanceof me||t&&"closed"in t&&T(t.remove)&&T(t.add)&&T(t.unsubscribe)}function jf(t){T(t)?t():t.unsubscribe()}var vt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var pr={setTimeout(t,e,...n){let{delegate:r}=pr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=pr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function qo(t){pr.setTimeout(()=>{let{onUnhandledError:e}=vt;if(e)e(t);else throw t})}function Wt(){}var $f=qc("C",void 0,void 0);function Bf(t){return qc("E",void 0,t)}function Uf(t){return qc("N",t,void 0)}function qc(t,e,n){return{kind:t,value:e,error:n}}var Vn=null;function mr(t){if(vt.useDeprecatedSynchronousErrorHandling){let e=!Vn;if(e&&(Vn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Vn;if(Vn=null,n)throw r}}else t()}function Hf(t){vt.useDeprecatedSynchronousErrorHandling&&Vn&&(Vn.errorThrown=!0,Vn.error=t)}var jn=class extends me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,zo(e)&&e.add(this)):this.destination=zy}static create(e,n,r){return new gr(e,n,r)}next(e){this.isStopped?Wc(Uf(e),this):this._next(e)}error(e){this.isStopped?Wc(Bf(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Wc($f,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Uy=Function.prototype.bind;function Gc(t,e){return Uy.call(t,e)}var Zc=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Go(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Go(r)}else Go(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Go(n)}}},gr=class extends jn{constructor(e,n,r){super();let i;if(T(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&vt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Gc(e.next,o),error:e.error&&Gc(e.error,o),complete:e.complete&&Gc(e.complete,o)}):i=e}this.destination=new Zc(i)}};function Go(t){vt.useDeprecatedSynchronousErrorHandling?Hf(t):qo(t)}function Hy(t){throw t}function Wc(t,e){let{onStoppedNotification:n}=vt;n&&pr.setTimeout(()=>n(t,e))}var zy={closed:!0,next:Wt,error:Hy,complete:Wt};var vr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xe(t){return t}function Qc(...t){return Yc(t)}function Yc(t){return t.length===0?Xe:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var B=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Gy(n)?n:new gr(n,r,i);return mr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=zf(r),new r((i,o)=>{let s=new gr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[vr](){return this}pipe(...n){return Yc(n)(this)}toPromise(n){return n=zf(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function zf(t){var e;return(e=t??vt.Promise)!==null&&e!==void 0?e:Promise}function qy(t){return t&&T(t.next)&&T(t.error)&&T(t.complete)}function Gy(t){return t&&t instanceof jn||qy(t)&&zo(t)}function Kc(t){return T(t?.lift)}function q(t){return e=>{if(Kc(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function G(t,e,n,r,i){return new Jc(t,e,n,r,i)}var Jc=class extends jn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function yr(){return q((t,e)=>{let n=null;t._refCount++;let r=G(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var an=class extends B{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Kc(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new me;let n=this.getSubject();e.add(this.source.subscribe(G(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=me.EMPTY)}return e}refCount(){return yr()(this)}};var qf=hr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=(()=>{class t extends B{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Wo(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new qf}next(n){mr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){mr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){mr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?zc:(this.currentObservers=null,o.push(n),new me(()=>{this.currentObservers=null,Ln(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new B;return n.source=this,n}}return t.create=(e,n)=>new Wo(e,n),t})(),Wo=class extends ce{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:zc}};var Ie=class extends ce{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var _i={now(){return(_i.delegate||Date).now()},delegate:void 0};var Ei=class extends ce{constructor(e=1/0,n=1/0,r=_i){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Zo=class extends me{constructor(e,n){super()}schedule(e,n=0){return this}};var Ii={setInterval(t,e,...n){let{delegate:r}=Ii;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ii;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Qo=class extends Zo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ii.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ii.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ln(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Cr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Cr.now=_i.now;var Yo=class extends Cr{constructor(e,n=Cr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var xi=new Yo(Qo),Gf=xi;var Ae=new B(t=>t.complete());function Ko(t){return t&&T(t.schedule)}function Xc(t){return t[t.length-1]}function Jo(t){return T(Xc(t))?t.pop():void 0}function St(t){return Ko(Xc(t))?t.pop():void 0}function Wf(t,e){return typeof Xc(t)=="number"?t.pop():e}function Qf(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(h){s(h)}}function c(u){try{l(r.throw(u))}catch(h){s(h)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Zf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $n(t){return this instanceof $n?(this.v=t,this):new $n(t)}function Yf(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(w){return Promise.resolve(w).then(m,h)}}function a(m,w){r[m]&&(i[m]=function(L){return new Promise(function(X,J){o.push([m,L,X,J])>1||c(m,L)})},w&&(i[m]=w(i[m])))}function c(m,w){try{l(r[m](w))}catch(L){g(o[0][3],L)}}function l(m){m.value instanceof $n?Promise.resolve(m.value.v).then(u,h):g(o[0][2],m)}function u(m){c("next",m)}function h(m){c("throw",m)}function g(m,w){m(w),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Kf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Zf=="function"?Zf(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Dr=t=>t&&typeof t.length=="number"&&typeof t!="function";function Xo(t){return T(t?.then)}function es(t){return T(t[vr])}function ts(t){return Symbol.asyncIterator&&T(t?.[Symbol.asyncIterator])}function ns(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Wy(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var rs=Wy();function is(t){return T(t?.[rs])}function os(t){return Yf(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield $n(n.read());if(i)return yield $n(void 0);yield yield $n(r)}}finally{n.releaseLock()}})}function ss(t){return T(t?.getReader)}function ie(t){if(t instanceof B)return t;if(t!=null){if(es(t))return Zy(t);if(Dr(t))return Qy(t);if(Xo(t))return Yy(t);if(ts(t))return Jf(t);if(is(t))return Ky(t);if(ss(t))return Jy(t)}throw ns(t)}function Zy(t){return new B(e=>{let n=t[vr]();if(T(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Qy(t){return new B(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Yy(t){return new B(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,qo)})}function Ky(t){return new B(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Jf(t){return new B(e=>{Xy(t,e).catch(n=>e.error(n))})}function Jy(t){return Jf(os(t))}function Xy(t,e){var n,r,i,o;return Qf(this,void 0,void 0,function*(){try{for(n=Kf(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Be(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function as(t,e=0){return q((n,r)=>{n.subscribe(G(r,i=>Be(r,t,()=>r.next(i),e),()=>Be(r,t,()=>r.complete(),e),i=>Be(r,t,()=>r.error(i),e)))})}function cs(t,e=0){return q((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Xf(t,e){return ie(t).pipe(cs(e),as(e))}function eh(t,e){return ie(t).pipe(cs(e),as(e))}function th(t,e){return new B(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function nh(t,e){return new B(n=>{let r;return Be(n,e,()=>{r=t[rs](),Be(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>T(r?.return)&&r.return()})}function ls(t,e){if(!t)throw new Error("Iterable cannot be null");return new B(n=>{Be(n,e,()=>{let r=t[Symbol.asyncIterator]();Be(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function rh(t,e){return ls(os(t),e)}function ih(t,e){if(t!=null){if(es(t))return Xf(t,e);if(Dr(t))return th(t,e);if(Xo(t))return eh(t,e);if(ts(t))return ls(t,e);if(is(t))return nh(t,e);if(ss(t))return rh(t,e)}throw ns(t)}function oe(t,e){return e?ih(t,e):ie(t)}function O(...t){let e=St(t);return oe(t,e)}function cn(t,e){let n=T(t)?t:()=>t,r=i=>i.error(n());return new B(e?i=>e.schedule(r,0,i):r)}function el(t){return!!t&&(t instanceof B||T(t.lift)&&T(t.subscribe))}var Zt=hr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function oh(t){return t instanceof Date&&!isNaN(t)}function j(t,e){return q((n,r)=>{let i=0;n.subscribe(G(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:e0}=Array;function t0(t,e){return e0(e)?t(...e):t(e)}function wr(t){return j(e=>t0(t,e))}var{isArray:n0}=Array,{getPrototypeOf:r0,prototype:i0,keys:o0}=Object;function us(t){if(t.length===1){let e=t[0];if(n0(e))return{args:e,keys:null};if(s0(e)){let n=o0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function s0(t){return t&&typeof t=="object"&&r0(t)===i0}function ds(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Mi(...t){let e=St(t),n=Jo(t),{args:r,keys:i}=us(t);if(r.length===0)return oe([],e);let o=new B(a0(r,e,i?s=>ds(i,s):Xe));return n?o.pipe(wr(n)):o}function a0(t,e,n=Xe){return r=>{sh(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)sh(e,()=>{let l=oe(t[c],e),u=!1;l.subscribe(G(r,h=>{o[c]=h,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function sh(t,e,n){t?Be(n,t,e):e()}function ah(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,h=!1,g=()=>{h&&!c.length&&!l&&e.complete()},m=L=>l<r?w(L):c.push(L),w=L=>{o&&e.next(L),l++;let X=!1;ie(n(L,u++)).subscribe(G(e,J=>{i?.(J),o?m(J):e.next(J)},()=>{X=!0},void 0,()=>{if(X)try{for(l--;c.length&&l<r;){let J=c.shift();s?Be(e,s,()=>w(J)):w(J)}g()}catch(J){e.error(J)}}))};return t.subscribe(G(e,m,()=>{h=!0,g()})),()=>{a?.()}}function fe(t,e,n=1/0){return T(e)?fe((r,i)=>j((o,s)=>e(r,o,i,s))(ie(t(r,i))),n):(typeof e=="number"&&(n=e),q((r,i)=>ah(r,i,t,n)))}function ln(t=1/0){return fe(Xe,t)}function ch(){return ln(1)}function Tt(...t){return ch()(oe(t,St(t)))}function Bn(t){return new B(e=>{ie(t()).subscribe(e)})}function tl(...t){let e=Jo(t),{args:n,keys:r}=us(t),i=new B(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let h=!1;ie(n[u]).subscribe(G(o,g=>{h||(h=!0,l--),a[u]=g},()=>c--,void 0,()=>{(!c||!h)&&(l||o.next(r?ds(r,a):a),o.complete())}))}});return e?i.pipe(wr(e)):i}var c0=["addListener","removeListener"],l0=["addEventListener","removeEventListener"],u0=["on","off"];function br(t,e,n,r){if(T(n)&&(r=n,n=void 0),r)return br(t,e,n).pipe(wr(r));let[i,o]=h0(t)?l0.map(s=>a=>t[s](e,a,n)):d0(t)?c0.map(lh(t,e)):f0(t)?u0.map(lh(t,e)):[];if(!i&&Dr(t))return fe(s=>br(s,e,n))(ie(t));if(!i)throw new TypeError("Invalid event target");return new B(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function lh(t,e){return n=>r=>t[n](e,r)}function d0(t){return T(t.addListener)&&T(t.removeListener)}function f0(t){return T(t.on)&&T(t.off)}function h0(t){return T(t.addEventListener)&&T(t.removeEventListener)}function uh(t=0,e,n=Gf){let r=-1;return e!=null&&(Ko(e)?n=e:r=e),new B(i=>{let o=oh(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function fs(...t){let e=St(t),n=Wf(t,1/0),r=t;return r.length?r.length===1?ie(r[0]):ln(n)(oe(r,e)):Ae}var Un=new B(Wt);function ge(t,e){return q((n,r)=>{let i=0;n.subscribe(G(r,o=>t.call(e,o,i++)&&r.next(o)))})}function un(t){return q((e,n)=>{let r=null,i=!1,o;r=e.subscribe(G(n,void 0,void 0,s=>{o=ie(t(s,un(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function dh(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(G(s,u=>{let h=l++;c=a?t(c,u,h):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Hn(t,e){return T(e)?fe(t,e,1):fe(t,1)}function fh(t){return new B(e=>t.subscribe(e))}var p0={connector:()=>new ce};function hs(t,e=p0){let{connector:n}=e;return q((r,i)=>{let o=n();ie(t(fh(o))).subscribe(i),i.add(r.subscribe(o))})}function zn(t,e=xi){return q((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+t,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}n.subscribe(G(r,l=>{o=l,s=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function dn(t){return q((e,n)=>{let r=!1;e.subscribe(G(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function be(t){return t<=0?()=>Ae:q((e,n)=>{let r=0;e.subscribe(G(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function hh(){return q((t,e)=>{t.subscribe(G(e,Wt))})}function Si(t){return j(()=>t)}function nl(t,e){return e?n=>Tt(e.pipe(be(1),hh()),n.pipe(nl(t))):fe((n,r)=>ie(t(n,r)).pipe(be(1),Si(n)))}function rl(t,e=xi){let n=uh(t,e);return nl(()=>n)}function ps(t=m0){return q((e,n)=>{let r=!1;e.subscribe(G(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function m0(){return new Zt}function Ti(t){return q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function At(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ge((i,o)=>t(i,o,r)):Xe,be(1),n?dn(e):ps(()=>new Zt))}function _r(t){return t<=0?()=>Ae:q((e,n)=>{let r=[];e.subscribe(G(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function il(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ge((i,o)=>t(i,o,r)):Xe,_r(1),n?dn(e):ps(()=>new Zt))}function ph(t,e){let n=T(t)?t:()=>t;return T(e)?hs(e,{connector:n}):r=>new an(r,n)}function ol(t){return t?e=>hs(t)(e):e=>ph(new ce)(e)}function sl(t,e){return q(dh(t,e,arguments.length>=2,!0))}function al(...t){let e=St(t);return q((n,r)=>{(e?Tt(t,n,e):Tt(t,n)).subscribe(r)})}function xe(t,e){return q((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(G(r,c=>{i?.unsubscribe();let l=0,u=o++;ie(t(c,u)).subscribe(i=G(r,h=>r.next(e?e(c,h,u,l++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ai(t){return q((e,n)=>{ie(t).subscribe(G(n,()=>n.complete(),Wt)),!n.closed&&e.subscribe(n)})}function le(t,e,n){let r=T(t)||e||n?{next:t,error:e,complete:n}:t;return r?q((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(G(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Xe}var Xh="https://g.co/ng/security#xss",I=class extends Error{constructor(e,n){super(vu(e,n)),this.code=e}};function vu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var ep=Symbol("InputSignalNode#UNSET"),g0=F(D({},Hc),{transformFn:void 0,applyValueToInputSignal(t,e){Uo(t,e)}});function tp(t,e){let n=Object.create(g0);n.value=t,n.transformFn=e?.transform;function r(){if(Po(n),n.value===ep)throw new I(-950,!1);return n.value}return r[Mt]=n,r}function Hi(t){return{toString:t}.toString()}var ms="__parameters__";function v0(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function np(t,e,n){return Hi(()=>{let r=v0(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let h=c.hasOwnProperty(ms)?c[ms]:Object.defineProperty(c,ms,{value:[]})[ms];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var wl=globalThis;function se(t){for(let e in t)if(t[e]===se)return e;throw Error("Could not find renamed property on target object.")}function y0(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function He(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(He).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function mh(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var C0=se({__forward_ref__:se});function Pt(t){return t.__forward_ref__=Pt,t.toString=function(){return He(this())},t}function Ne(t){return rp(t)?t():t}function rp(t){return typeof t=="function"&&t.hasOwnProperty(C0)&&t.__forward_ref__===Pt}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Js(t){return gh(t,op)||gh(t,sp)}function ip(t){return Js(t)!==null}function gh(t,e){return t.hasOwnProperty(e)?t[e]:null}function D0(t){let e=t&&(t[op]||t[sp]);return e||null}function vh(t){return t&&(t.hasOwnProperty(yh)||t.hasOwnProperty(w0))?t[yh]:null}var op=se({\u0275prov:se}),yh=se({\u0275inj:se}),sp=se({ngInjectableDef:se}),w0=se({ngInjectorDef:se}),A=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=_({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function ap(t){return t&&!!t.\u0275providers}var b0=se({\u0275cmp:se}),_0=se({\u0275dir:se}),E0=se({\u0275pipe:se}),I0=se({\u0275mod:se}),xs=se({\u0275fac:se}),Ri=se({__NG_ELEMENT_ID__:se}),Ch=se({__NG_ENV_ID__:se});function Ar(t){return typeof t=="string"?t:t==null?"":String(t)}function x0(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ar(t)}function M0(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new I(-200,t)}function yu(t,e){throw new I(-201,!1)}var Q=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Q||{}),bl;function cp(){return bl}function Ue(t){let e=bl;return bl=t,e}function lp(t,e,n){let r=Js(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Q.Optional)return null;if(e!==void 0)return e;yu(t,"Injector")}var S0={},Oi=S0,_l="__NG_DI_FLAG__",Ms="ngTempTokenPath",T0="ngTokenPath",A0=/\n/gm,N0="\u0275",Dh="__source",Sr;function R0(){return Sr}function fn(t){let e=Sr;return Sr=t,e}function O0(t,e=Q.Default){if(Sr===void 0)throw new I(-203,!1);return Sr===null?lp(t,void 0,e):Sr.get(t,e&Q.Optional?null:void 0,e)}function P(t,e=Q.Default){return(cp()||O0)(Ne(t),e)}function p(t,e=Q.Default){return P(t,Xs(e))}function Xs(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function El(t){let e=[];for(let n=0;n<t.length;n++){let r=Ne(t[n]);if(Array.isArray(r)){if(r.length===0)throw new I(900,!1);let i,o=Q.Default;for(let s=0;s<r.length;s++){let a=r[s],c=k0(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(P(i,o))}else e.push(P(r))}return e}function up(t,e){return t[_l]=e,t.prototype[_l]=e,t}function k0(t){return t[_l]}function F0(t,e,n,r){let i=t[Ms];throw e[Dh]&&i.unshift(e[Dh]),t.message=P0(`
`+t.message,i,n,r),t[T0]=i,t[Ms]=null,t}function P0(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==N0?t.slice(2):t;let i=He(e);if(Array.isArray(e))i=e.map(He).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):He(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(A0,`
  `)}`}var ea=up(np("Optional"),8);var Cu=up(np("SkipSelf"),4);function Zn(t,e){let n=t.hasOwnProperty(xs);return n?t[xs]:null}function Du(t,e){t.forEach(n=>Array.isArray(n)?Du(n,e):e(n))}function dp(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ss(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function L0(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function V0(t,e,n){let r=zi(t,e);return r>=0?t[r|1]=n:(r=~r,L0(t,r,e,n)),r}function cl(t,e){let n=zi(t,e);if(n>=0)return t[n|1]}function zi(t,e){return j0(t,e,1)}function j0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Nr={},ot=[],Rr=new A(""),fp=new A("",-1),hp=new A(""),Ts=class{get(e,n=Oi){if(n===Oi){let r=new Error(`NullInjectorError: No provider for ${He(e)}!`);throw r.name="NullInjectorError",r}return n}},pp=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(pp||{}),Ot=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ot||{}),mn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(mn||{});function $0(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Il(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];B0(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function mp(t){return t===3||t===4||t===6}function B0(t){return t.charCodeAt(0)===64}function ki(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?wh(t,n,i,null,e[++r]):wh(t,n,i,null,null))}}return t}function wh(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var gp="ng-template";function U0(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&$0(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(wu(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function wu(t){return t.type===4&&t.value!==gp}function H0(t,e,n){let r=t.type===4&&!n?gp:t.value;return e===r}function z0(t,e,n){let r=4,i=t.attrs,o=i!==null?W0(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!yt(r)&&!yt(c))return!1;if(s&&yt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!H0(t,c,n)||c===""&&e.length===1){if(yt(r))return!1;s=!0}}else if(r&8){if(i===null||!U0(t,i,c,n)){if(yt(r))return!1;s=!0}}else{let l=e[++a],u=q0(c,i,wu(t),n);if(u===-1){if(yt(r))return!1;s=!0;continue}if(l!==""){let h;if(u>o?h="":h=i[u+1].toLowerCase(),r&2&&l!==h){if(yt(r))return!1;s=!0}}}}return yt(r)||s}function yt(t){return(t&1)===0}function q0(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Z0(e,t)}function G0(t,e,n=!1){for(let r=0;r<e.length;r++)if(z0(t,e[r],n))return!0;return!1}function W0(t){for(let e=0;e<t.length;e++){let n=t[e];if(mp(n))return e}return t.length}function Z0(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function bh(t,e){return t?":not("+e.trim()+")":e}function Q0(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!yt(s)&&(e+=bh(o,i),i=""),r=s,o=o||!yt(r);n++}return i!==""&&(e+=bh(o,i)),e}function Y0(t){return t.map(Q0).join(",")}function K0(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!yt(i))break;i=o}r++}return{attrs:e,classes:n}}function x(t){return Hi(()=>{let e=bp(t),n=F(D({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===pp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ot.Emulated,styles:t.styles||ot,_:null,schemas:t.schemas||null,tView:null,id:""});_p(n);let r=t.dependencies;return n.directiveDefs=Eh(r,!1),n.pipeDefs=Eh(r,!0),n.id=eC(n),n})}function J0(t){return gn(t)||yp(t)}function X0(t){return t!==null}function bn(t){return Hi(()=>({type:t.type,bootstrap:t.bootstrap||ot,declarations:t.declarations||ot,imports:t.imports||ot,exports:t.exports||ot,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function _h(t,e){if(t==null)return Nr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=mn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==mn.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ce(t){return Hi(()=>{let e=bp(t);return _p(e),e})}function vp(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function gn(t){return t[b0]||null}function yp(t){return t[_0]||null}function Cp(t){return t[E0]||null}function Dp(t){let e=gn(t)||yp(t)||Cp(t);return e!==null?e.standalone:!1}function wp(t,e){let n=t[I0]||null;if(!n&&e===!0)throw new Error(`Type ${He(t)} does not have '\u0275mod' property.`);return n}function bp(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Nr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ot,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_h(t.inputs,e),outputs:_h(t.outputs),debugInfo:null}}function _p(t){t.features?.forEach(e=>e(t))}function Eh(t,e){if(!t)return null;let n=e?Cp:J0;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(X0)}function eC(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ur(t){return{\u0275providers:t}}function tC(...t){return{\u0275providers:Ep(!0,t),\u0275fromNgModule:!0}}function Ep(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Du(e,s=>{let a=s;xl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Ip(i,o),n}function Ip(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];bu(i,o=>{e(o,r)})}}function xl(t,e,n,r){if(t=Ne(t),!t)return!1;let i=null,o=vh(t),s=!o&&gn(t);if(!o&&!s){let c=t.ngModule;if(o=vh(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)xl(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Du(o.imports,u=>{xl(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Ip(l,e)}if(!a){let l=Zn(i)||(()=>new i);e({provide:i,useFactory:l,deps:ot},i),e({provide:hp,useValue:i,multi:!0},i),e({provide:Rr,useValue:()=>P(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;bu(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function bu(t,e){for(let n of t)ap(n)&&(n=n.\u0275providers),Array.isArray(n)?bu(n,e):e(n)}var nC=se({provide:String,useValue:se});function xp(t){return t!==null&&typeof t=="object"&&nC in t}function rC(t){return!!(t&&t.useExisting)}function iC(t){return!!(t&&t.useFactory)}function Or(t){return typeof t=="function"}function oC(t){return!!t.useClass}var ta=new A(""),Ds={},sC={},ll;function _u(){return ll===void 0&&(ll=new Ts),ll}var et=class{},Fi=class extends et{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sl(e,s=>this.processProvider(s)),this.records.set(fp,Er(void 0,this)),i.has("environment")&&this.records.set(et,Er(void 0,this));let o=this.records.get(ta);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(hp,ot,Q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=fn(this),r=Ue(void 0),i;try{return e()}finally{fn(n),Ue(r)}}get(e,n=Oi,r=Q.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Ch))return e[Ch](this);r=Xs(r);let i,o=fn(this),s=Ue(void 0);try{if(!(r&Q.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=dC(e)&&Js(e);l&&this.injectableDefInScope(l)?c=Er(Ml(e),Ds):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&Q.Self?_u():this.parent;return n=r&Q.Optional&&n===Oi?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ms]=a[Ms]||[]).unshift(He(e)),o)throw a;return F0(a,e,"R3InjectorError",this.source)}else throw a}finally{Ue(s),fn(o)}}resolveInjectorInitializers(){let e=Z(null),n=fn(this),r=Ue(void 0),i;try{let o=this.get(Rr,ot,Q.Self);for(let s of o)s()}finally{fn(n),Ue(r),Z(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(He(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(e){e=Ne(e);let n=Or(e)?e:Ne(e&&e.provide),r=cC(e);if(!Or(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Er(void 0,Ds,!0),i.factory=()=>El(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Z(null);try{return n.value===Ds&&(n.value=sC,n.value=n.factory()),typeof n.value=="object"&&n.value&&uC(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Z(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ne(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ml(t){let e=Js(t),n=e!==null?e.factory:Zn(t);if(n!==null)return n;if(t instanceof A)throw new I(204,!1);if(t instanceof Function)return aC(t);throw new I(204,!1)}function aC(t){if(t.length>0)throw new I(204,!1);let n=D0(t);return n!==null?()=>n.factory(t):()=>new t}function cC(t){if(xp(t))return Er(void 0,t.useValue);{let e=Mp(t);return Er(e,Ds)}}function Mp(t,e,n){let r;if(Or(t)){let i=Ne(t);return Zn(i)||Ml(i)}else if(xp(t))r=()=>Ne(t.useValue);else if(iC(t))r=()=>t.useFactory(...El(t.deps||[]));else if(rC(t))r=()=>P(Ne(t.useExisting));else{let i=Ne(t&&(t.useClass||t.provide));if(lC(t))r=()=>new i(...El(t.deps));else return Zn(i)||Ml(i)}return r}function Er(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function lC(t){return!!t.deps}function uC(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function dC(t){return typeof t=="function"||typeof t=="object"&&t instanceof A}function Sl(t,e){for(let n of t)Array.isArray(n)?Sl(n,e):n&&ap(n)?Sl(n.\u0275providers,e):e(n)}function Lt(t,e){t instanceof Fi&&t.assertNotDestroyed();let n,r=fn(t),i=Ue(void 0);try{return e()}finally{fn(r),Ue(i)}}function Sp(){return cp()!==void 0||R0()!=null}function qi(t){if(!Sp())throw new I(-203,!1)}function fC(t){return typeof t=="function"}var Kt=0,U=1,V=2,Oe=3,Ct=4,bt=5,Pi=6,As=7,Me=8,kr=9,kt=10,_e=11,Li=12,Ih=13,Hr=14,Dt=15,Fr=16,Ir=17,Pr=18,na=19,Tp=20,hn=21,ws=22,st=23,ke=25,Ap=1;var Qn=7,Ns=8,Rs=9,Re=10,Os=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Os||{});function pn(t){return Array.isArray(t)&&typeof t[Ap]=="object"}function Jt(t){return Array.isArray(t)&&t[Ap]===!0}function Eu(t){return(t.flags&4)!==0}function ra(t){return t.componentOffset>-1}function ia(t){return(t.flags&1)===1}function vn(t){return!!t.template}function Tl(t){return(t[V]&512)!==0}var Al=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Np(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ze(){return Rp}function Rp(t){return t.type.prototype.ngOnChanges&&(t.setInput=pC),hC}ze.ngInherit=!0;function hC(){let t=kp(this),e=t?.current;if(e){let n=t.previous;if(n===Nr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function pC(t,e,n,r,i){let o=this.declaredInputs[r],s=kp(t)||mC(t,{previous:Nr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Al(l&&l.currentValue,n,c===Nr),Np(t,e,i,n)}var Op="__ngSimpleChanges__";function kp(t){return t[Op]||null}function mC(t,e){return t[Op]=e}var xh=null;var Nt=function(t,e,n){xh?.(t,e,n)},Fp="svg",gC="math";function Ft(t){for(;Array.isArray(t);)t=t[Kt];return t}function Pp(t,e){return Ft(e[t])}function at(t,e){return Ft(e[t.index])}function Iu(t,e){return t.data[e]}function Lp(t,e){return t[e]}function _n(t,e){let n=e[t];return pn(n)?n:n[Kt]}function xu(t){return(t[V]&128)===128}function vC(t){return Jt(t[Oe])}function yn(t,e){return e==null?null:t[e]}function Vp(t){t[Ir]=0}function jp(t){t[V]&1024||(t[V]|=1024,xu(t)&&sa(t))}function yC(t,e){for(;t>0;)e=e[Hr],t--;return e}function oa(t){return!!(t[V]&9216||t[st]?.dirty)}function Nl(t){t[kt].changeDetectionScheduler?.notify(8),t[V]&64&&(t[V]|=1024),oa(t)&&sa(t)}function sa(t){t[kt].changeDetectionScheduler?.notify(0);let e=Yn(t);for(;e!==null&&!(e[V]&8192||(e[V]|=8192,!xu(e)));)e=Yn(e)}function $p(t,e){if((t[V]&256)===256)throw new I(911,!1);t[hn]===null&&(t[hn]=[]),t[hn].push(e)}function CC(t,e){if(t[hn]===null)return;let n=t[hn].indexOf(e);n!==-1&&t[hn].splice(n,1)}function Yn(t){let e=t[Oe];return Jt(e)?e[Oe]:e}var W={lFrame:Yp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Bp=!1;function DC(){return W.lFrame.elementDepthCount}function wC(){W.lFrame.elementDepthCount++}function bC(){W.lFrame.elementDepthCount--}function Up(){return W.bindingsEnabled}function _C(){return W.skipHydrationRootTNode!==null}function EC(t){return W.skipHydrationRootTNode===t}function IC(){W.skipHydrationRootTNode=null}function ee(){return W.lFrame.lView}function Te(){return W.lFrame.tView}function Y(t){return W.lFrame.contextLView=t,t[Me]}function K(t){return W.lFrame.contextLView=null,t}function Fe(){let t=Hp();for(;t!==null&&t.type===64;)t=t.parent;return t}function Hp(){return W.lFrame.currentTNode}function xC(){let t=W.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function nr(t,e){let n=W.lFrame;n.currentTNode=t,n.isParent=e}function Mu(){return W.lFrame.isParent}function zp(){W.lFrame.isParent=!1}function MC(){return W.lFrame.contextLView}function qp(){return Bp}function Mh(t){Bp=t}function Su(){let t=W.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function SC(){return W.lFrame.bindingIndex}function TC(t){return W.lFrame.bindingIndex=t}function Gi(){return W.lFrame.bindingIndex++}function Gp(t){let e=W.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function AC(){return W.lFrame.inI18n}function NC(t,e){let n=W.lFrame;n.bindingIndex=n.bindingRootIndex=t,Rl(e)}function RC(){return W.lFrame.currentDirectiveIndex}function Rl(t){W.lFrame.currentDirectiveIndex=t}function OC(t){let e=W.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Wp(t){W.lFrame.currentQueryIndex=t}function kC(t){let e=t[U];return e.type===2?e.declTNode:e.type===1?t[bt]:null}function Zp(t,e,n){if(n&Q.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Q.Host);)if(i=kC(o),i===null||(o=o[Hr],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=W.lFrame=Qp();return r.currentTNode=e,r.lView=t,!0}function Tu(t){let e=Qp(),n=t[U];W.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Qp(){let t=W.lFrame,e=t===null?null:t.child;return e===null?Yp(t):e}function Yp(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Kp(){let t=W.lFrame;return W.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Jp=Kp;function Au(){let t=Kp();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function FC(t){return(W.lFrame.contextLView=yC(t,W.lFrame.contextLView))[Me]}function En(){return W.lFrame.selectedIndex}function Kn(t){W.lFrame.selectedIndex=t}function Nu(){let t=W.lFrame;return Iu(t.tView,t.selectedIndex)}function ue(){W.lFrame.currentNamespace=Fp}function PC(){return W.lFrame.currentNamespace}var Xp=!0;function aa(){return Xp}function ca(t){Xp=t}function LC(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Rp(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function la(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function bs(t,e,n){em(t,e,3,n)}function _s(t,e,n,r){(t[V]&3)===n&&em(t,e,n,r)}function ul(t,e){let n=t[V];(n&3)===e&&(n&=16383,n+=1,t[V]=n)}function em(t,e,n,r){let i=r!==void 0?t[Ir]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Ir]+=65536),(a<o||o==-1)&&(VC(t,n,e,c),t[Ir]=(t[Ir]&4294901760)+c+2),c++}function Sh(t,e){Nt(4,t,e);let n=Z(null);try{e.call(t)}finally{Z(n),Nt(5,t,e)}}function VC(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[V]>>14<t[Ir]>>16&&(t[V]&3)===e&&(t[V]+=16384,Sh(a,o)):Sh(a,o)}var Tr=-1,Jn=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function jC(t){return t instanceof Jn}function $C(t){return(t.flags&8)!==0}function BC(t){return(t.flags&16)!==0}var dl={},Ol=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Xs(r);let i=this.injector.get(e,dl,r);return i!==dl||n===dl?i:this.parentInjector.get(e,n,r)}};function tm(t){return t!==Tr}function ks(t){return t&32767}function UC(t){return t>>16}function Fs(t,e){let n=UC(t),r=e;for(;n>0;)r=r[Hr],n--;return r}var kl=!0;function Ps(t){let e=kl;return kl=t,e}var HC=256,nm=HC-1,rm=5,zC=0,Rt={};function qC(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ri)&&(r=n[Ri]),r==null&&(r=n[Ri]=zC++);let i=r&nm,o=1<<i;e.data[t+(i>>rm)]|=o}function Ls(t,e){let n=im(t,e);if(n!==-1)return n;let r=e[U];r.firstCreatePass&&(t.injectorIndex=e.length,fl(r.data,t),fl(e,null),fl(r.blueprint,null));let i=Ru(t,e),o=t.injectorIndex;if(tm(i)){let s=ks(i),a=Fs(i,e),c=a[U].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function fl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function im(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ru(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=lm(i),r===null)return Tr;if(n++,i=i[Hr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Tr}function Fl(t,e,n){qC(t,e,n)}function GC(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(mp(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function om(t,e,n){if(n&Q.Optional||t!==void 0)return t;yu(e,"NodeInjector")}function sm(t,e,n,r){if(n&Q.Optional&&r===void 0&&(r=null),!(n&(Q.Self|Q.Host))){let i=t[kr],o=Ue(void 0);try{return i?i.get(e,r,n&Q.Optional):lp(e,r,n&Q.Optional)}finally{Ue(o)}}return om(r,e,n)}function am(t,e,n,r=Q.Default,i){if(t!==null){if(e[V]&2048&&!(r&Q.Self)){let s=KC(t,e,n,r,Rt);if(s!==Rt)return s}let o=cm(t,e,n,r,Rt);if(o!==Rt)return o}return sm(e,n,r,i)}function cm(t,e,n,r,i){let o=QC(n);if(typeof o=="function"){if(!Zp(e,t,r))return r&Q.Host?om(i,n,r):sm(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Q.Optional))yu(n);else return s}finally{Jp()}}else if(typeof o=="number"){let s=null,a=im(t,e),c=Tr,l=r&Q.Host?e[Dt][bt]:null;for((a===-1||r&Q.SkipSelf)&&(c=a===-1?Ru(t,e):e[a+8],c===Tr||!Ah(r,!1)?a=-1:(s=e[U],a=ks(c),e=Fs(c,e)));a!==-1;){let u=e[U];if(Th(o,a,u.data)){let h=WC(a,e,n,s,r,l);if(h!==Rt)return h}c=e[a+8],c!==Tr&&Ah(r,e[U].data[a+8]===l)&&Th(o,a,e)?(s=u,a=ks(c),e=Fs(c,e)):a=-1}}return i}function WC(t,e,n,r,i,o){let s=e[U],a=s.data[t+8],c=r==null?ra(a)&&kl:r!=s&&(a.type&3)!==0,l=i&Q.Host&&o===a,u=ZC(a,s,n,c,l);return u!==null?Lr(e,s,u,a):Rt}function ZC(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,h=r?a:a+u,g=i?a+u:l;for(let m=h;m<g;m++){let w=s[m];if(m<c&&n===w||m>=c&&w.type===n)return m}if(i){let m=s[c];if(m&&vn(m)&&m.type===n)return c}return null}function Lr(t,e,n,r){let i=t[n],o=e.data;if(jC(i)){let s=i;s.resolving&&M0(x0(o[n]));let a=Ps(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Ue(s.injectImpl):null,u=Zp(t,r,Q.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&LC(n,o[n],e)}finally{l!==null&&Ue(l),Ps(a),s.resolving=!1,Jp()}}return i}function QC(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ri)?t[Ri]:void 0;return typeof e=="number"?e>=0?e&nm:YC:e}function Th(t,e,n){let r=1<<t;return!!(n[e+(t>>rm)]&r)}function Ah(t,e){return!(t&Q.Self)&&!(t&Q.Host&&e)}var Wn=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return am(this._tNode,this._lView,e,Xs(r),n)}};function YC(){return new Wn(Fe(),ee())}function In(t){return Hi(()=>{let e=t.prototype.constructor,n=e[xs]||Pl(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[xs]||Pl(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Pl(t){return rp(t)?()=>{let e=Pl(Ne(t));return e&&e()}:Zn(t)}function KC(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[V]&2048&&!(s[V]&512);){let a=cm(o,s,n,r|Q.Self,Rt);if(a!==Rt)return a;let c=o.parent;if(!c){let l=s[Tp];if(l){let u=l.get(n,Rt,r);if(u!==Rt)return u}c=lm(s),s=s[Hr]}o=c}return i}function lm(t){let e=t[U],n=e.type;return n===2?e.declTNode:n===1?t[bt]:null}function Ou(t){return GC(Fe(),t)}function Nh(t,e=null,n=null,r){let i=um(t,e,n,r);return i.resolveInjectorInitializers(),i}function um(t,e=null,n=null,r,i=new Set){let o=[n||ot,tC(t)];return r=r||(typeof t=="object"?void 0:He(t)),new Fi(o,e||_u(),r||null,i)}var qn=class qn{static create(e,n){if(Array.isArray(e))return Nh({name:""},n,e,"");{let r=e.name??"";return Nh({name:r},e.parent,e.providers,r)}}};qn.THROW_IF_NOT_FOUND=Oi,qn.NULL=new Ts,qn.\u0275prov=_({token:qn,providedIn:"any",factory:()=>P(fp)}),qn.__NG_ELEMENT_ID__=-1;var Se=qn;var JC=new A("");JC.__NG_ELEMENT_ID__=t=>{let e=Fe();if(e===null)throw new I(204,!1);if(e.type&2)return e.value;if(t&Q.Optional)return null;throw new I(204,!1)};var XC="ngOriginalError";function hl(t){return t[XC]}var dm=!0,xn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=eD,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Ll=class extends xn{constructor(e){super(),this._lView=e}onDestroy(e){return $p(this._lView,e),()=>CC(this._lView,e)}};function eD(){return new Ll(ee())}var rr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ie(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=_({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Vl=class extends ce{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Sp()&&(this.destroyRef=p(xn,{optional:!0})??void 0,this.pendingTasks=p(rr,{optional:!0})??void 0)}emit(e){let n=Z(null);try{super.next(e)}finally{Z(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof me&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ye=Vl;function Vs(...t){}function fm(t){let e,n;function r(){t=Vs;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Rh(t){return queueMicrotask(()=>t()),()=>{t=Vs}}var ku="isAngularZone",js=ku+"_ID",tD=0,he=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ye(!1),this.onMicrotaskEmpty=new ye(!1),this.onStable=new ye(!1),this.onError=new ye(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=dm}=e;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,iD(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ku)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new I(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,nD,Vs,Vs);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},nD={};function Fu(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rD(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){fm(()=>{t.callbackScheduled=!1,jl(t),t.isCheckStableRunning=!0,Fu(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),jl(t)}function iD(t){let e=()=>{rD(t)},n=tD++;t._inner=t._inner.fork({name:"angular",properties:{[ku]:!0,[js]:n,[js+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(oD(c))return r.invokeTask(o,s,a,c);try{return Oh(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),kh(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Oh(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!sD(c)&&e(),kh(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,jl(t),Fu(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function jl(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Oh(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function kh(t){t._nesting--,Fu(t)}var $s=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ye,this.onMicrotaskEmpty=new ye,this.onStable=new ye,this.onError=new ye}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function oD(t){return hm(t,"__ignore_ng_zone__")}function sD(t){return hm(t,"__scheduler_tick__")}function hm(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var wt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&hl(e);for(;n&&hl(n);)n=hl(n);return n||null}},aD=new A("",{providedIn:"root",factory:()=>{let t=p(he),e=p(wt);return n=>t.runOutsideAngular(()=>e.handleError(n))}}),$l=class{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=p(wt,{optional:!0}),this.destroyRef=p(xn),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new I(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed)throw new I(953,!1);if(this.listeners===null)return;let n=Z(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{Z(n)}}};function ct(t){return new $l}function Fh(t,e){return tp(t,e)}function cD(t){return tp(ep,t)}var k=(Fh.required=cD,Fh);function lD(){return ua(Fe(),ee())}function ua(t,e){return new _t(at(t,e))}var _t=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=lD;let t=e;return t})();function pm(t){return(t.flags&128)===128}var mm=new Map,uD=0;function dD(){return uD++}function fD(t){mm.set(t[na],t)}function Bl(t){mm.delete(t[na])}var Ph="__ngContext__";function Cn(t,e){pn(e)?(t[Ph]=e[na],fD(e)):t[Ph]=e}function gm(t){return ym(t[Li])}function vm(t){return ym(t[Ct])}function ym(t){for(;t!==null&&!Jt(t);)t=t[Ct];return t}var Ul;function Cm(t){Ul=t}function hD(){if(Ul!==void 0)return Ul;if(typeof document<"u")return document;throw new I(210,!1)}var Pu=new A("",{providedIn:"root",factory:()=>pD}),pD="ng",Lu=new A(""),Et=new A("",{providedIn:"platform",factory:()=>"unknown"});var Vu=new A("",{providedIn:"root",factory:()=>hD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var mD="h",gD="b";var vD=()=>null;function ju(t,e,n=!1){return vD(t,e,n)}var Dm=!1,yD=new A("",{providedIn:"root",factory:()=>Dm});var gs;function CD(){if(gs===void 0&&(gs=null,wl.trustedTypes))try{gs=wl.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return gs}function Lh(t){return CD()?.createScriptURL(t)||t}var Bs=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xh})`}};function Wi(t){return t instanceof Bs?t.changingThisBreaksApplicationSecurity:t}function $u(t,e){let n=DD(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Xh})`)}return n===e}function DD(t){return t instanceof Bs&&t.getTypeName()||null}var wD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wm(t){return t=String(t),t.match(wD)?t:"unsafe:"+t}var da=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(da||{});function Bu(t){let e=_m();return e?e.sanitize(da.URL,t)||"":$u(t,"URL")?Wi(t):wm(Ar(t))}function bD(t){let e=_m();if(e)return Lh(e.sanitize(da.RESOURCE_URL,t)||"");if($u(t,"ResourceURL"))return Lh(Wi(t));throw new I(904,!1)}function _D(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?bD:Bu}function bm(t,e,n){return _D(e,n)(t)}function _m(){let t=ee();return t&&t[kt].sanitizer}var ED=/^>|^->|<!--|-->|--!>|<!-$/g,ID=/(<|>)/g,xD="\u200B$1\u200B";function MD(t){return t.replace(ED,e=>e.replace(ID,xD))}function fa(t){return t.ownerDocument.defaultView}function Em(t){return t instanceof Function?t():t}function SD(t){return(t??p(Se)).get(Et)==="browser"}var Qt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qt||{}),TD;function Uu(t,e){return TD(t,e)}function xr(t,e,n,r,i){if(r!=null){let o,s=!1;Jt(r)?o=r:pn(r)&&(s=!0,r=r[Kt]);let a=Ft(r);t===0&&n!==null?i==null?Sm(e,n,a):Us(e,n,a,i||null,!0):t===1&&n!==null?Us(e,n,a,i||null,!0):t===2?qD(e,a,s):t===3&&e.destroyNode(a),o!=null&&WD(e,t,o,n,i)}}function AD(t,e){return t.createText(e)}function ND(t,e,n){t.setValue(e,n)}function RD(t,e){return t.createComment(MD(e))}function Im(t,e,n){return t.createElement(e,n)}function OD(t,e){xm(t,e),e[Kt]=null,e[bt]=null}function kD(t,e,n,r,i,o){r[Kt]=i,r[bt]=e,ma(t,r,n,1,i,o)}function xm(t,e){e[kt].changeDetectionScheduler?.notify(9),ma(t,e,e[_e],2,null,null)}function FD(t){let e=t[Li];if(!e)return pl(t[U],t);for(;e;){let n=null;if(pn(e))n=e[Li];else{let r=e[Re];r&&(n=r)}if(!n){for(;e&&!e[Ct]&&e!==t;)pn(e)&&pl(e[U],e),e=e[Oe];e===null&&(e=t),pn(e)&&pl(e[U],e),n=e&&e[Ct]}e=n}}function PD(t,e,n,r){let i=Re+r,o=n.length;r>0&&(n[i-1][Ct]=e),r<o-Re?(e[Ct]=n[i],dp(n,Re+r,e)):(n.push(e),e[Ct]=null),e[Oe]=n;let s=e[Fr];s!==null&&n!==s&&Mm(s,e);let a=e[Pr];a!==null&&a.insertView(t),Nl(e),e[V]|=128}function Mm(t,e){let n=t[Rs],r=e[Oe];if(pn(r))t[V]|=Os.HasTransplantedViews;else{let i=r[Oe][Dt];e[Dt]!==i&&(t[V]|=Os.HasTransplantedViews)}n===null?t[Rs]=[e]:n.push(e)}function Hu(t,e){let n=t[Rs],r=n.indexOf(e);n.splice(r,1)}function Vi(t,e){if(t.length<=Re)return;let n=Re+e,r=t[n];if(r){let i=r[Fr];i!==null&&i!==t&&Hu(i,r),e>0&&(t[n-1][Ct]=r[Ct]);let o=Ss(t,Re+e);OD(r[U],r);let s=o[Pr];s!==null&&s.detachView(o[U]),r[Oe]=null,r[Ct]=null,r[V]&=-129}return r}function ha(t,e){if(!(e[V]&256)){let n=e[_e];n.destroyNode&&ma(t,e,n,3,null,null),FD(e)}}function pl(t,e){if(e[V]&256)return;let n=Z(null);try{e[V]&=-129,e[V]|=256,e[st]&&jo(e[st]),VD(t,e),LD(t,e),e[U].type===1&&e[_e].destroy();let r=e[Fr];if(r!==null&&Jt(e[Oe])){r!==e[Oe]&&Hu(r,e);let i=e[Pr];i!==null&&i.detachView(t)}Bl(e)}finally{Z(n)}}function LD(t,e){let n=t.cleanup,r=e[As];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[As]=null);let i=e[hn];if(i!==null){e[hn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function VD(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Jn)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Nt(4,a,c);try{c.call(a)}finally{Nt(5,a,c)}}else{Nt(4,i,o);try{o.call(i)}finally{Nt(5,i,o)}}}}}function jD(t,e,n){return $D(t,e.parent,n)}function $D(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Kt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Ot.None||o===Ot.Emulated)return null}return at(r,n)}}function Us(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Sm(t,e,n){t.appendChild(e,n)}function Vh(t,e,n,r,i){r!==null?Us(t,e,n,r,i):Sm(t,e,n)}function Tm(t,e){return t.parentNode(e)}function BD(t,e){return t.nextSibling(e)}function UD(t,e,n){return zD(t,e,n)}function HD(t,e,n){return t.type&40?at(t,n):null}var zD=HD,jh;function pa(t,e,n,r){let i=jD(t,r,e),o=e[_e],s=r.parent||e[bt],a=UD(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Vh(o,i,n[c],a,!1);else Vh(o,i,n,a,!1);jh!==void 0&&jh(o,r,e,n,i)}function Ni(t,e){if(e!==null){let n=e.type;if(n&3)return at(e,t);if(n&4)return Hl(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ni(t,r);{let i=t[e.index];return Jt(i)?Hl(-1,i):Ft(i)}}else{if(n&128)return Ni(t,e.next);if(n&32)return Uu(e,t)()||Ft(t[e.index]);{let r=Am(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Yn(t[Dt]);return Ni(i,r)}else return Ni(t,e.next)}}}return null}function Am(t,e){if(e!==null){let r=t[Dt][bt],i=e.projection;return r.projection[i]}return null}function Hl(t,e){let n=Re+t+1;if(n<e.length){let r=e[n],i=r[U].firstChild;if(i!==null)return Ni(r,i)}return e[Qn]}function qD(t,e,n){t.removeChild(null,e,n)}function zu(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Cn(Ft(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)zu(t,e,n.child,r,i,o,!1),xr(e,t,i,a,o);else if(c&32){let l=Uu(n,r),u;for(;u=l();)xr(e,t,i,u,o);xr(e,t,i,a,o)}else c&16?GD(t,e,r,n,i,o):xr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ma(t,e,n,r,i,o){zu(n,r,t.firstChild,e,i,o,!1)}function GD(t,e,n,r,i,o){let s=n[Dt],c=s[bt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];xr(e,t,i,u,o)}else{let l=c,u=s[Oe];pm(r)&&(l.flags|=128),zu(t,e,l,u,i,o,!0)}}function WD(t,e,n,r,i){let o=n[Qn],s=Ft(n);o!==s&&xr(e,t,r,o,i);for(let a=Re;a<n.length;a++){let c=n[a];ma(c[U],c,t,e,r,o)}}function ZD(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Qt.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Qt.Important),t.setStyle(n,r,i,o))}}function QD(t,e,n){t.setAttribute(e,"style",n)}function Nm(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Rm(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Il(t,e,r),i!==null&&Nm(t,e,i),o!==null&&QD(t,e,o)}var lt={};function y(t=1){Om(Te(),ee(),En()+t,!1)}function Om(t,e,n,r){if(!r)if((e[V]&3)===3){let o=t.preOrderCheckHooks;o!==null&&bs(e,o,n)}else{let o=t.preOrderHooks;o!==null&&_s(e,o,0,n)}Kn(n)}function $(t,e=Q.Default){let n=ee();if(n===null)return P(t,e);let r=Fe();return am(r,n,Ne(t),e)}function km(){let t="invalid";throw new Error(t)}function Fm(t,e,n,r,i,o){let s=Z(null);try{let a=null;i&mn.SignalBased&&(a=e[r][Mt]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&mn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):Np(e,a,r,o)}finally{Z(s)}}function YD(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Kn(~i);else{let o=i,s=n[++r],a=n[++r];NC(s,o);let c=e[o];a(2,c)}}}finally{Kn(-1)}}function ga(t,e,n,r,i,o,s,a,c,l,u){let h=e.blueprint.slice();return h[Kt]=i,h[V]=r|4|128|8|64,(l!==null||t&&t[V]&2048)&&(h[V]|=2048),Vp(h),h[Oe]=h[Hr]=t,h[Me]=n,h[kt]=s||t&&t[kt],h[_e]=a||t&&t[_e],h[kr]=c||t&&t[kr]||null,h[bt]=o,h[na]=dD(),h[Pi]=u,h[Tp]=l,h[Dt]=e.type==2?t[Dt]:h,h}function Zi(t,e,n,r,i){let o=t.data[e];if(o===null)o=KD(t,e,n,r,i),AC()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=xC();o.injectorIndex=s===null?-1:s.injectorIndex}return nr(o,!0),o}function KD(t,e,n,r,i){let o=Hp(),s=Mu(),a=s?o:o&&o.parent,c=t.data[e]=nw(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function Pm(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Lm(t,e,n,r,i){let o=En(),s=r&2;try{Kn(-1),s&&e.length>ke&&Om(t,e,ke,!1),Nt(s?2:0,i),n(r,i)}finally{Kn(o),Nt(s?3:1,i)}}function qu(t,e,n){if(Eu(e)){let r=Z(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Z(r)}}}function Gu(t,e,n){Up()&&(cw(t,e,n,at(n,e)),(n.flags&64)===64&&Bm(t,e,n))}function Wu(t,e,n=at){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function Vm(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Zu(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Zu(t,e,n,r,i,o,s,a,c,l,u){let h=ke+r,g=h+i,m=JD(h,g),w=typeof l=="function"?l():l;return m[U]={type:t,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:u}}function JD(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:lt);return n}function XD(t,e,n,r){let o=r.get(yD,Dm)||n===Ot.ShadowDom,s=t.selectRootElement(e,o);return ew(s),s}function ew(t){tw(t)}var tw=()=>null;function nw(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return _C()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function $h(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=mn.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?Bh(r,n,l,a,c):Bh(r,n,l,a)}return r}function Bh(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function rw(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let h=o[u],g=n?n.get(h):null,m=g?g.inputs:null,w=g?g.outputs:null;c=$h(0,h.inputs,u,c,m),l=$h(1,h.outputs,u,l,w);let L=c!==null&&s!==null&&!wu(e)?Cw(c,u,s):null;a.push(L)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function iw(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function jm(t,e,n,r,i,o,s,a){let c=at(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Yu(t,n,u,r,i),ra(e)&&ow(n,e.index)):e.type&3?(r=iw(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function ow(t,e){let n=_n(e,t);n[V]&16||(n[V]|=64)}function Qu(t,e,n,r){if(Up()){let i=r===null?null:{"":-1},o=uw(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&$m(t,e,n,s,i,a),i&&dw(n,r,i)}n.mergedAttrs=ki(n.mergedAttrs,n.attrs)}function $m(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Fl(Ls(n,e),t,r[l].type);hw(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Pm(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=ki(n.mergedAttrs,u.hostAttrs),pw(t,n,e,c,u),fw(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let h=u.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}rw(t,n,o)}function sw(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;aw(s)!=a&&s.push(a),s.push(n,r,o)}}function aw(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function cw(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;ra(n)&&mw(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ls(n,e),Cn(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Lr(e,t,a,n);if(Cn(l,e),s!==null&&yw(e,a-i,l,c,n,s),vn(c)){let u=_n(n.index,e);u[Me]=Lr(e,t,a,n)}}}function Bm(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=RC();try{Kn(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Rl(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&lw(c,l)}}finally{Kn(-1),Rl(s)}}function lw(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function uw(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(G0(e,s.selectors,!1))if(r||(r=[]),vn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;zl(t,e,c)}else r.unshift(s),zl(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function zl(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function dw(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new I(-301,!1);r.push(e[i],o)}}}function fw(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vn(e)&&(n[""]=t)}}function hw(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function pw(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Zn(i.type,!0)),s=new Jn(o,vn(i),$);t.blueprint[r]=s,n[r]=s,sw(t,e,r,Pm(t,n,i.hostVars,lt),i)}function mw(t,e,n){let r=at(e,t),i=Vm(n),o=t[kt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=va(t,ga(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function gw(t,e,n,r,i,o){let s=at(t,e);vw(e[_e],s,o,t.value,n,r,i)}function vw(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Ar(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function yw(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],h=s[a++];Fm(r,n,c,l,u,h)}}function Cw(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function Um(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Hm(t,e){let n=t.contentQueries;if(n!==null){let r=Z(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Wp(o),a.contentQueries(2,e[s],s)}}}finally{Z(r)}}}function va(t,e){return t[Li]?t[Ih][Ct]=e:t[Li]=e,t[Ih]=e,e}function ql(t,e,n){Wp(0);let r=Z(null);try{e(t,n)}finally{Z(r)}}function Dw(t){return t[As]??=[]}function ww(t){return t.cleanup??=[]}function zm(t,e){let n=t[kr],r=n?n.get(wt,null):null;r&&r.handleError(e)}function Yu(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];Fm(u,l,r,a,c,i)}}function qm(t,e,n){let r=Pp(e,t);ND(t[_e],r,n)}function bw(t,e){let n=_n(e,t),r=n[U];_w(r,n);let i=n[Kt];i!==null&&n[Pi]===null&&(n[Pi]=ju(i,n[kr])),Ku(r,n,n[Me])}function _w(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ku(t,e,n){Tu(e);try{let r=t.viewQuery;r!==null&&ql(1,r,n);let i=t.template;i!==null&&Lm(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Pr]?.finishViewCreation(t),t.staticContentQueries&&Hm(t,e),t.staticViewQueries&&ql(2,t.viewQuery,n);let o=t.components;o!==null&&Ew(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[V]&=-5,Au()}}function Ew(t,e){for(let n=0;n<e.length;n++)bw(t,e[n])}function ya(t,e,n,r){let i=Z(null);try{let o=e.tView,a=t[V]&4096?4096:16,c=ga(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Fr]=l;let u=t[Pr];return u!==null&&(c[Pr]=u.createEmbeddedView(o)),Ku(o,c,n),c}finally{Z(i)}}function Gm(t,e){let n=Re+e;if(n<t.length)return t[n]}function ji(t,e){return!e||e.firstChild===null||pm(t)}function Ca(t,e,n,r=!0){let i=e[U];if(PD(i,e,t,n),r){let s=Hl(n,t),a=e[_e],c=Tm(a,t[Qn]);c!==null&&kD(i,t[bt],a,e,c,s)}let o=e[Pi];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Wm(t,e){let n=Vi(t,e);return n!==void 0&&ha(n[U],n),n}function Hs(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Ft(o)),Jt(o)&&Iw(o,r);let s=n.type;if(s&8)Hs(t,e,n.child,r);else if(s&32){let a=Uu(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Am(e,n);if(Array.isArray(a))r.push(...a);else{let c=Yn(e[Dt]);Hs(c[U],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Iw(t,e){for(let n=Re;n<t.length;n++){let r=t[n],i=r[U].firstChild;i!==null&&Hs(r[U],r,i,e)}t[Qn]!==t[Kt]&&e.push(t[Qn])}var Zm=[];function xw(t){return t[st]??Mw(t)}function Mw(t){let e=Zm.pop()??Object.create(Tw);return e.lView=t,e}function Sw(t){t.lView[st]!==t&&(t.lView=null,Zm.push(t))}var Tw=F(D({},fr),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{sa(t.lView)},consumerOnSignalRead(){this.lView[st]=this}});function Aw(t){let e=t[st]??Object.create(Nw);return e.lView=t,e}var Nw=F(D({},fr),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Yn(t.lView);for(;e&&!Qm(e[U]);)e=Yn(e);e&&jp(e)},consumerOnSignalRead(){this.lView[st]=this}});function Qm(t){return t.type!==2}var Rw=100;function Ym(t,e=!0,n=0){let r=t[kt],i=r.rendererFactory,o=!1;o||i.begin?.();try{Ow(t,n)}catch(s){throw e&&zm(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function Ow(t,e){let n=qp();try{Mh(!0),Gl(t,e);let r=0;for(;oa(t);){if(r===Rw)throw new I(103,!1);r++,Gl(t,1)}}finally{Mh(n)}}function kw(t,e,n,r){let i=e[V];if((i&256)===256)return;let o=!1,s=!1;!o&&e[kt].inlineEffectRunner?.flush(),Tu(e);let a=!0,c=null,l=null;o||(Qm(t)?(l=xw(e),c=bi(l)):Ef()===null?(a=!1,l=Aw(e),c=bi(l)):e[st]&&(jo(e[st]),e[st]=null));try{Vp(e),TC(t.bindingStartIndex),n!==null&&Lm(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let m=t.preOrderCheckHooks;m!==null&&bs(e,m,null)}else{let m=t.preOrderHooks;m!==null&&_s(e,m,0,null),ul(e,0)}if(s||Fw(e),Km(e,0),t.contentQueries!==null&&Hm(t,e),!o)if(u){let m=t.contentCheckHooks;m!==null&&bs(e,m)}else{let m=t.contentHooks;m!==null&&_s(e,m,1),ul(e,1)}YD(t,e);let h=t.components;h!==null&&Xm(e,h,0);let g=t.viewQuery;if(g!==null&&ql(2,g,r),!o)if(u){let m=t.viewCheckHooks;m!==null&&bs(e,m)}else{let m=t.viewHooks;m!==null&&_s(e,m,2),ul(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ws]){for(let m of e[ws])m();e[ws]=null}o||(e[V]&=-73)}catch(u){throw o||sa(e),u}finally{l!==null&&(Lo(l,c),a&&Sw(l)),Au()}}function Km(t,e){for(let n=gm(t);n!==null;n=vm(n))for(let r=Re;r<n.length;r++){let i=n[r];Jm(i,e)}}function Fw(t){for(let e=gm(t);e!==null;e=vm(e)){if(!(e[V]&Os.HasTransplantedViews))continue;let n=e[Rs];for(let r=0;r<n.length;r++){let i=n[r];jp(i)}}}function Pw(t,e,n){let r=_n(e,t);Jm(r,n)}function Jm(t,e){xu(t)&&Gl(t,e)}function Gl(t,e){let r=t[U],i=t[V],o=t[st],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Vo(o)),s||=!1,o&&(o.dirty=!1),t[V]&=-9217,s)kw(r,t,r.template,t[Me]);else if(i&8192){Km(t,1);let a=r.components;a!==null&&Xm(t,a,1)}}function Xm(t,e,n){for(let r=0;r<e.length;r++)Pw(t,e[r],n)}function Ju(t,e){let n=qp()?64:1088;for(t[kt].changeDetectionScheduler?.notify(e);t;){t[V]|=n;let r=Yn(t);if(Tl(t)&&!r)return t;t=r}return null}var Xn=class{get rootNodes(){let e=this._lView,n=e[U];return Hs(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Me]}set context(e){this._lView[Me]=e}get destroyed(){return(this._lView[V]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Oe];if(Jt(e)){let n=e[Ns],r=n?n.indexOf(this):-1;r>-1&&(Vi(e,r),Ss(n,r))}this._attachedToViewContainer=!1}ha(this._lView[U],this._lView)}onDestroy(e){$p(this._lView,e)}markForCheck(){Ju(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[V]&=-129}reattach(){Nl(this._lView),this._lView[V]|=128}detectChanges(){this._lView[V]|=1024,Ym(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Tl(this._lView),n=this._lView[Fr];n!==null&&!e&&Hu(n,this._lView),xm(this._lView[U],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e;let n=Tl(this._lView),r=this._lView[Fr];r!==null&&!n&&Mm(r,this._lView),Nl(this._lView)}},eg=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jw;let t=e;return t})(),Lw=eg,Vw=class extends Lw{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=ya(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Xn(i)}};function jw(){return tg(Fe(),ee())}function tg(t,e){return t.type&4?new Vw(e,t,ua(t,e)):null}var jk=new RegExp(`^(\\d+)*(${gD}|${mD})*(.*)`);var $w=()=>null;function $i(t,e){return $w(t,e)}var er=class{},Xu=new A("",{providedIn:"root",factory:()=>!1});var ng=new A(""),ed=new A(""),Wl=class{},zs=class{};function Bw(t){let e=Error(`No component factory found for ${He(t)}.`);return e[Uw]=t,e}var Uw="ngComponent";var Zl=class{resolveComponentFactory(e){throw Bw(e)}},od=class od{};od.NULL=new Zl;var Vr=od,jr=class{},Vt=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Hw();let t=e;return t})();function Hw(){let t=ee(),e=Fe(),n=_n(e.index,t);return(pn(n)?n:t)[_e]}var zw=(()=>{let e=class e{};e.\u0275prov=_({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function qs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=mh(i,a);else if(o==2){let c=a,l=e[++s];r=mh(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Gs=class extends Vr{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=gn(e);return new $r(n,this.ngModule)}};function Uh(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:mn.None;e?n.push({propName:s,templateName:r,isSignal:(a&mn.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function qw(t){let e=t.toLowerCase();return e==="svg"?Fp:e==="math"?gC:null}var $r=class extends zs{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Uh(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Uh(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Y0(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Z(null);try{i=i||this.ngModule;let s=i instanceof et?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Ol(e,s):e,c=a.get(jr,null);if(c===null)throw new I(407,!1);let l=a.get(zw,null),u=a.get(er,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},g=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",w=r?XD(g,r,this.componentDef.encapsulation,a):Im(g,m,qw(m)),L=512;this.componentDef.signals?L|=4096:this.componentDef.onPush||(L|=16);let X=null;w!==null&&(X=ju(w,a,!0));let J=Zu(0,null,null,1,0,null,null,null,null,null,null),pe=ga(null,J,null,L,null,null,h,g,a,null,X);Tu(pe);let $e,gt,ur=null;try{let Je=this.componentDef,dr,jc=null;Je.findHostDirectiveDefs?(dr=[],jc=new Map,Je.findHostDirectiveDefs(Je,dr,jc),dr.push(Je)):dr=[Je];let Ty=Gw(pe,w);ur=Ww(Ty,w,Je,dr,pe,h,g),gt=Iu(J,ke),w&&Yw(g,Je,w,r),n!==void 0&&Kw(gt,this.ngContentSelectors,n),$e=Qw(ur,Je,dr,jc,pe,[Jw]),Ku(J,pe,null)}catch(Je){throw ur!==null&&Bl(ur),Bl(pe),Je}finally{Au()}return new Ql(this.componentType,$e,ua(gt,pe),pe,gt)}finally{Z(o)}}},Ql=class extends Wl{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Xn(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Yu(o[U],o,i,e,n),this.previousInputValues.set(e,n);let s=_n(this._tNode.index,o);Ju(s,1)}}get injector(){return new Wn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Gw(t,e){let n=t[U],r=ke;return t[r]=e,Zi(n,r,2,"#host",null)}function Ww(t,e,n,r,i,o,s){let a=i[U];Zw(r,t,e,s);let c=null;e!==null&&(c=ju(e,i[kr]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let h=ga(i,Vm(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&zl(a,t,r.length-1),va(i,h),i[t.index]=h}function Zw(t,e,n,r){for(let i of t)e.mergedAttrs=ki(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(qs(e,e.mergedAttrs,!0),n!==null&&Rm(r,n,e))}function Qw(t,e,n,r,i,o){let s=Fe(),a=i[U],c=at(s,i);$m(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let h=s.directiveStart+u,g=Lr(i,a,h,s);Cn(g,i)}Bm(a,i,s),c&&Cn(c,i);let l=Lr(i,a,s.directiveStart+s.componentOffset,s);if(t[Me]=i[Me]=l,o!==null)for(let u of o)u(l,e);return qu(a,s,i),l}function Yw(t,e,n,r){if(r)Il(t,n,["ng-version","18.2.2"]);else{let{attrs:i,classes:o}=K0(e.selectors[0]);i&&Il(t,n,i),o&&o.length>0&&Nm(t,n,o.join(" "))}}function Kw(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function Jw(){let t=Fe();la(ee()[U],t)}var Qi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Xw;let t=e;return t})();function Xw(){let t=Fe();return tb(t,ee())}var eb=Qi,rg=class extends eb{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ua(this._hostTNode,this._hostLView)}get injector(){return new Wn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ru(this._hostTNode,this._hostLView);if(tm(e)){let n=Fs(e,this._hostLView),r=ks(e),i=n[U].data[r+8];return new Wn(i,n)}else return new Wn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Hh(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Re}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=$i(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,ji(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!fC(e),a;if(s)a=n;else{let w=n||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}let c=s?e:new $r(gn(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let L=(s?l:this.parentInjector).get(et,null);L&&(o=L)}let u=gn(c.componentType??{}),h=$i(this._lContainer,u?.id??null),g=h?.firstChild??null,m=c.create(l,i,g,o);return this.insertImpl(m.hostView,a,ji(this._hostTNode,h)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(vC(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Oe],l=new rg(c,c[bt],c[Oe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Ca(s,i,o,r),e.attachToViewContainerRef(),dp(ml(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Hh(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Vi(this._lContainer,n);r&&(Ss(ml(this._lContainer),n),ha(r[U],r))}detach(e){let n=this._adjustIndex(e,-1),r=Vi(this._lContainer,n);return r&&Ss(ml(this._lContainer),n)!=null?new Xn(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Hh(t){return t[Ns]}function ml(t){return t[Ns]||(t[Ns]=[])}function tb(t,e){let n,r=e[t.index];return Jt(r)?n=r:(n=Um(r,e,null,t),e[t.index]=n,va(e,n)),rb(n,e,t,r),new rg(n,t,e)}function nb(t,e){let n=t[_e],r=n.createComment(""),i=at(e,t),o=Tm(n,i);return Us(n,o,r,BD(n,i),!1),r}var rb=sb,ib=()=>!1;function ob(t,e,n){return ib(t,e,n)}function sb(t,e,n,r){if(t[Qn])return;let i;n.type&8?i=Ft(r):i=nb(e,n),t[Qn]=i}var zh=new Set;function Xt(t){zh.has(t)||(zh.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function de(t,e){Xt("NgSignals");let n=Pf(t),r=n[Mt];return e?.equal&&(r.equal=e.equal),n.set=i=>Uo(r,i),n.update=i=>Lf(r,i),n.asReadonly=ab.bind(n),n}function ab(){let t=this[Mt];if(t.readonlyFn===void 0){let e=()=>this();e[Mt]=t,t.readonlyFn=e}return t.readonlyFn}function cb(t){return Object.getPrototypeOf(t.prototype).constructor}function ut(t){let e=cb(t.type),n=!0,r=[t];for(;e;){let i;if(vn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=vs(t.inputs),s.inputTransforms=vs(t.inputTransforms),s.declaredInputs=vs(t.declaredInputs),s.outputs=vs(t.outputs);let a=i.hostBindings;a&&hb(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&db(t,c),l&&fb(t,l),lb(t,i),y0(t.outputs,i.outputs),vn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===ut&&(n=!1)}}e=Object.getPrototypeOf(e)}ub(r)}function lb(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function ub(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ki(i.hostAttrs,n=ki(n,i.hostAttrs))}}function vs(t){return t===Nr?{}:t===ot?[]:t}function db(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function fb(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function hb(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function td(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Dn=class{},Bi=class{};var Yl=class extends Dn{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gs(this);let o=wp(e);this._bootstrapComponents=Em(o.bootstrap),this._r3Injector=um(e,n,[{provide:Dn,useValue:this},{provide:Vr,useValue:this.componentFactoryResolver},...r],He(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Kl=class extends Bi{constructor(e){super(),this.moduleType=e}create(e){return new Yl(this.moduleType,e,[])}};var Ws=class extends Dn{constructor(e){super(),this.componentFactoryResolver=new Gs(this),this.instance=null;let n=new Fi([...e.providers,{provide:Dn,useValue:this},{provide:Vr,useValue:this.componentFactoryResolver}],e.parent||_u(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Da(t,e,n=null){return new Ws({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function ig(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function og(t,e,n){return t[e]=n}function pb(t,e){return t[e]}function Yt(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function mb(t,e,n,r){let i=Yt(t,e,n);return Yt(t,e+1,r)||i}function gb(t){return(t.flags&32)===32}function vb(t,e,n,r,i,o,s,a,c){let l=e.consts,u=Zi(e,t,4,s||null,a||null);Qu(e,n,u,yn(l,c)),la(e,u);let h=u.tView=Zu(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}function Jl(t,e,n,r,i,o,s,a,c,l){let u=n+ke,h=e.firstCreatePass?vb(u,e,t,r,i,o,s,a,c):e.data[u];nr(h,!1);let g=yb(e,t,h,n);aa()&&pa(e,t,g,h),Cn(g,t);let m=Um(g,t,g,h);return t[u]=m,va(t,m),ob(m,h,t),ia(h)&&Gu(e,t,h),c!=null&&Wu(t,h,l),h}function R(t,e,n,r,i,o,s,a){let c=ee(),l=Te(),u=yn(l.consts,o);return Jl(c,l,t,e,n,r,i,u,s,a),R}var yb=Cb;function Cb(t,e,n,r){return ca(!0),e[_e].createComment("")}var Mr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Mr||{}),sg=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=_({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Gn=class Gn{constructor(){this.ngZone=p(he),this.scheduler=p(er),this.errorHandler=p(wt,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Gn.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Gn.PHASES=[Mr.EarlyRead,Mr.Write,Mr.MixedReadWrite,Mr.Read],Gn.\u0275prov=_({token:Gn,providedIn:"root",factory:()=>new Gn});var Xl=Gn,eu=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function nd(t,e){!e?.injector&&qi(nd);let n=e?.injector??p(Se);return SD(n)?(Xt("NgAfterNextRender"),wb(t,n,e,!0)):bb}function Db(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function wb(t,e,n,r){let i=e.get(sg);i.impl??=e.get(Xl);let o=n?.phase??Mr.MixedReadWrite,s=new eu(i.impl,Db(t,o),r,e.get(xn));return i.impl.register(s),s}var bb={destroy(){}};function ne(t,e,n,r){let i=ee(),o=Gi();if(Yt(i,o,e)){let s=Te(),a=Nu();gw(a,i,t,e,n,r)}return ne}function ag(t,e,n,r){return Yt(t,Gi(),n)?e+Ar(n)+r:lt}function _b(t,e,n,r,i,o){let s=SC(),a=mb(t,s,n,i);return Gp(2),a?e+Ar(n)+r+Ar(i)+o:lt}function ys(t,e){return t<<17|e<<2}function tr(t){return t>>17&32767}function Eb(t){return(t&2)==2}function Ib(t,e){return t&131071|e<<17}function tu(t){return t|2}function Br(t){return(t&131068)>>2}function gl(t,e){return t&-131069|e<<2}function xb(t){return(t&1)===1}function nu(t){return t|1}function Mb(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=tr(s),c=Br(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let h=n;u=h[1],(u===null||zi(h,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let g=tr(t[a+1]);t[r+1]=ys(g,a),g!==0&&(t[g+1]=gl(t[g+1],r)),t[a+1]=Ib(t[a+1],r)}else t[r+1]=ys(a,0),a!==0&&(t[a+1]=gl(t[a+1],r)),a=r;else t[r+1]=ys(c,0),a===0?a=r:t[c+1]=gl(t[c+1],r),c=r;l&&(t[r+1]=tu(t[r+1])),qh(t,u,r,!0),qh(t,u,r,!1),Sb(e,u,t,r,o),s=ys(a,c),o?e.classBindings=s:e.styleBindings=s}function Sb(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&zi(o,e)>=0&&(n[r+1]=nu(n[r+1]))}function qh(t,e,n,r){let i=t[n+1],o=e===null,s=r?tr(i):Br(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];Tb(c,e)&&(a=!0,t[s+1]=r?nu(l):tu(l)),s=r?tr(l):Br(l)}a&&(t[n+1]=r?tu(i):nu(i))}function Tb(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?zi(t,e)>=0:!1}function N(t,e,n){let r=ee(),i=Gi();if(Yt(r,i,e)){let o=Te(),s=Nu();jm(o,s,r,t,e,r[_e],n,!1)}return N}function Gh(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Yu(t,n,o[s],s,r)}function wa(t,e){return Ab(t,e,null,!0),wa}function Ab(t,e,n,r){let i=ee(),o=Te(),s=Gp(2);if(o.firstUpdatePass&&Rb(o,t,s,r),e!==lt&&Yt(i,s,e)){let a=o.data[En()];Lb(o,a,i,i[_e],t,i[s+1]=Vb(e,n),r,s)}}function Nb(t,e){return e>=t.expandoStartIndex}function Rb(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[En()],s=Nb(t,n);jb(o,r)&&e===null&&!s&&(e=!1),e=Ob(i,o,e,r),Mb(i,o,e,n,s,r)}}function Ob(t,e,n,r){let i=OC(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=vl(null,t,e,n,r),n=Ui(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=vl(i,t,e,n,r),o===null){let c=kb(t,e,r);c!==void 0&&Array.isArray(c)&&(c=vl(null,t,e,c[1],r),c=Ui(c,e.attrs,r),Fb(t,e,r,c))}else o=Pb(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function kb(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Br(r)!==0)return t[tr(r)]}function Fb(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[tr(i)]=r}function Pb(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ui(r,s,n)}return Ui(r,e.attrs,n)}function vl(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ui(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ui(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),V0(t,s,n?!0:e[++o]))}return t===void 0?null:t}function Lb(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=xb(l)?Wh(c,e,n,i,Br(l),s):void 0;if(!Zs(u)){Zs(o)||Eb(l)&&(o=Wh(c,null,n,i,a,s));let h=Pp(En(),n);ZD(r,s,h,i,o)}}function Wh(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,h=u===null,g=n[i+1];g===lt&&(g=h?ot:void 0);let m=h?cl(g,r):u===r?g:void 0;if(l&&!Zs(m)&&(m=cl(c,r)),Zs(m)&&(a=m,s))return a;let w=t[i+1];i=s?tr(w):Br(w)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=cl(c,r))}return a}function Zs(t){return t!==void 0}function Vb(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=He(Wi(t)))),t}function jb(t,e){return(t.flags&(e?8:16))!==0}var ru=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function yl(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function $b(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=t.at(o),u=e[o],h=yl(o,l,o,u,n);if(h!==0){h<0&&t.updateValue(o,u),o++;continue}let g=t.at(s),m=e[c],w=yl(s,g,c,m,n);if(w!==0){w<0&&t.updateValue(s,m),s--,c--;continue}let L=n(o,l),X=n(s,g),J=n(o,u);if(Object.is(J,X)){let pe=n(c,m);Object.is(pe,L)?(t.swap(o,s),t.updateValue(s,m),c--,s--):t.move(s,o),t.updateValue(o,u),o++;continue}if(r??=new Qs,i??=Qh(t,o,s,n),iu(t,r,o,J))t.updateValue(o,u),o++,s++;else if(i.has(J))r.set(L,t.detach(o)),s--;else{let pe=t.create(o,e[o]);t.attach(o,pe),o++,s++}}for(;o<=c;)Zh(t,r,n,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let u=t.at(o),h=l.value,g=yl(o,u,o,h,n);if(g!==0)g<0&&t.updateValue(o,h),o++,l=c.next();else{r??=new Qs,i??=Qh(t,o,s,n);let m=n(o,h);if(iu(t,r,o,m))t.updateValue(o,h),o++,s++,l=c.next();else if(!i.has(m))t.attach(o,t.create(o,h)),o++,s++,l=c.next();else{let w=n(o,u);r.set(w,t.detach(o)),s--}}}for(;!l.done;)Zh(t,r,n,t.length,l.value),l=c.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(c=>{t.destroy(c)})}function iu(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function Zh(t,e,n,r,i){if(iu(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function Qh(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Qs=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function S(t,e){Xt("NgControlFlow");let n=ee(),r=Gi(),i=n[r]!==lt?n[r]:-1,o=i!==-1?Ys(n,ke+i):void 0,s=0;if(Yt(n,r,t)){let a=Z(null);try{if(o!==void 0&&Wm(o,s),t!==-1){let c=ke+t,l=Ys(n,c),u=cu(n[U],c),h=$i(l,u.tView.ssrId),g=ya(n,u,e,{dehydratedView:h});Ca(l,g,s,ji(u,h))}}finally{Z(a)}}else if(o!==void 0){let a=Gm(o,s);a!==void 0&&(a[Me]=e)}}var ou=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Re}};function en(t){return t}function cg(t,e){return e}var su=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function qe(t,e,n,r,i,o,s,a,c,l,u,h,g){Xt("NgControlFlow");let m=ee(),w=Te(),L=c!==void 0,X=ee(),J=a?s.bind(X[Dt][Me]):s,pe=new su(L,J);X[ke+t]=pe,Jl(m,w,t+1,e,n,r,i,yn(w.consts,o)),L&&Jl(m,w,t+2,c,l,u,h,yn(w.consts,g))}var au=class extends ru{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Re}at(e){return this.getLView(e)[Me].$implicit}attach(e,n){let r=n[Pi];this.needsIndexUpdate||=e!==this.length,Ca(this.lContainer,n,e,ji(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Bb(this.lContainer,e)}create(e,n){let r=$i(this.lContainer,this.templateTNode.tView.ssrId),i=ya(this.hostLView,this.templateTNode,new ou(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){ha(e[U],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Me].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Me].$index=e}getLView(e){return Ub(this.lContainer,e)}};function Ge(t){let e=Z(null),n=En();try{let r=ee(),i=r[U],o=r[n],s=n+1,a=Ys(r,s);if(o.liveCollection===void 0){let l=cu(i,s);o.liveCollection=new au(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if($b(c,t,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=Gi(),u=c.length===0;if(Yt(r,l,u)){let h=n+2,g=Ys(r,h);if(u){let m=cu(i,h),w=$i(g,m.tView.ssrId),L=ya(r,m,void 0,{dehydratedView:w});Ca(g,L,0,ji(m,w))}else Wm(g,0)}}}finally{Z(e)}}function Ys(t,e){return t[e]}function Bb(t,e){return Vi(t,e)}function Ub(t,e){return Gm(t,e)}function cu(t,e){return Iu(t,e)}function Hb(t,e,n,r,i,o){let s=e.consts,a=yn(s,i),c=Zi(e,t,2,r,a);return Qu(e,n,c,yn(s,o)),c.attrs!==null&&qs(c,c.attrs,!1),c.mergedAttrs!==null&&qs(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function d(t,e,n,r){let i=ee(),o=Te(),s=ke+t,a=i[_e],c=o.firstCreatePass?Hb(s,o,i,e,n,r):o.data[s],l=zb(o,i,c,a,e,t);i[s]=l;let u=ia(c);return nr(c,!0),Rm(a,l,c),!gb(c)&&aa()&&pa(o,i,l,c),DC()===0&&Cn(l,i),wC(),u&&(Gu(o,i,c),qu(o,c,i)),r!==null&&Wu(i,c),d}function f(){let t=Fe();Mu()?zp():(t=t.parent,nr(t,!1));let e=t;EC(e)&&IC(),bC();let n=Te();return n.firstCreatePass&&(la(n,t),Eu(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&$C(e)&&Gh(n,e,ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&BC(e)&&Gh(n,e,ee(),e.stylesWithoutHost,!1),f}function b(t,e,n,r){return d(t,e,n,r),f(),b}var zb=(t,e,n,r,i,o)=>(ca(!0),Im(r,i,PC()));function qb(t,e,n,r,i){let o=e.consts,s=yn(o,r),a=Zi(e,t,8,"ng-container",s);s!==null&&qs(a,s,!0);let c=yn(o,i);return Qu(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function lg(t,e,n){let r=ee(),i=Te(),o=t+ke,s=i.firstCreatePass?qb(o,i,r,e,n):i.data[o];nr(s,!0);let a=Gb(i,r,s,t);return r[o]=a,aa()&&pa(i,r,a,s),Cn(a,r),ia(s)&&(Gu(i,r,s),qu(i,s,r)),n!=null&&Wu(r,s),lg}function ug(){let t=Fe(),e=Te();return Mu()?zp():(t=t.parent,nr(t,!1)),e.firstCreatePass&&(la(e,t),Eu(t)&&e.queries.elementEnd(t)),ug}function ba(t,e,n){return lg(t,e,n),ug(),ba}var Gb=(t,e,n,r)=>(ca(!0),RD(e[_e],""));function te(){return ee()}var Ks="en-US";var Wb=Ks;function Zb(t){typeof t=="string"&&(Wb=t.toLowerCase().replace(/_/g,"-"))}var Qb=(t,e,n)=>{};function E(t,e,n,r){let i=ee(),o=Te(),s=Fe();return Kb(o,i,i[_e],s,t,e,r),E}function Yb(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[As],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Kb(t,e,n,r,i,o,s){let a=ia(r),l=t.firstCreatePass&&ww(t),u=e[Me],h=Dw(e),g=!0;if(r.type&3||s){let L=at(r,e),X=s?s(L):L,J=h.length,pe=s?gt=>s(Ft(gt[r.index])):r.index,$e=null;if(!s&&a&&($e=Yb(t,e,i,r.index)),$e!==null){let gt=$e.__ngLastListenerFn__||$e;gt.__ngNextListenerFn__=o,$e.__ngLastListenerFn__=o,g=!1}else{o=Kh(r,e,u,o),Qb(L,i,o);let gt=n.listen(X,i,o);h.push(o,gt),l&&l.push(i,pe,J,J+1)}}else o=Kh(r,e,u,o);let m=r.outputs,w;if(g&&m!==null&&(w=m[i])){let L=w.length;if(L)for(let X=0;X<L;X+=2){let J=w[X],pe=w[X+1],ur=e[J][pe].subscribe(o),Je=h.length;h.push(o,ur),l&&l.push(i,r.index,Je,-(Je+1))}}}function Yh(t,e,n,r){let i=Z(null);try{return Nt(6,e,n),n(r)!==!1}catch(o){return zm(t,o),!1}finally{Nt(7,e,n),Z(i)}}function Kh(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?_n(t.index,e):e;Ju(s,5);let a=Yh(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Yh(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function C(t=1){return FC(t)}function Yi(t,e,n){return zr(t,"",e,"",n),Yi}function zr(t,e,n,r,i){let o=ee(),s=ag(o,e,n,r);if(s!==lt){let a=Te(),c=Nu();jm(a,c,o,t,s,o[_e],i,!1)}return zr}function Jb(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function _a(t){let e=MC();return Lp(e,ke+t)}function v(t,e=""){let n=ee(),r=Te(),i=t+ke,o=r.firstCreatePass?Zi(r,i,1,e,null):r.data[i],s=Xb(r,n,o,e,t);n[i]=s,aa()&&pa(r,n,s,o),nr(o,!1)}var Xb=(t,e,n,r,i)=>(ca(!0),AD(e[_e],r));function De(t){return We("",t,""),De}function We(t,e,n){let r=ee(),i=ag(r,t,e,n);return i!==lt&&qm(r,En(),i),We}function Ea(t,e,n,r,i){let o=ee(),s=_b(o,t,e,n,r,i);return s!==lt&&qm(o,En(),s),Ea}function e_(t,e,n){let r=Te();if(r.firstCreatePass){let i=vn(t);lu(n,r.data,r.blueprint,i,!0),lu(e,r.data,r.blueprint,i,!1)}}function lu(t,e,n,r,i){if(t=Ne(t),Array.isArray(t))for(let o=0;o<t.length;o++)lu(t[o],e,n,r,i);else{let o=Te(),s=ee(),a=Fe(),c=Or(t)?t:Ne(t.provide),l=Mp(t),u=a.providerIndexes&1048575,h=a.directiveStart,g=a.providerIndexes>>20;if(Or(t)||!t.multi){let m=new Jn(l,i,$),w=Dl(c,e,i?u:u+g,h);w===-1?(Fl(Ls(a,s),o,c),Cl(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),s.push(m)):(n[w]=m,s[w]=m)}else{let m=Dl(c,e,u+g,h),w=Dl(c,e,u,u+g),L=m>=0&&n[m],X=w>=0&&n[w];if(i&&!X||!i&&!L){Fl(Ls(a,s),o,c);let J=r_(i?n_:t_,n.length,i,r,l);!i&&X&&(n[w].providerFactory=J),Cl(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(J),s.push(J)}else{let J=dg(n[i?w:m],l,!i&&r);Cl(o,t,m>-1?m:w,J)}!i&&r&&X&&n[w].componentProviders++}}}function Cl(t,e,n,r){let i=Or(e),o=oC(e);if(i||o){let c=(o?Ne(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function dg(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Dl(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function t_(t,e,n,r){return uu(this.multi,[])}function n_(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Lr(n,n[U],this.providerFactory.index,r);o=a.slice(0,s),uu(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],uu(i,o);return o}function uu(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function r_(t,e,n,r,i){let o=new Jn(t,n,$);return o.multi=[],o.index=e,o.componentProviders=0,dg(o,i,r&&!n),o}function Mn(t,e=[]){return n=>{n.providersResolver=(r,i)=>e_(r,i?i(t):t,e)}}var i_=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Ep(!1,r.type),o=i.length>0?Da([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=_({token:e,providedIn:"environment",factory:()=>new e(P(et))});let t=e;return t})();function M(t){Xt("NgStandalone"),t.getStandaloneInjector=e=>e.get(i_).getOrCreateStandaloneInjector(t)}function qr(t,e,n){let r=Su()+t,i=ee();return i[r]===lt?og(i,r,n?e.call(n):e()):pb(i,r)}function tt(t,e,n,r){return fg(ee(),Su(),t,e,n,r)}function o_(t,e){let n=t[e];return n===lt?void 0:n}function fg(t,e,n,r,i,o){let s=e+n;return Yt(t,s,i)?og(t,s+1,o?r.call(o,i):r(i)):o_(t,s+1)}function hg(t,e){let n=Te(),r,i=t+ke;n.firstCreatePass?(r=s_(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Zn(r.type,!0)),s,a=Ue($);try{let c=Ps(!1),l=o();return Ps(c),Jb(n,ee(),i,l),l}finally{Ue(a)}}function s_(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function pg(t,e,n){let r=t+ke,i=ee(),o=Lp(i,r);return a_(i,r)?fg(i,Su(),e,o.transform,n,o):o.transform(n)}function a_(t,e){return t[U].data[e].pure}function mg(t,e){return tg(t,e)}var Ia=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var gg=new A("");function ir(t){return!!t&&typeof t.then=="function"}function vg(t){return!!t&&typeof t.subscribe=="function"}var Gr=new A(""),yg=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=p(Gr,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(ir(s))r.push(s);else if(vg(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xa=new A("");function c_(){Ff(()=>{throw new I(600,!1)})}function l_(t){return t.isBoundToModule}var u_=10;function d_(t,e,n){try{let r=n();return ir(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var jt=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=p(aD),this.afterRenderManager=p(sg),this.zonelessEnabled=p(Xu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ce,this.afterTick=new ce,this.componentTypes=[],this.components=[],this.isStable=p(rr).hasPendingTasks.pipe(j(r=>!r)),this._injector=p(et)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof zs;if(!this._injector.get(yg).done){let m=!o&&Dp(r),w=!1;throw new I(405,w)}let a;o?a=r:a=this._injector.get(Vr).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=l_(a)?void 0:this._injector.get(Dn),l=i||a.selector,u=a.create(Se.NULL,[],l,c),h=u.location.nativeElement,g=u.injector.get(gg,null);return g?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),Es(this.components,u),g?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new I(101,!1);let r=Z(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Z(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(jr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<u_;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:o,notifyErrorHandler:s}of this._views)f_(o,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>oa(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Es(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(xa,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Es(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new I(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Es(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function f_(t,e,n,r){if(!n&&!oa(t))return;Ym(t,e,n&&!r?0:1)}var du=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ma=(()=>{let e=class e{compileModuleSync(r){return new Kl(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=wp(r),s=Em(o.declarations).reduce((a,c)=>{let l=gn(c);return l&&a.push(new $r(l)),a},[]);return new du(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var h_=(()=>{let e=class e{constructor(){this.zone=p(he),this.changeDetectionScheduler=p(er),this.applicationRef=p(jt)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function p_({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new he(F(D({},m_()),{scheduleInRootZone:n})),[{provide:he,useFactory:t},{provide:Rr,multi:!0,useFactory:()=>{let r=p(h_,{optional:!0});return()=>r.initialize()}},{provide:Rr,multi:!0,useFactory:()=>{let r=p(g_);return()=>{r.initialize()}}},e===!0?{provide:ng,useValue:!0}:[],{provide:ed,useValue:n??dm}]}function m_(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var g_=(()=>{let e=class e{constructor(){this.subscription=new me,this.initialized=!1,this.zone=p(he),this.pendingTasks=p(rr)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{he.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Cg=(()=>{let e=class e{constructor(){this.appRef=p(jt),this.taskService=p(rr),this.ngZone=p(he),this.zonelessEnabled=p(Xu),this.disableScheduling=p(ng,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new me,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(js):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(p(ed,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof $s||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Rh:fm;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(js+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Rh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Dg(){return Xt("NgZoneless"),Ur([{provide:er,useExisting:Cg},{provide:he,useClass:$s},{provide:Xu,useValue:!0},{provide:ed,useValue:!1},[]])}function v_(){return typeof $localize<"u"&&$localize.locale||Ks}var rd=new A("",{providedIn:"root",factory:()=>p(rd,Q.Optional|Q.SkipSelf)||v_()});var wg=new A("");function Cs(t){return!!t.platformInjector}function y_(t){let e=Cs(t)?t.r3Injector:t.moduleRef.injector,n=e.get(he);return n.run(()=>{Cs(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(wt,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Cs(t)){let o=()=>e.destroy(),s=t.platformInjector.get(wg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{Es(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return d_(r,n,()=>{let o=e.get(yg);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(rd,Ks);if(Zb(s||Ks),Cs(t)){let a=e.get(jt);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return C_(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function C_(t,e){let n=t.injector.get(jt);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new I(-403,!1);e.push(t)}var Is=null;function D_(t=[],e){return Se.create({name:e,providers:[{provide:ta,useValue:"platform"},{provide:wg,useValue:new Set([()=>Is=null])},...t]})}function w_(t=[]){if(Is)return Is;let e=D_(t);return Is=e,c_(),b_(e),e}function b_(t){t.get(Lu,null)?.forEach(n=>n())}function bg(){return!1}var or=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=__;let t=e;return t})();function __(t){return E_(Fe(),ee(),(t&16)===16)}function E_(t,e,n){if(ra(t)&&!n){let r=_n(t.index,e);return new Xn(r,r)}else if(t.type&175){let r=e[Dt];return new Xn(r,e)}return null}var fu=class{constructor(){}supports(e){return e instanceof Map||ig(e)}create(){return new hu}},hu=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||ig(e)))throw new I(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new pu(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},pu=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Jh(){return new id([new fu])}var id=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Jh()),deps:[[e,new Cu,new ea]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i)return i;throw new I(901,!1)}};e.\u0275prov=_({token:e,providedIn:"root",factory:Jh});let t=e;return t})();function _g(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=w_(r),o=[p_({}),{provide:er,useExisting:Cg},...n||[]],s=new Ws({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return y_({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var Eg=new A("");function Wr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ve(t,e){Xt("NgSignals");let n=Rf(t);return e?.equal&&(n[Mt].equal=e.equal),n}function dt(t){let e=Z(null);try{return t()}finally{Z(e)}}var I_=new A("",{providedIn:"root",factory:()=>p(x_)}),x_=(()=>{let e=class e{};e.\u0275prov=_({token:e,providedIn:"root",factory:()=>new mu});let t=e;return t})(),mu=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=p(rr),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},gu=class{constructor(e,n,r,i,o,s){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=o,this.watcher=Vf(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(wt,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function Ki(t,e){Xt("NgSignals"),!e?.injector&&qi(Ki);let n=e?.injector??p(Se),r=e?.manualCleanup!==!0?n.get(xn):null,i=new gu(n.get(I_),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),o=n.get(or,null,{optional:!0});return!o||!(o._lView[V]&8)?i.watcher.notify():(o._lView[ws]??=[]).push(i.watcher.notify),i}function Ig(t){let e=gn(t);if(!e)return null;let n=new $r(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Ag=null;function nn(){return Ag}function Ng(t){Ag??=t}var Sa=class{};var Pe=new A(""),ud=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>p(M_),providedIn:"platform"});let t=e;return t})(),Rg=new A(""),M_=(()=>{let e=class e extends ud{constructor(){super(),this._doc=p(Pe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nn().getBaseHref(this._doc)}onPopState(r){let i=nn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=nn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function dd(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function xg(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function tn(t){return t&&t[0]!=="?"?"?"+t:t}var $t=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>p(fd),providedIn:"root"});let t=e;return t})(),Og=new A(""),fd=(()=>{let e=class e extends $t{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??p(Pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return dd(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+tn(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+tn(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+tn(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(P(ud),P(Og,8))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hd=(()=>{let e=class e extends $t{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=dd(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+tn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+tn(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(P(ud),P(Og,8))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Zr=(()=>{let e=class e{constructor(r){this._subject=new ye,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=A_(xg(Mg(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+tn(i))}normalize(r){return e.stripTrailingSlash(T_(this._basePath,Mg(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+tn(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+tn(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=tn,e.joinWithSlash=dd,e.stripTrailingSlash=xg,e.\u0275fac=function(i){return new(i||e)(P($t))},e.\u0275prov=_({token:e,factory:()=>S_(),providedIn:"root"});let t=e;return t})();function S_(){return new Zr(P($t))}function T_(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Mg(t){return t.replace(/\/index.html$/,"")}function A_(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function kg(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var sd=/\s+/,Sg=[],Sn=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=Sg,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(sd):Sg}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(sd):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(sd).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)($(_t),$(Vt))},e.\u0275dir=Ce({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Fg=(()=>{let e=class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let o=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,o):!1,get:(r,i,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,o)}})}};e.\u0275fac=function(i){return new(i||e)($(Qi))},e.\u0275dir=Ce({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ze]});let t=e;return t})();function N_(t,e){return{key:t,value:e}}var Pg=(()=>{let e=class e{constructor(r){this.differs=r,this.keyValues=[],this.compareFn=Tg}transform(r,i=Tg){if(!r||!(r instanceof Map)&&typeof r!="object")return null;this.differ??=this.differs.find(r).create();let o=this.differ.diff(r),s=i!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(a=>{this.keyValues.push(N_(a.key,a.currentValue))})),(o||s)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}};e.\u0275fac=function(i){return new(i||e)($(id,16))},e.\u0275pipe=vp({name:"keyvalue",type:e,pure:!1,standalone:!0});let t=e;return t})();function Tg(t,e){let n=t.key,r=e.key;if(n===r)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(n===null)return 1;if(r===null)return-1;if(typeof n=="string"&&typeof r=="string")return n<r?-1:1;if(typeof n=="number"&&typeof r=="number")return n-r;if(typeof n=="boolean"&&typeof r=="boolean")return n<r?-1:1;let i=String(n),o=String(r);return i==o?0:i<o?-1:1}var pd="browser",R_="server";function Aa(t){return t===pd}function md(t){return t===R_}var Na=(()=>{let e=class e{};e.\u0275prov=_({token:e,providedIn:"root",factory:()=>Aa(p(Et))?new ad(p(Pe),window):new cd});let t=e;return t})(),ad=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=O_(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function O_(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var cd=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ta=class{};var yd=class extends Sa{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Cd=class t extends yd{static makeCurrent(){Ng(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=F_();return n==null?null:P_(n)}resetBaseElement(){Ji=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return kg(document.cookie,e)}},Ji=null;function F_(){return Ji=Ji||document.querySelector("base"),Ji?Ji.getAttribute("href"):null}function P_(t){return new URL(t,document.baseURI).pathname}var L_=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Ra=new A(""),$g=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new I(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(P(Ra),P(he))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Xi=class{constructor(e){this._doc=e}},gd="ng-app-id",Bg=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=md(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${gd}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(gd),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(gd,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(P(Pe),P(Pu),P(Vu,8),P(Et))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),vd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},wd=/%COMP%/g,Ug="%COMP%",V_=`_nghost-${Ug}`,j_=`_ngcontent-${Ug}`,$_=!0,B_=new A("",{providedIn:"root",factory:()=>$_});function U_(t){return j_.replace(wd,t)}function H_(t){return V_.replace(wd,t)}function Hg(t,e){return e.map(n=>n.replace(wd,t))}var Lg=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=md(c),this.defaultRenderer=new eo(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ot.ShadowDom&&(i=F(D({},i),{encapsulation:Ot.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Oa?o.applyToHost(r):o instanceof to&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case Ot.Emulated:s=new Oa(l,u,i,this.appId,h,a,c,g);break;case Ot.ShadowDom:return new Dd(l,u,r,i,a,c,this.nonce,g);default:s=new to(l,u,i,h,a,c,g);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(P($g),P(Bg),P(Pu),P(B_),P(Pe),P(Et),P(he),P(Vu))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),eo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(vd[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Vg(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Vg(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new I(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=vd[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=vd[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Qt.DashCase|Qt.Important)?e.style.setProperty(n,r,i&Qt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Qt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=nn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Vg(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Dd=class extends eo{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Hg(i.id,i.styles);for(let u of l){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},to=class extends eo{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Hg(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Oa=class extends to{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=U_(l),this.hostAttr=H_(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},z_=(()=>{let e=class e extends Xi{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(P(Pe))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),q_=(()=>{let e=class e extends Xi{constructor(r){super(r),this.delegate=p(Eg,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(P(Pe))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),jg=["alt","control","meta","shift"],G_={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},W_={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Z_=(()=>{let e=class e extends Xi{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nn().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),jg.forEach(u=>{let h=i.indexOf(u);h>-1&&(i.splice(h,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=G_[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),jg.forEach(a=>{if(a!==o){let c=W_[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(P(Pe))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function zg(t,e){return _g(D({rootComponent:t},Q_(e)))}function Q_(t){return{appProviders:[...eE,...t?.providers??[]],platformProviders:X_}}function Y_(){Cd.makeCurrent()}function K_(){return new wt}function J_(){return Cm(document),document}var X_=[{provide:Et,useValue:pd},{provide:Lu,useValue:Y_,multi:!0},{provide:Pe,useFactory:J_,deps:[]}];var eE=[{provide:ta,useValue:"root"},{provide:wt,useFactory:K_,deps:[]},{provide:Ra,useClass:z_,multi:!0,deps:[Pe,he,Et]},{provide:Ra,useClass:Z_,multi:!0,deps:[Pe]},{provide:Ra,useClass:q_,multi:!0},Lg,Bg,$g,{provide:jr,useExisting:Lg},{provide:Ta,useClass:L_,deps:[]},[]];var qg=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(P(Pe))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var z="primary",vo=Symbol("RouteTitle"),xd=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ei(t){return new xd(t)}function nE(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function rE(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Bt(t[n],e[n]))return!1;return!0}function Bt(t,e){let n=t?Md(t):void 0,r=e?Md(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!nv(t[i],e[i]))return!1;return!0}function Md(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function nv(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function rv(t){return t.length>0?t[t.length-1]:null}function Nn(t){return el(t)?t:ir(t)?oe(Promise.resolve(t)):O(t)}var iE={exact:ov,subset:sv},iv={exact:oE,subset:sE,ignored:()=>!0};function Gg(t,e,n){return iE[n.paths](t.root,e.root,n.matrixParams)&&iv[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function oE(t,e){return Bt(t,e)}function ov(t,e,n){if(!ar(t.segments,e.segments)||!Pa(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!ov(t.children[r],e.children[r],n))return!1;return!0}function sE(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>nv(t[n],e[n]))}function sv(t,e,n){return av(t,e,e.segments,n)}function av(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ar(i,n)||e.hasChildren()||!Pa(i,n,r))}else if(t.segments.length===n.length){if(!ar(t.segments,n)||!Pa(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!sv(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!ar(t.segments,i)||!Pa(t.segments,i,r)||!t.children[z]?!1:av(t.children[z],e,o,r)}}function Pa(t,e,n){return e.every((r,i)=>iv[n](t[i].parameters,r.parameters))}var on=class{constructor(e=new re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ei(this.queryParams),this._queryParamMap}toString(){return lE.serialize(this)}},re=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return La(this)}},sr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ei(this.parameters),this._parameterMap}toString(){return lv(this)}};function aE(t,e){return ar(t,e)&&t.every((n,r)=>Bt(n.parameters,e[r].parameters))}function ar(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function cE(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==z&&(n=n.concat(e(i,r)))}),n}var yo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>new ti,providedIn:"root"});let t=e;return t})(),ti=class{parse(e){let n=new Td(e);return new on(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${no(e.root,!0)}`,r=fE(e.queryParams),i=typeof e.fragment=="string"?`#${uE(e.fragment)}`:"";return`${n}${r}${i}`}},lE=new ti;function La(t){return t.segments.map(e=>lv(e)).join("/")}function no(t,e){if(!t.hasChildren())return La(t);if(e){let n=t.children[z]?no(t.children[z],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==z&&r.push(`${i}:${no(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=cE(t,(r,i)=>i===z?[no(t.children[z],!1)]:[`${i}:${no(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[z]!=null?`${La(t)}/${n[0]}`:`${La(t)}/(${n.join("//")})`}}function cv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ka(t){return cv(t).replace(/%3B/gi,";")}function uE(t){return encodeURI(t)}function Sd(t){return cv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Va(t){return decodeURIComponent(t)}function Wg(t){return Va(t.replace(/\+/g,"%20"))}function lv(t){return`${Sd(t.path)}${dE(t.parameters)}`}function dE(t){return Object.entries(t).map(([e,n])=>`;${Sd(e)}=${Sd(n)}`).join("")}function fE(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ka(n)}=${ka(i)}`).join("&"):`${ka(n)}=${ka(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var hE=/^[^\/()?;#]+/;function bd(t){let e=t.match(hE);return e?e[0]:""}var pE=/^[^\/()?;=#]+/;function mE(t){let e=t.match(pE);return e?e[0]:""}var gE=/^[^=?&#]+/;function vE(t){let e=t.match(gE);return e?e[0]:""}var yE=/^[^&#]+/;function CE(t){let e=t.match(yE);return e?e[0]:""}var Td=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[z]=new re(e,n)),r}parseSegment(){let e=bd(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(e),new sr(Va(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=mE(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=bd(this.remaining);i&&(r=i,this.capture(r))}e[Va(n)]=Va(r)}parseQueryParam(e){let n=vE(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=CE(this.remaining);s&&(r=s,this.capture(r))}let i=Wg(n),o=Wg(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=bd(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new I(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=z);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[z]:new re([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new I(4011,!1)}};function uv(t){return t.segments.length>0?new re([],{[z]:t}):t}function dv(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=dv(i);if(r===z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new re(t.segments,e);return DE(n)}function DE(t){if(t.numberOfChildren===1&&t.children[z]){let e=t.children[z];return new re(t.segments.concat(e.segments),e.children)}return t}function cr(t){return t instanceof on}function wE(t,e,n=null,r=null){let i=fv(t);return hv(i,e,n,r)}function fv(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new re(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=uv(r);return e??i}function hv(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return _d(i,i,i,n,r);let o=bE(e);if(o.toRoot())return _d(i,i,new re([],{}),n,r);let s=_E(o,i,t),a=s.processChildren?oo(s.segmentGroup,s.index,o.commands):mv(s.segmentGroup,s.index,o.commands);return _d(i,s.segmentGroup,a,n,r)}function ja(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function co(t){return typeof t=="object"&&t!=null&&t.outlets}function _d(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=pv(t,e,n);let a=uv(dv(s));return new on(a,o,i)}function pv(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=pv(o,e,n)}),new re(t.segments,r)}var $a=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ja(r[0]))throw new I(4003,!1);let i=r.find(co);if(i&&i!==rv(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function bE(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new $a(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new $a(n,e,r)}var Kr=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function _E(t,e,n){if(t.isAbsolute)return new Kr(e,!0,0);if(!n)return new Kr(e,!1,NaN);if(n.parent===null)return new Kr(n,!0,0);let r=ja(t.commands[0])?0:1,i=n.segments.length-1+r;return EE(n,i,t.numberOfDoubleDots)}function EE(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new Kr(r,!1,i-o)}function IE(t){return co(t[0])?t[0].outlets:{[z]:t}}function mv(t,e,n){if(t??=new re([],{}),t.segments.length===0&&t.hasChildren())return oo(t,e,n);let r=xE(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new re(t.segments.slice(0,r.pathIndex),{});return o.children[z]=new re(t.segments.slice(r.pathIndex),t.children),oo(o,0,i)}else return r.match&&i.length===0?new re(t.segments,{}):r.match&&!t.hasChildren()?Ad(t,e,n):r.match?oo(t,0,i):Ad(t,e,n)}function oo(t,e,n){if(n.length===0)return new re(t.segments,{});{let r=IE(n),i={};if(Object.keys(r).some(o=>o!==z)&&t.children[z]&&t.numberOfChildren===1&&t.children[z].segments.length===0){let o=oo(t.children[z],e,n);return new re(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=mv(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new re(t.segments,i)}}function xE(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(co(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Qg(c,l,s))return o;r+=2}else{if(!Qg(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ad(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(co(o)){let c=ME(o.outlets);return new re(r,c)}if(i===0&&ja(n[0])){let c=t.segments[e];r.push(new sr(c.path,Zg(n[0]))),i++;continue}let s=co(o)?o.outlets[z]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ja(a)?(r.push(new sr(s,Zg(a))),i+=2):(r.push(new sr(s,{})),i++)}return new re(r,{})}function ME(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ad(new re([],{}),0,r))}),e}function Zg(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Qg(t,e,n){return t==n.path&&Bt(e,n.parameters)}var so="imperative",Ee=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ee||{}),ft=class{constructor(e,n){this.id=e,this.url=n}},ni=class extends ft{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ee.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ut=class extends ft{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ee.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},rt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(rt||{}),Ba=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ba||{}),rn=class extends ft{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ee.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Tn=class extends ft{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ee.NavigationSkipped}},lo=class extends ft{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ee.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ua=class extends ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nd=class extends ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rd=class extends ft{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ee.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Od=class extends ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kd=class extends ft{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ee.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fd=class{constructor(e){this.route=e,this.type=Ee.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Pd=class{constructor(e){this.route=e,this.type=Ee.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ld=class{constructor(e){this.snapshot=e,this.type=Ee.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vd=class{constructor(e){this.snapshot=e,this.type=Ee.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jd=class{constructor(e){this.snapshot=e,this.type=Ee.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$d=class{constructor(e){this.snapshot=e,this.type=Ee.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ha=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Ee.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},uo=class{},ri=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function SE(t,e){return t.providers&&!t._injector&&(t._injector=Da(t.providers,e,`Route: ${t.path}`)),t._injector??e}function It(t){return t.outlet||z}function TE(t,e){let n=t.filter(r=>It(r)===e);return n.push(...t.filter(r=>It(r)!==e)),n}function Co(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Bd=class{get injector(){return Co(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Do(this.rootInjector),this.attachRef=null}},Do=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Bd(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(P(et))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),za=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ud(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ud(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Hd(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Hd(e,this._root).map(n=>n.value)}};function Ud(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ud(t,n);if(r)return r}return null}function Hd(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Hd(t,n);if(r.length)return r.unshift(e),r}return[]}var nt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Yr(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var qa=class extends za{constructor(e,n){super(e),this.snapshot=n,Jd(this,e)}toString(){return this.snapshot.toString()}};function gv(t){let e=AE(t),n=new Ie([new sr("",{})]),r=new Ie({}),i=new Ie({}),o=new Ie({}),s=new Ie(""),a=new An(n,r,o,s,i,z,t,e.root);return a.snapshot=e.root,new qa(new nt(a,[]),e)}function AE(t){let e={},n={},r={},i="",o=new Jr([],e,r,i,n,z,t,null,{});return new Wa("",new nt(o,[]))}var An=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(j(l=>l[vo]))??O(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(e=>ei(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(e=>ei(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ga(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:D(D({},e.params),t.params),data:D(D({},e.data),t.data),resolve:D(D(D(D({},t.data),e.data),i?.data),t._resolvedData)}:r={params:D({},t.params),data:D({},t.data),resolve:D(D({},t.data),t._resolvedData??{})},i&&yv(i)&&(r.resolve[vo]=i.title),r}var Jr=class{get title(){return this.data?.[vo]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ei(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ei(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Wa=class extends za{constructor(e,n){super(n),this.url=e,Jd(this,n)}toString(){return vv(this._root)}};function Jd(t,e){e.value._routerState=t,e.children.forEach(n=>Jd(t,n))}function vv(t){let e=t.children.length>0?` { ${t.children.map(vv).join(", ")} } `:"";return`${t.value}${e}`}function Ed(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Bt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Bt(e.params,n.params)||t.paramsSubject.next(n.params),rE(e.url,n.url)||t.urlSubject.next(n.url),Bt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function zd(t,e){let n=Bt(t.params,e.params)&&aE(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||zd(t.parent,e.parent))}function yv(t){return typeof t.title=="string"||t.title===null}var Xd=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=z,this.activateEvents=new ye,this.deactivateEvents=new ye,this.attachEvents=new ye,this.detachEvents=new ye,this.parentContexts=p(Do),this.location=p(Qi),this.changeDetector=p(or),this.inputBinder=p(Ka,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new qd(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ce({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ze]});let t=e;return t})(),qd=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===An?this.route:e===Do?this.childContexts:this.parent.get(e,n)}},Ka=new A(""),Yg=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Mi([i.queryParams,i.params,i.data]).pipe(xe(([s,a,c],l)=>(c=D(D(D({},s),a),c),l===0?O(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=Ig(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function NE(t,e,n){let r=fo(t,e._root,n?n._root:void 0);return new qa(r,e)}function fo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=RE(t,e,n);return new nt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>fo(t,a)),s}}let r=OE(e.value),i=e.children.map(o=>fo(t,o));return new nt(r,i)}}function RE(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return fo(t,r,i);return fo(t,r)})}function OE(t){return new An(new Ie(t.url),new Ie(t.params),new Ie(t.queryParams),new Ie(t.fragment),new Ie(t.data),t.outlet,t.component,t)}var ho=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Cv="ngNavigationCancelingError";function Za(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=cr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Dv(!1,rt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Dv(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Cv]=!0,n.cancellationCode=e,n}function kE(t){return wv(t)&&cr(t.url)}function wv(t){return!!t&&t[Cv]}var FE=(t,e,n,r)=>j(i=>(new Gd(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Gd=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Ed(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Yr(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Yr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Yr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Yr(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new $d(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Vd(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Ed(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ed(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Qa=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Xr=class{constructor(e,n){this.component=e,this.route=n}};function PE(t,e,n){let r=t._root,i=e?e._root:null;return ro(r,i,n,[r.value])}function LE(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function oi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ip(t)?t:e.get(t):r}function ro(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Yr(e);return t.children.forEach(s=>{VE(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ao(a,n.getContext(s),i)),i}function VE(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=jE(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Qa(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ro(t,e,a?a.children:null,r,i):ro(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xr(a.outlet.component,s))}else s&&ao(e,a,i),i.canActivateChecks.push(new Qa(r)),o.component?ro(t,null,a?a.children:null,r,i):ro(t,null,n,r,i);return i}function jE(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ar(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ar(t.url,e.url)||!Bt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zd(t,e)||!Bt(t.queryParams,e.queryParams);case"paramsChange":default:return!zd(t,e)}}function ao(t,e,n){let r=Yr(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ao(s,e.children.getContext(o),n):ao(s,null,n):ao(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Xr(e.outlet.component,i)):n.canDeactivateChecks.push(new Xr(null,i)):n.canDeactivateChecks.push(new Xr(null,i))}function wo(t){return typeof t=="function"}function $E(t){return typeof t=="boolean"}function BE(t){return t&&wo(t.canLoad)}function UE(t){return t&&wo(t.canActivate)}function HE(t){return t&&wo(t.canActivateChild)}function zE(t){return t&&wo(t.canDeactivate)}function qE(t){return t&&wo(t.canMatch)}function bv(t){return t instanceof Zt||t?.name==="EmptyError"}var Fa=Symbol("INITIAL_VALUE");function ii(){return xe(t=>Mi(t.map(e=>e.pipe(be(1),al(Fa)))).pipe(j(e=>{for(let n of e)if(n!==!0){if(n===Fa)return Fa;if(n===!1||GE(n))return n}return!0}),ge(e=>e!==Fa),be(1)))}function GE(t){return cr(t)||t instanceof ho}function WE(t,e){return fe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?O(F(D({},n),{guardsResult:!0})):ZE(s,r,i,t).pipe(fe(a=>a&&$E(a)?QE(r,o,t,e):O(a)),j(a=>F(D({},n),{guardsResult:a})))})}function ZE(t,e,n,r){return oe(t).pipe(fe(i=>eI(i.component,i.route,n,e,r)),At(i=>i!==!0,!0))}function QE(t,e,n,r){return oe(e).pipe(Hn(i=>Tt(KE(i.route.parent,r),YE(i.route,r),XE(t,i.path,n),JE(t,i.route,n))),At(i=>i!==!0,!0))}function YE(t,e){return t!==null&&e&&e(new jd(t)),O(!0)}function KE(t,e){return t!==null&&e&&e(new Ld(t)),O(!0)}function JE(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let i=r.map(o=>Bn(()=>{let s=Co(e)??n,a=oi(o,s),c=UE(a)?a.canActivate(e,t):Lt(s,()=>a(e,t));return Nn(c).pipe(At())}));return O(i).pipe(ii())}function XE(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>LE(s)).filter(s=>s!==null).map(s=>Bn(()=>{let a=s.guards.map(c=>{let l=Co(s.node)??n,u=oi(c,l),h=HE(u)?u.canActivateChild(r,t):Lt(l,()=>u(r,t));return Nn(h).pipe(At())});return O(a).pipe(ii())}));return O(o).pipe(ii())}function eI(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return O(!0);let s=o.map(a=>{let c=Co(e)??i,l=oi(a,c),u=zE(l)?l.canDeactivate(t,e,n,r):Lt(c,()=>l(t,e,n,r));return Nn(u).pipe(At())});return O(s).pipe(ii())}function tI(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return O(!0);let o=i.map(s=>{let a=oi(s,t),c=BE(a)?a.canLoad(e,n):Lt(t,()=>a(e,n));return Nn(c)});return O(o).pipe(ii(),_v(r))}function _v(t){return Qc(le(e=>{if(typeof e!="boolean")throw Za(t,e)}),j(e=>e===!0))}function nI(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return O(!0);let o=i.map(s=>{let a=oi(s,t),c=qE(a)?a.canMatch(e,n):Lt(t,()=>a(e,n));return Nn(c)});return O(o).pipe(ii(),_v(r))}var po=class{constructor(e){this.segmentGroup=e||null}},mo=class extends Error{constructor(e){super(),this.urlTree=e}};function Qr(t){return cn(new po(t))}function rI(t){return cn(new I(4e3,!1))}function iI(t){return cn(Dv(!1,rt.GuardRejected))}var Wd=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return O(r);if(i.numberOfChildren>1||!i.children[z])return rI(`${e.redirectTo}`);i=i.children[z]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:h,outlet:g,params:m,data:w,title:L}=i,X=Lt(o,()=>a({params:m,data:w,queryParams:c,fragment:l,routeConfig:u,url:h,outlet:g,title:L}));if(X instanceof on)throw new mo(X);n=X}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new mo(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new on(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new re(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new I(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Zd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oI(t,e,n,r,i){let o=Ev(t,e,n);return o.matched?(r=SE(e,r),nI(r,e,n,i).pipe(j(s=>s===!0?o:D({},Zd)))):O(o)}function Ev(t,e,n){if(e.path==="**")return sI(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?D({},Zd):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||nE)(n,t,e);if(!i)return D({},Zd);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?D(D({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function sI(t){return{matched:!0,parameters:t.length>0?rv(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Kg(t,e,n,r){return n.length>0&&lI(t,n,r)?{segmentGroup:new re(e,cI(r,new re(n,t.children))),slicedSegments:[]}:n.length===0&&uI(t,n,r)?{segmentGroup:new re(t.segments,aI(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new re(t.segments,t.children),slicedSegments:n}}function aI(t,e,n,r){let i={};for(let o of n)if(Ja(t,e,o)&&!r[It(o)]){let s=new re([],{});i[It(o)]=s}return D(D({},r),i)}function cI(t,e){let n={};n[z]=e;for(let r of t)if(r.path===""&&It(r)!==z){let i=new re([],{});n[It(r)]=i}return n}function lI(t,e,n){return n.some(r=>Ja(t,e,r)&&It(r)!==z)}function uI(t,e,n){return n.some(r=>Ja(t,e,r))}function Ja(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function dI(t,e,n){return e.length===0&&!t.children[n]}var Qd=class{};function fI(t,e,n,r,i,o,s="emptyOnly"){return new Yd(t,e,n,r,i,s,o).recognize()}var hI=31,Yd=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Wd(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new I(4002,`'${e.segmentGroup}'`)}recognize(){let e=Kg(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(j(({children:n,rootSnapshot:r})=>{let i=new nt(r,n),o=new Wa("",i),s=wE(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Jr([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,z,n).pipe(j(r=>({children:r,rootSnapshot:n})),un(r=>{if(r instanceof mo)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof po?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(j(s=>s instanceof nt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return oe(o).pipe(Hn(s=>{let a=r.children[s],c=TE(n,s);return this.processSegmentGroup(e,c,a,s,i)}),sl((s,a)=>(s.push(...a),s)),dn(null),il(),fe(s=>{if(s===null)return Qr(r);let a=Iv(s);return pI(a),O(a)}))}processSegment(e,n,r,i,o,s,a){return oe(n).pipe(Hn(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(un(l=>{if(l instanceof po)return O(null);throw l}))),At(c=>!!c),un(c=>{if(bv(c))return dI(r,i,o)?O(new Qd):Qr(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return It(r)!==s&&(s===z||!Ja(i,o,r))?Qr(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):Qr(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:h,remainingSegments:g}=Ev(n,i,o);if(!c)return Qr(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>hI&&(this.allowRedirects=!1));let m=new Jr(o,l,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Jg(i),It(i),i.component??i._loadedComponent??null,i,Xg(i)),w=Ga(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(w.params),m.data=Object.freeze(w.data);let L=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,h,m,e);return this.applyRedirects.lineralizeSegments(i,L).pipe(fe(X=>this.processSegment(e,r,n,X.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=oI(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(xe(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(xe(({routes:l})=>{let u=r._loadedInjector??e,{parameters:h,consumedSegments:g,remainingSegments:m}=c,w=new Jr(g,h,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Jg(r),It(r),r.component??r._loadedComponent??null,r,Xg(r)),L=Ga(w,s,this.paramsInheritanceStrategy);w.params=Object.freeze(L.params),w.data=Object.freeze(L.data);let{segmentGroup:X,slicedSegments:J}=Kg(n,g,m,l);if(J.length===0&&X.hasChildren())return this.processChildren(u,l,X,w).pipe(j($e=>new nt(w,$e)));if(l.length===0&&J.length===0)return O(new nt(w,[]));let pe=It(r)===o;return this.processSegment(u,l,X,J,pe?z:o,!0,w).pipe(j($e=>new nt(w,$e instanceof nt?[$e]:[])))}))):Qr(n)))}getChildConfig(e,n,r){return n.children?O({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?O({routes:n._loadedRoutes,injector:n._loadedInjector}):tI(e,n,r,this.urlSerializer).pipe(fe(i=>i?this.configLoader.loadChildren(e,n).pipe(le(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):iI(n))):O({routes:[],injector:e})}};function pI(t){t.sort((e,n)=>e.value.outlet===z?-1:n.value.outlet===z?1:e.value.outlet.localeCompare(n.value.outlet))}function mI(t){let e=t.value.routeConfig;return e&&e.path===""}function Iv(t){let e=[],n=new Set;for(let r of t){if(!mI(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Iv(r.children);e.push(new nt(r.value,i))}return e.filter(r=>!n.has(r))}function Jg(t){return t.data||{}}function Xg(t){return t.resolve||{}}function gI(t,e,n,r,i,o){return fe(s=>fI(t,e,n,r,s.extractedUrl,i,o).pipe(j(({state:a,tree:c})=>F(D({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function vI(t,e){return fe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return O(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of xv(c))s.add(l);let a=0;return oe(s).pipe(Hn(c=>o.has(c)?yI(c,r,t,e):(c.data=Ga(c,c.parent,t).resolve,O(void 0))),le(()=>a++),_r(1),fe(c=>a===s.size?O(n):Ae))})}function xv(t){let e=t.children.map(n=>xv(n)).flat();return[t,...e]}function yI(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!yv(i)&&(o[vo]=i.title),CI(o,t,e,r).pipe(j(s=>(t._resolvedData=s,t.data=Ga(t,t.parent,n).resolve,null)))}function CI(t,e,n,r){let i=Md(t);if(i.length===0)return O({});let o={};return oe(i).pipe(fe(s=>DI(t[s],e,n,r).pipe(At(),le(a=>{if(a instanceof ho)throw Za(new ti,a);o[s]=a}))),_r(1),Si(o),un(s=>bv(s)?Ae:cn(s)))}function DI(t,e,n,r){let i=Co(e)??r,o=oi(t,i),s=o.resolve?o.resolve(e,n):Lt(i,()=>o(e,n));return Nn(s)}function Id(t){return xe(e=>{let n=t(e);return n?oe(n).pipe(j(()=>e)):O(e)})}var Mv=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===z);return i}getResolvedTitleForRoute(r){return r.data[vo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>p(wI),providedIn:"root"});let t=e;return t})(),wI=(()=>{let e=class e extends Mv{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(P(qg))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bo=new A("",{providedIn:"root",factory:()=>({})}),bI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=x({type:e,selectors:[["ng-component"]],standalone:!0,features:[M],decls:1,vars:0,template:function(i,o){i&1&&b(0,"router-outlet")},dependencies:[Xd],encapsulation:2});let t=e;return t})();function ef(t){let e=t.children&&t.children.map(ef),n=e?F(D({},t),{children:e}):D({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==z&&(n.component=bI),n}var go=new A(""),tf=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=p(Ma)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return O(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Nn(r.loadComponent()).pipe(j(Sv),le(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ti(()=>{this.componentLoaders.delete(r)})),o=new an(i,()=>new ce).pipe(yr());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return O({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=_I(i,this.compiler,r,this.onLoadEndListener).pipe(Ti(()=>{this.childrenLoaders.delete(i)})),a=new an(s,()=>new ce).pipe(yr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _I(t,e,n,r){return Nn(t.loadChildren()).pipe(j(Sv),fe(i=>i instanceof Bi||Array.isArray(i)?O(i):oe(e.compileModuleAsync(i))),j(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(go,[],{optional:!0,self:!0}).flat()),{routes:s.map(ef),injector:o}}))}function EI(t){return t&&typeof t=="object"&&"default"in t}function Sv(t){return EI(t)?t.default:t}var nf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>p(II),providedIn:"root"});let t=e;return t})(),II=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Tv=new A(""),Av=new A("");function xI(t,e,n){let r=t.get(Av),i=t.get(Pe);return t.get(he).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),MI(t))),{onViewTransitionCreated:c}=r;return c&&Lt(t,()=>c({transition:a,from:e,to:n})),s})}function MI(t){return new Promise(e=>{nd({read:()=>setTimeout(e)},{injector:t})})}var SI=new A(""),rf=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ce,this.transitionAbortSubject=new ce,this.configLoader=p(tf),this.environmentInjector=p(et),this.urlSerializer=p(yo),this.rootContexts=p(Do),this.location=p(Zr),this.inputBindingEnabled=p(Ka,{optional:!0})!==null,this.titleStrategy=p(Mv),this.options=p(bo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=p(nf),this.createViewTransition=p(Tv,{optional:!0}),this.navigationErrorHandler=p(SI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>O(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Fd(o)),i=o=>this.events.next(new Pd(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(F(D(D({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ie({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:so,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ge(s=>s.id!==0),j(s=>F(D({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),xe(s=>{let a=!1,c=!1;return O(s).pipe(xe(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",rt.SupersededByNewNavigation),Ae;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?F(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&h!=="reload"){let g="";return this.events.next(new Tn(l.id,this.urlSerializer.serialize(l.rawUrl),g,Ba.IgnoredSameUrlNavigation)),l.resolve(!1),Ae}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return O(l).pipe(xe(g=>{let m=this.transitions?.getValue();return this.events.next(new ni(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),m!==this.transitions?.getValue()?Ae:Promise.resolve(g)}),gI(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),le(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=F(D({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let m=new Ua(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:g,extractedUrl:m,source:w,restoredState:L,extras:X}=l,J=new ni(g,this.urlSerializer.serialize(m),w,L);this.events.next(J);let pe=gv(this.rootComponentType).snapshot;return this.currentTransition=s=F(D({},l),{targetSnapshot:pe,urlAfterRedirects:m,extras:F(D({},X),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,O(s)}else{let g="";return this.events.next(new Tn(l.id,this.urlSerializer.serialize(l.extractedUrl),g,Ba.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ae}}),le(l=>{let u=new Nd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),j(l=>(this.currentTransition=s=F(D({},l),{guards:PE(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),WE(this.environmentInjector,l=>this.events.next(l)),le(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Za(this.urlSerializer,l.guardsResult);let u=new Rd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),ge(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",rt.GuardRejected),!1)),Id(l=>{if(l.guards.canActivateChecks.length)return O(l).pipe(le(u=>{let h=new Od(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),xe(u=>{let h=!1;return O(u).pipe(vI(this.paramsInheritanceStrategy,this.environmentInjector),le({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",rt.NoDataFromResolver)}}))}),le(u=>{let h=new kd(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),Id(l=>{let u=h=>{let g=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(h.routeConfig).pipe(le(m=>{h.component=m}),j(()=>{})));for(let m of h.children)g.push(...u(m));return g};return Mi(u(l.targetSnapshot.root)).pipe(dn(null),be(1))}),Id(()=>this.afterPreactivation()),xe(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,h=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return h?oe(h).pipe(j(()=>s)):O(s)}),j(l=>{let u=NE(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=F(D({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),le(()=>{this.events.next(new uo)}),FE(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),be(1),le({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ut(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Ai(this.transitionAbortSubject.pipe(le(l=>{throw l}))),Ti(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",rt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),un(l=>{if(c=!0,wv(l))this.events.next(new rn(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),kE(l)?this.events.next(new ri(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let u=new lo(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let h=Lt(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(h instanceof ho){let{message:g,cancellationCode:m}=Za(this.urlSerializer,h);this.events.next(new rn(s.id,this.urlSerializer.serialize(s.extractedUrl),g,m)),this.events.next(new ri(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(u);let g=r.errorHandler(l);s.resolve(!!g)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return Ae}))}))}cancelNavigationTransition(r,i,o){let s=new rn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function TI(t){return t!==so}var AI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>p(NI),providedIn:"root"});let t=e;return t})(),Kd=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},NI=(()=>{let e=class e extends Kd{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=In(e)))(o||e)}})(),e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:()=>p(RI),providedIn:"root"});let t=e;return t})(),RI=(()=>{let e=class e extends Nv{constructor(){super(...arguments),this.location=p(Zr),this.urlSerializer=p(yo),this.options=p(bo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=p(nf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new on,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=gv(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ni)this.stateMemento=this.createStateMemento();else if(r instanceof Tn)this.rawUrlTree=i.initialUrl;else if(r instanceof Ua){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof uo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof rn&&(r.code===rt.GuardRejected||r.code===rt.NoDataFromResolver)?this.restoreHistory(i):r instanceof lo?this.restoreHistory(i,!0):r instanceof Ut&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof on?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=D(D({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=D(D({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=In(e)))(o||e)}})(),e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),io=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(io||{});function Rv(t,e){t.events.pipe(ge(n=>n instanceof Ut||n instanceof rn||n instanceof lo||n instanceof Tn),j(n=>n instanceof Ut||n instanceof Tn?io.COMPLETE:(n instanceof rn?n.code===rt.Redirect||n.code===rt.SupersededByNewNavigation:!1)?io.REDIRECTING:io.FAILED),ge(n=>n!==io.REDIRECTING),be(1)).subscribe(()=>{e()})}function OI(t){throw t}var kI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=p(Ia),this.stateManager=p(Nv),this.options=p(bo,{optional:!0})||{},this.pendingTasks=p(rr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=p(rf),this.urlSerializer=p(yo),this.location=p(Zr),this.urlHandlingStrategy=p(nf),this._events=new ce,this.errorHandler=this.options.errorHandler||OI,this.navigated=!1,this.routeReuseStrategy=p(AI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=p(go,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!p(Ka,{optional:!0}),this.eventsSubscription=new me,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof rn&&i.code!==rt.Redirect&&i.code!==rt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ut)this.navigated=!0;else if(i instanceof ri){let a=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=D({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||TI(o.source)},a);this.scheduleNavigation(c,so,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}LI(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),so,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=D({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(ef),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,h=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":h=D(D({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let g;try{let m=o?o.snapshot:this.routerState.snapshot.root;g=fv(m)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),g=this.currentUrlTree.root}return hv(g,r,h,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=cr(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,so,null,i)}navigate(r,i={skipLocationChange:!1}){return PI(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=D({},kI):i===!1?o=D({},FI):o=i,cr(r))return Gg(this.currentUrlTree,r,o);let s=this.parseUrl(r);return Gg(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((g,m)=>{c=g,l=m});let h=this.pendingTasks.add();return Rv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(g=>Promise.reject(g))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PI(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new I(4008,!1)}function LI(t){return!(t instanceof uo)&&!(t instanceof ri)}var si=(()=>{let e=class e{constructor(r,i,o,s,a,c){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=c,this.href=null,this.onChanges=new ce,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof Ut&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(cr(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,o,s,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:bm(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.routerLinkInput===null?null:cr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)($(xt),$(An),Ou("tabindex"),$(Vt),$(_t),$($t))},e.\u0275dir=Ce({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&E("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&ne("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Wr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Wr],replaceUrl:[2,"replaceUrl","replaceUrl",Wr],routerLink:"routerLink"},standalone:!0,features:[td,ze]});let t=e;return t})();var Ya=class{};var VI=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ge(r=>r instanceof Ut),Hn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Da(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return oe(o).pipe(ln())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=O(null);let s=o.pipe(fe(a=>a===null?O(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return oe([s,a]).pipe(ln())}else return s})}};e.\u0275fac=function(i){return new(i||e)(P(xt),P(Ma),P(et),P(Ya),P(tf))},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ov=new A(""),jI=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ni?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Ut?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Tn&&r.code===Ba.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ha&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ha(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){km()},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();function kv(t,...e){return Ur([{provide:go,multi:!0,useValue:t},[],{provide:An,useFactory:Fv,deps:[xt]},{provide:xa,multi:!0,useFactory:Pv},e.map(n=>n.\u0275providers)])}function Fv(t){return t.routerState.root}function ai(t,e){return{\u0275kind:t,\u0275providers:e}}function Pv(){let t=p(Se);return e=>{let n=t.get(jt);if(e!==n.components[0])return;let r=t.get(xt),i=t.get(Lv);t.get(of)===1&&r.initialNavigation(),t.get(Vv,null,Q.Optional)?.setUpPreloading(),t.get(Ov,null,Q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Lv=new A("",{factory:()=>new ce}),of=new A("",{providedIn:"root",factory:()=>1});function $I(){return ai(2,[{provide:of,useValue:0},{provide:Gr,multi:!0,deps:[Se],useFactory:e=>{let n=e.get(Rg,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(xt),o=e.get(Lv);Rv(i,()=>{r(!0)}),e.get(rf).afterPreactivation=()=>(r(!0),o.closed?O(void 0):o),i.initialNavigation()}))}}])}function BI(){return ai(3,[{provide:Gr,multi:!0,useFactory:()=>{let e=p(xt);return()=>{e.setUpLocationChangeListener()}}},{provide:of,useValue:2}])}var Vv=new A("");function UI(t){return ai(0,[{provide:Vv,useExisting:VI},{provide:Ya,useExisting:t}])}function jv(){return ai(6,[{provide:$t,useClass:hd}])}function HI(){return ai(8,[Yg,{provide:Ka,useExisting:Yg}])}function zI(t){let e=[{provide:Tv,useValue:xI},{provide:Av,useValue:D({skipNextTransition:!!t?.skipInitialTransition},t)}];return ai(9,e)}var ev=new A("ROUTER_FORROOT_GUARD"),qI=[Zr,{provide:yo,useClass:ti},xt,Do,{provide:An,useFactory:Fv,deps:[xt]},tf,[]],Xa=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[qI,[],{provide:go,multi:!0,useValue:r},{provide:ev,useFactory:QI,deps:[[xt,new ea,new Cu]]},{provide:bo,useValue:i||{}},i?.useHash?WI():ZI(),GI(),i?.preloadingStrategy?UI(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?YI(i):[],i?.bindToComponentInputs?HI().\u0275providers:[],i?.enableViewTransitions?zI().\u0275providers:[],KI()]}}static forChild(r){return{ngModule:e,providers:[{provide:go,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(P(ev,8))},e.\u0275mod=bn({type:e}),e.\u0275inj=wn({});let t=e;return t})();function GI(){return{provide:Ov,useFactory:()=>{let t=p(Na),e=p(he),n=p(bo),r=p(rf),i=p(yo);return n.scrollOffset&&t.setOffset(n.scrollOffset),new jI(i,r,t,e,n)}}}function WI(){return{provide:$t,useClass:hd}}function ZI(){return{provide:$t,useClass:fd}}function QI(t){return"guarded"}function YI(t){return[t.initialNavigation==="disabled"?BI().\u0275providers:[],t.initialNavigation==="enabledBlocking"?$I().\u0275providers:[]]}var tv=new A("");function KI(){return[{provide:tv,useFactory:Pv},{provide:xa,multi:!0,useExisting:tv}]}var ht=class{evaluate(e){return!0}},it=class{constructor(e){this.variable=e}evaluate(e){return e[this.variable]}},Le=class t extends it{static string="please_select";constructor(){super(t.string)}},Ze=class{constructor(e){this.not=e}evaluate(e){return!this.not.evaluate(e)}},Ve=class{constructor(e,n){this.left=e;this.right=n}evaluate(e){return this.left.evaluate(e)&&this.right.evaluate(e)}},je=class{constructor(e,n){this.left=e;this.right=n}evaluate(e){return this.left.evaluate(e)||this.right.evaluate(e)}};function Bv(t,e){let n=localStorage.getItem(t);return n&&console.log("Loaded "+t+" from local storage"),n||e}function _o(t,e){e?(console.log("Saved "+t+" to local storage"),localStorage.setItem(t,e)):(console.log("Deleted "+t+" from local storage"),localStorage.removeItem(t))}var Uv={fadeOutDisabledRules:!1,trackWeight:!1,answersLocked:!1},Qe=class t{config=Uv;constructor(){let e=localStorage.getItem("config");e&&(this.config=JSON.parse(e))}persist(){_o("config",JSON.stringify(this.config))}resetConfig(){this.config=Uv,this.persist()}setFadeOutDisabledRules(e){this.config.fadeOutDisabledRules=e,this.persist()}isFadeOutDisabledRules(){return this.config.fadeOutDisabledRules}setTrackWeight(e){this.config.trackWeight=e,this.persist()}isTrackWeight(){return this.config.trackWeight}isAnswersLocked(){return this.config.answersLocked}setAnswersLocked(e){this.config.answersLocked=e,this.persist()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})};var Hv=/^\s*\[(?<category>.+?)\]\s*(?<name>.+)\s*$/,zv=/^\s*(?<question>.*)\s+\$(?<variable>[^ ]+)\s*$/,Ye=class t{config=p(Qe);parseCondition(e){let n=e.trim().split(" ");if(n.includes("OR")){let r=n.indexOf("OR");return new je(this.parseCondition(n.slice(0,r).join(" ")),this.parseCondition(n.slice(r+1).join(" ")))}else if(n.includes("AND")){let r=n.indexOf("AND");return new Ve(this.parseCondition(n.slice(0,r).join(" ")),this.parseCondition(n.slice(r+1).join(" ")))}else{if(n[0]==="NOT")return new Ze(this.parseCondition(n.slice(1).join(" ")));if(n.length===1&&n[0].trim())return new it(n[0].trim());throw new Error("Could not parse condition from '"+e+"'")}}parseQuestion(e){let n=e.match(zv);if(!n||!n.groups)throw new Error("Could not parse question from '"+e+"'");return{question:n.groups.question,variable:n.groups.variable}}extractItemNameAndWeight(e){if(!e)return["",0];if(!this.config.isTrackWeight())return[e.trim(),0];let n=e.trim().match(/^(.+)\s+(\d+(\.\d+)?)(k?g)?$/);if(n){let r=n[1].trim(),i=parseFloat(n[2])*(n[4]==="kg"?1e3:1);return[r,i]}else return[e.trim(),0]}parseItem(e){let n=e.match(Hv);if(!n||!n.groups)throw new Error("Could not parse item from '"+e+"'");let[r,i]=this.extractItemNameAndWeight(n.groups.name);return{category:n.groups.category,name:r,weight:i}}parseEffects(e){let n=e.split(",").map(o=>o.trim()).filter(Boolean),r=[],i=[];for(let o of n)if(zv.test(o))r.push(this.parseQuestion(o));else if(Hv.test(o))i.push(this.parseItem(o));else throw new Error("Could not parse effect from '"+o+"'");return{questions:r,items:i}}parseRule(e){let n=e.split(":-");if(n.length!==2)throw new Error("Could not parse rule from '"+e+"'");let r;return n[0].trim()?r=this.parseCondition(n[0]):r=new ht,{condition:r,effects:this.parseEffects(n[1])}}parseRules(e){return e.split(`
`).filter(r=>!r.trim().startsWith("#")).map(r=>r.replace(/#.*/,"")).join(`
`).split(";").map(r=>r.trim()).filter(Boolean).map(this.parseRule.bind(this))}extractVariables(e){let n=new Set;for(let r of e)for(let i of r.effects.questions)n.add(i.variable);return Array.from(n)}extractCategories(e){let n=new Set;for(let r of e)for(let i of r.effects.items)n.add(i.category);return Array.from(n)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})};function pt(t){t||(qi(pt),t=p(xn));let e=new B(n=>t.onDestroy(n.next.bind(n)));return n=>n.pipe(Ai(e))}function sf(t,e){!e?.injector&&qi(sf);let n=e?.injector??p(Se),r=new Ei(1),i=Ki(()=>{let o;try{o=t()}catch(s){dt(()=>r.error(s));return}dt(()=>r.next(o))},{injector:n,manualCleanup:!0});return n.get(xn).onDestroy(()=>{i.destroy(),r.complete()}),r.asObservable()}var qv="view",Ke=class t{embedded=de(qv);setMode(e){this.embedded.set(e)}isMode(...e){return e.includes(this.embedded())}asObservable(){return sf(this.embedded)}reset(){this.setMode(qv)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})};var JI=()=>["","not","and","or"],Gv=()=>["","or"],Wv=()=>[""];function XI(t,e){t&1&&(d(0,"span",1),v(1,"IF"),f())}function ex(t,e){t&1&&ba(0)}function tx(t,e){if(t&1&&R(0,ex,1,0,"ng-container",2),t&2){C();let n=_a(8);N("ngTemplateOutlet",n)("ngTemplateOutletContext","")}}function nx(t,e){t&1&&ba(0)}function rx(t,e){if(t&1&&R(0,nx,1,0,"ng-container",2),t&2){let n=C(),r=_a(8);N("ngTemplateOutlet",r)("ngTemplateOutletContext",n.state())}}function ix(t,e){if(t&1){let n=te();d(0,"app-editor-condition",4),E("conditionChanged",function(i){Y(n);let o=C(2);return K(o.bubbleNotChange(i))}),f()}if(t&2){let n=C(2);N("depth",n.depth()+1)("condition",e.not)("variables",n.variables())("forbidden",qr(4,JI))}}function ox(t,e){if(t&1&&(d(0,"span",1),v(1,"NOT"),f(),R(2,ix,1,5,"app-editor-condition",3)),t&2){let n,r=C();y(2),S((n=r.asNot(r.state().condition))?2:-1,n)}}function sx(t,e){if(t&1){let n=te();d(0,"app-editor-condition",4),E("conditionChanged",function(i){Y(n);let o=C(2);return K(o.bubbleAndLeftChange(i))}),f(),d(1,"span",1),v(2,"AND"),f(),d(3,"app-editor-condition",4),E("conditionChanged",function(i){Y(n);let o=C(2);return K(o.bubbleAndRightChange(i))}),f()}if(t&2){let n=e,r=C(2);N("depth",r.depth()+1)("condition",n.left)("variables",r.variables())("forbidden",qr(8,Gv)),y(3),N("depth",r.depth()+1)("condition",n.right)("variables",r.variables())("forbidden",qr(9,Gv))}}function ax(t,e){if(t&1&&R(0,sx,4,10),t&2){let n,r=C();S((n=r.asAnd(r.state().condition))?0:-1,n)}}function cx(t,e){if(t&1){let n=te();d(0,"app-editor-condition",4),E("conditionChanged",function(i){Y(n);let o=C(2);return K(o.bubbleOrLeftChange(i))}),f(),d(1,"span",1),v(2,"OR"),f(),d(3,"app-editor-condition",4),E("conditionChanged",function(i){Y(n);let o=C(2);return K(o.bubbleOrRightChange(i))}),f()}if(t&2){let n=e,r=C(2);N("depth",r.depth()+1)("condition",n.left)("variables",r.variables())("forbidden",qr(8,Wv)),y(3),N("depth",r.depth()+1)("condition",n.right)("variables",r.variables())("forbidden",qr(9,Wv))}}function lx(t,e){if(t&1&&R(0,cx,4,10),t&2){let n,r=C();S((n=r.asOr(r.state().condition))?0:-1,n)}}function ux(t,e){t&1&&(d(0,"pre"),v(1,"UNKNOWN"),f())}function dx(t,e){t&1&&(d(0,"option",7),v(1,"always active"),f())}function fx(t,e){t&1&&(d(0,"option",8),v(1,"NOT x"),f())}function hx(t,e){t&1&&(d(0,"option",9),v(1,"x AND x"),f())}function px(t,e){t&1&&(d(0,"option",10),v(1,"x OR x"),f())}function mx(t,e){if(t&1&&(d(0,"option",11),v(1),f()),t&2){let n=C().$implicit,r=C(2).context,i=C();Yi("value",n),N("selected",r===n)("disabled",n===i.please_select),y(),We(" ",n," ")}}function gx(t,e){if(t&1&&R(0,dx,2,0,"option",7)(1,fx,2,0,"option",8)(2,hx,2,0,"option",9)(3,px,2,0,"option",10)(4,mx,2,4,"option",11),t&2){let n,r=e.$implicit;S((n=r)===""?0:n==="not"?1:n==="and"?2:n==="or"?3:4)}}function vx(t,e){if(t&1){let n=te();d(0,"select",6,0),E("change",function(){Y(n);let i=_a(1),o=C(2);return K(o.selection(i.value))}),qe(2,gx,5,1,null,null,en),f()}if(t&2){let n=C(2);y(2),Ge(n.options())}}function yx(t,e){if(t&1&&(d(0,"span",5),v(1),f()),t&2){let n=C().context;y(),De(n)}}function Cx(t,e){if(t&1&&R(0,vx,4,0,"select",5)(1,yx,2,1,"span",5),t&2){let n=e.context,r=C();S(r.mode.isMode("edit")?0:n?1:-1)}}var ec=class t{condition=k.required();variables=k.required();forbidden=k([]);depth=k(0);mode=p(Ke);please_select=Le.string;options=ve(()=>{let e=[];this.condition()instanceof Le&&e.push(Le.string),this.forbidden().includes("")||e.push(""),e.push(...this.variables());for(let n of["not","or","and"])this.forbidden().includes(n)||e.push(n);return e});state=ve(()=>{let e=this.condition();return e instanceof ht?{type:"true"}:e instanceof it?{type:"variable",context:e.variable}:e instanceof Ze?{type:"not",condition:e}:e instanceof Ve?{type:"and",condition:e}:e instanceof je?{type:"or",condition:e}:{type:"unknown"}});isAlwaysActive(){return this.condition()instanceof ht}asNot(e){if(e instanceof Ze)return e;throw new Error("Expected Not")}asAnd(e){if(e instanceof Ve)return e;throw new Error("Expected And")}asOr(e){if(e instanceof je)return e;throw new Error("Expected Or")}conditionChanged=ct();selection(e){e===""?this.conditionChanged.emit(new ht):e==="not"?this.conditionChanged.emit(new Ze(new Le)):e==="and"?this.conditionChanged.emit(new Ve(new Le,new Le)):e==="or"?this.conditionChanged.emit(new je(new Le,new Le)):this.conditionChanged.emit(new it(e))}bubbleNotChange(e){this.conditionChanged.emit(new Ze(e))}bubbleAndLeftChange(e){this.conditionChanged.emit(new Ve(e,this.asAnd(this.state().condition).right))}bubbleAndRightChange(e){this.conditionChanged.emit(new Ve(this.asAnd(this.state().condition).left,e))}bubbleOrLeftChange(e){this.conditionChanged.emit(new je(e,this.asOr(this.state().condition).right))}bubbleOrRightChange(e){this.conditionChanged.emit(new je(this.asOr(this.state().condition).left,e))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-editor-condition"]],inputs:{condition:[1,"condition"],variables:[1,"variables"],forbidden:[1,"forbidden"],depth:[1,"depth"]},outputs:{conditionChanged:"conditionChanged"},standalone:!0,features:[M],decls:9,vars:2,consts:[["select",""],[1,"font-bold"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"depth","condition","variables","forbidden"],[3,"conditionChanged","depth","condition","variables","forbidden"],[1,"font-mono"],[1,"font-mono",3,"change"],["value",""],["value","not"],["value","and"],["value","or"],[3,"value","selected","disabled"]],template:function(n,r){if(n&1&&R(0,XI,2,0,"span",1)(1,tx,1,2,"ng-container")(2,rx,1,2,"ng-container")(3,ox,3,1)(4,ax,1,1)(5,lx,1,1)(6,ux,2,0,"pre")(7,Cx,2,1,"ng-template",null,0,mg),n&2){let i;S(r.depth()===0&&(r.mode.isMode("edit")||!r.isAlwaysActive())?0:-1),y(),S((i=r.state().type)==="true"?1:i==="variable"?2:i==="not"?3:i==="and"?4:i==="or"?5:i==="unknown"?6:-1)}},dependencies:[t,Fg],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;gap:8px;flex-wrap:wrap}"]})};var ey=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)($(Vt),$(_t))},e.\u0275dir=Ce({type:e});let t=e;return t})(),uc=(()=>{let e=class e extends ey{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=In(e)))(o||e)}})(),e.\u0275dir=Ce({type:e,features:[ut]});let t=e;return t})(),fi=new A(""),Dx={provide:fi,useExisting:Pt(()=>df),multi:!0},df=(()=>{let e=class e extends uc{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=In(e)))(o||e)}})(),e.\u0275dir=Ce({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&E("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},features:[Mn([Dx]),ut]});let t=e;return t})(),wx={provide:fi,useExisting:Pt(()=>kn),multi:!0};function bx(){let t=nn()?nn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var _x=new A(""),kn=(()=>{let e=class e extends ey{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!bx())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)($(Vt),$(_t),$(_x,8))},e.\u0275dir=Ce({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&E("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Mn([wx]),ut]});let t=e;return t})();function Rn(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function ty(t){return t!=null&&typeof t.length=="number"}var ff=new A(""),hf=new A(""),Ex=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ht=class{static min(e){return Ix(e)}static max(e){return xx(e)}static required(e){return Mx(e)}static requiredTrue(e){return Sx(e)}static email(e){return Tx(e)}static minLength(e){return Ax(e)}static maxLength(e){return Nx(e)}static pattern(e){return Rx(e)}static nullValidator(e){return ny(e)}static compose(e){return cy(e)}static composeAsync(e){return uy(e)}};function Ix(t){return e=>{if(Rn(e.value)||Rn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function xx(t){return e=>{if(Rn(e.value)||Rn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function Mx(t){return Rn(t.value)?{required:!0}:null}function Sx(t){return t.value===!0?null:{required:!0}}function Tx(t){return Rn(t.value)||Ex.test(t.value)?null:{email:!0}}function Ax(t){return e=>Rn(e.value)||!ty(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Nx(t){return e=>ty(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Rx(t){if(!t)return ny;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Rn(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function ny(t){return null}function ry(t){return t!=null}function iy(t){return ir(t)?oe(t):t}function oy(t){let e={};return t.forEach(n=>{e=n!=null?D(D({},e),n):e}),Object.keys(e).length===0?null:e}function sy(t,e){return e.map(n=>n(t))}function Ox(t){return!t.validate}function ay(t){return t.map(e=>Ox(e)?e:n=>e.validate(n))}function cy(t){if(!t)return null;let e=t.filter(ry);return e.length==0?null:function(n){return oy(sy(n,e))}}function ly(t){return t!=null?cy(ay(t)):null}function uy(t){if(!t)return null;let e=t.filter(ry);return e.length==0?null:function(n){let r=sy(n,e).map(iy);return tl(r).pipe(j(oy))}}function dy(t){return t!=null?uy(ay(t)):null}function Zv(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function fy(t){return t._rawValidators}function hy(t){return t._rawAsyncValidators}function af(t){return t?Array.isArray(t)?t:[t]:[]}function nc(t,e){return Array.isArray(t)?t.includes(e):t===e}function Qv(t,e){let n=af(e);return af(t).forEach(i=>{nc(n,i)||n.push(i)}),n}function Yv(t,e){return af(e).filter(n=>!nc(t,n))}var rc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ly(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=dy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ui=class extends rc{get formDirective(){return null}get path(){return null}},lr=class extends rc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ic=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},kx={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},KP=F(D({},kx),{"[class.ng-submitted]":"isSubmitted"}),Fn=(()=>{let e=class e extends ic{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)($(lr,2))},e.\u0275dir=Ce({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&wa("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[ut]});let t=e;return t})(),dc=(()=>{let e=class e extends ic{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)($(ui,10))},e.\u0275dir=Ce({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&wa("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[ut]});let t=e;return t})();var Eo="VALID",tc="INVALID",ci="PENDING",Io="DISABLED",On=class{},oc=class extends On{constructor(e,n){super(),this.value=e,this.source=n}},xo=class extends On{constructor(e,n){super(),this.pristine=e,this.source=n}},Mo=class extends On{constructor(e,n){super(),this.touched=e,this.source=n}},li=class extends On{constructor(e,n){super(),this.status=e,this.source=n}},cf=class extends On{constructor(e){super(),this.source=e}},lf=class extends On{constructor(e){super(),this.source=e}};function py(t){return(fc(t)?t.validators:t)||null}function Fx(t){return Array.isArray(t)?ly(t):t||null}function my(t,e){return(fc(e)?e.asyncValidators:t)||null}function Px(t){return Array.isArray(t)?dy(t):t||null}function fc(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Lx(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new I(1e3,"");if(!r[n])throw new I(1001,"")}function Vx(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new I(1002,"")})}var sc=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ve(()=>this.statusReactive()),this.statusReactive=de(void 0),this._pristine=ve(()=>this.pristineReactive()),this.pristineReactive=de(!0),this._touched=ve(()=>this.touchedReactive()),this.touchedReactive=de(!1),this._events=new ce,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return dt(this.statusReactive)}set status(e){dt(()=>this.statusReactive.set(e))}get valid(){return this.status===Eo}get invalid(){return this.status===tc}get pending(){return this.status==ci}get disabled(){return this.status===Io}get enabled(){return this.status!==Io}get pristine(){return dt(this.pristineReactive)}set pristine(e){dt(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return dt(this.touchedReactive)}set touched(e){dt(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Qv(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Qv(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Yv(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Yv(e,this._rawAsyncValidators))}hasValidator(e){return nc(this._rawValidators,e)}hasAsyncValidator(e){return nc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(F(D({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Mo(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Mo(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(F(D({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new xo(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new xo(!0,r))}markAsPending(e={}){this.status=ci;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new li(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(F(D({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Io,this.errors=null,this._forEachChild(i=>{i.disable(F(D({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new oc(this.value,r)),this._events.next(new li(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(F(D({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Eo,this._forEachChild(r=>{r.enable(F(D({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(F(D({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Eo||this.status===ci)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new oc(this.value,n)),this._events.next(new li(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(F(D({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Io:Eo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ci,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=iy(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new li(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ye,this.statusChanges=new ye}_calculateStatus(){return this._allControlsDisabled()?Io:this.errors?tc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ci)?ci:this._anyControlsHaveStatus(tc)?tc:Eo}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new xo(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Mo(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fc(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Fx(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Px(this._rawAsyncValidators)}},di=class extends sc{constructor(e,n,r){super(py(n),my(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Vx(this,!0,e),Object.keys(e).forEach(r=>{Lx(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var pf=new A("CallSetDisabledState",{providedIn:"root",factory:()=>mf}),mf="always";function jx(t,e){return[...e.path,t]}function uf(t,e,n=mf){gf(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Bx(t,e),Hx(t,e),Ux(t,e),$x(t,e)}function ac(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),lc(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function cc(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function $x(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function gf(t,e){let n=fy(t);e.validator!==null?t.setValidators(Zv(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=hy(t);e.asyncValidator!==null?t.setAsyncValidators(Zv(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();cc(e._rawValidators,i),cc(e._rawAsyncValidators,i)}function lc(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=fy(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=hy(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return cc(e._rawValidators,r),cc(e._rawAsyncValidators,r),n}function Bx(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&gy(t,e)})}function Ux(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&gy(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function gy(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Hx(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function zx(t,e){t==null,gf(t,e)}function qx(t,e){return lc(t,e)}function vy(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Gx(t){return Object.getPrototypeOf(t.constructor)===uc}function Wx(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function yy(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===kn?n=o:Gx(o)?r=o:i=o}),i||r||n||null}function Zx(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Kv(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Jv(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var mt=class extends sc{constructor(e=null,n,r){super(py(n),my(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Jv(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Kv(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Kv(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Jv(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Qx=t=>t instanceof mt;var hc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ce({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var vf=new A(""),Yx={provide:lr,useExisting:Pt(()=>So)},So=(()=>{let e=class e extends lr{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this.update=new ye,this._ngModelWarningSent=!1,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=yy(this,o)}ngOnChanges(r){if(this._isControlChanged(r)){let i=r.form.previousValue;i&&ac(i,this,!1),uf(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}vy(r,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ac(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_isControlChanged(r){return r.hasOwnProperty("form")}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)($(ff,10),$(hf,10),$(fi,10),$(vf,8),$(pf,8))},e.\u0275dir=Ce({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Mn([Yx]),ut,ze]});let t=e;return t})(),Kx={provide:ui,useExisting:Pt(()=>To)},To=(()=>{let e=class e extends ui{get submitted(){return dt(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=ve(()=>this._submittedReactive()),this._submittedReactive=de(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ye,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return uf(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){ac(r.control||null,r,!1),Zx(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this._submittedReactive.set(!0),Wx(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new cf(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new lf(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(ac(i||null,r),Qx(o)&&(uf(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);zx(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&qx(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gf(this.form,this),this._oldForm&&lc(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)($(ff,10),$(hf,10),$(pf,8))},e.\u0275dir=Ce({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&E("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Mn([Kx]),ut,ze]});let t=e;return t})();var Jx={provide:lr,useExisting:Pt(()=>Ao)},Ao=(()=>{let e=class e extends lr{set isDisabled(r){}constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ye,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=yy(this,s)}ngOnChanges(r){this._added||this._setUpControl(),vy(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return jx(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)($(ui,13),$(ff,10),$(hf,10),$(fi,10),$(vf,8))},e.\u0275dir=Ce({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Mn([Jx]),ut,ze]});let t=e;return t})(),Xx={provide:fi,useExisting:Pt(()=>pc),multi:!0};function Cy(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function eM(t){return t.split(":")[0]}var pc=(()=>{let e=class e extends uc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),o=Cy(i,r);this.setProperty("value",o)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=eM(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=In(e)))(o||e)}})(),e.\u0275dir=Ce({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&E("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Mn([Xx]),ut]});let t=e;return t})(),Dy=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(Cy(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)($(_t),$(Vt),$(pc,9))},e.\u0275dir=Ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),tM={provide:fi,useExisting:Pt(()=>wy),multi:!0};function Xv(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function nM(t){return t.split(":")[0]}var wy=(()=>{let e=class e extends uc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let o=r.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let c=0;c<a.length;c++){let l=a[c],u=this._getOptionValue(l.value);o.push(u)}}else{let a=i.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let u=this._getOptionValue(l.value);o.push(u)}}}this.value=o,r(o)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=nM(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=In(e)))(o||e)}})(),e.\u0275dir=Ce({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&E("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Mn([tM]),ut]});let t=e;return t})(),by=(()=>{let e=class e{constructor(r,i,o){this._element=r,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(Xv(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(Xv(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)($(_t),$(Vt),$(wy,9))},e.\u0275dir=Ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var rM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=bn({type:e}),e.\u0275inj=wn({});let t=e;return t})();var Pn=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:vf,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:pf,useValue:r.callSetDisabledState??mf}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=bn({type:e}),e.\u0275inj=wn({imports:[rM]});let t=e;return t})();function iM(t,e){t&1&&(d(0,"span"),v(1,"Questions cannot contain the characters , ; #"),f())}function oM(t,e){t&1&&(d(0,"span"),v(1,"Question is required"),f())}function sM(t,e){if(t&1&&R(0,iM,2,0,"span")(1,oM,2,0,"span"),t&2){let n,r,i=C(2);S((n=i.getControl("question").errors)!=null&&n.pattern?0:-1),y(),S((r=i.getControl("question").errors)!=null&&r.required?1:-1)}}function aM(t,e){t&1&&(d(0,"span"),v(1,"Variables cannot contain spaces, or the characters , ; #"),f())}function cM(t,e){t&1&&(d(0,"span"),v(1,"Variable name is required"),f())}function lM(t,e){if(t&1&&R(0,aM,2,0,"span")(1,cM,2,0,"span"),t&2){let n,r,i=C(2);S((n=i.getControl("variable").errors)!=null&&n.pattern?0:-1),y(),S((r=i.getControl("variable").errors)!=null&&r.required?1:-1)}}function uM(t,e){if(t&1&&(d(0,"div",5),R(1,sM,2,2)(2,lM,2,2),f()),t&2){let n=C();y(),S(n.getControl("question").touched?1:-1),y(),S(n.getControl("variable").touched?2:-1)}}var gc=class t{question=k.required();questionChanged=ct();variableChanged=ct();control=new di({question:new mt("",[Ht.pattern("[^,;#]+"),Ht.required]),variable:new mt("",[Ht.pattern(" *[^ ,;#]+ *"),Ht.required])});getControl(e){return this.control.get(e)}mode=p(Ke);constructor(){this.control.valueChanges.pipe(le(()=>{this.control.markAllAsTouched()}),zn(500),ge(()=>this.control.valid),pt()).subscribe(e=>{e.question!==this.question().question?this.questionChanged.emit(e):e.variable&&e.variable.trim()!==this.question().variable&&this.variableChanged.emit([this.question().variable,e.variable.trim()])}),this.mode.asObservable().pipe(pt()).subscribe(e=>{e==="edit"?this.control.enable({emitEvent:!1}):this.control.disable({emitEvent:!1}),this.ngOnChanges()})}ngOnChanges(){this.control.patchValue(this.question(),{emitEvent:!1})}focusQuestion(){this.getControl("question").value===sn.NEW_QUESTION_NAME&&this.getControl("question").setValue("",{emitEvent:!1})}focusVariable(){this.getControl("variable").value===sn.NEW_VARIABLE_NAME&&this.getControl("variable").setValue("",{emitEvent:!1})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-editor-question"]],inputs:{question:[1,"question"]},outputs:{questionChanged:"questionChanged",variableChanged:"variableChanged"},standalone:!0,features:[ze,M],decls:7,vars:2,consts:[[1,"flex","flex-col",3,"formGroup"],["type","text","placeholder","question","formControlName","question",1,"grow",3,"focus"],[1,"flex","items-center","gap-2"],[1,"ml-3","font-mono"],["type","text","placeholder","variable","formControlName","variable",1,"grow","font-mono",3,"focus"],[1,"m-1","flex","flex-col","text-sm","text-red-500"]],template:function(n,r){n&1&&(d(0,"form",0)(1,"input",1),E("focus",function(){return r.focusQuestion()}),f(),d(2,"div",2)(3,"span",3),v(4,"->"),f(),d(5,"input",4),E("focus",function(){return r.focusVariable()}),f()(),R(6,uM,3,2,"div",5),f()),n&2&&(N("formGroup",r.control),y(6),S(r.mode.isMode("edit")&&r.control.valid===!1&&r.control.touched?6:-1))},dependencies:[Pn,hc,kn,Fn,dc,To,Ao],encapsulation:2})};var zt=class t{serializeRules(e){return e.map(this.serialize.bind(this)).map(n=>n+";").join(`

`)}serializeEffects(e){return e.questions.map(this.serialize.bind(this)).concat(e.items.map(this.serialize.bind(this)))}serializeWeight(e,n){if(!e)return"";let r=e/1e3+"kg",i=e*1+"g";return n?n==="kg"?r:i:r.length<=i.length?r:i}serialize(e){if("condition"in e){let n=[],r=this.serialize(e.condition);r&&n.push(r," "),n.push(":-");let i=this.serializeEffects(e.effects);if(i.length===1&&!r)n.push(" ",i[0]);else for(let o=0;o<i.length;o++){let s=i[o];o>0&&n.push(","),n.push(`
`,"   ",s)}return n.join("")}else{if(e instanceof ht)return"";if(e instanceof it)return e.variable;if(e instanceof Ze)return"NOT "+this.serialize(e.not);if(e instanceof Ve)return this.serialize(e.left)+" AND "+this.serialize(e.right);if(e instanceof je)return this.serialize(e.left)+" OR "+this.serialize(e.right);if("evaluate"in e)throw new Error("Cannot serialize unknown condition");if("question"in e)return e.question+" $"+e.variable;if("category"in e&&"name"in e)return`[${e.category}] ${e.name} ${this.serializeWeight(e.weight)}`.trim();throw new Error("Cannot serialize unknown input")}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})};function dM(t,e){if(t&1&&(d(0,"option",2),v(1),f()),t&2){let n=e.$implicit;Yi("value",n),y(),De(n)}}function fM(t,e){t&1&&(d(0,"span"),v(1,"Item name cannot contain the characters , ; #"),f())}function hM(t,e){t&1&&(d(0,"span"),v(1,"Item name is required"),f())}function pM(t,e){if(t&1&&R(0,fM,2,0,"span")(1,hM,2,0,"span"),t&2){let n,r,i=C(2);S((n=i.getControl("name").errors)!=null&&n.pattern?0:-1),y(),S((r=i.getControl("name").errors)!=null&&r.required?1:-1)}}function mM(t,e){if(t&1&&(d(0,"div",5),R(1,pM,2,2),f()),t&2){let n=C();y(),S(n.getControl("name").touched?1:-1)}}var vc=class t{item=k.required();categories=k.required();itemChanged=ct();control=new di({category:new mt(""),name:new mt("",[Ht.pattern("[^,;#]+"),Ht.required])});getControl(e){return this.control.get(e)}mode=p(Ke);parser=p(Ye);serializer=p(zt);constructor(){this.control.valueChanges.pipe(le(()=>{this.control.markAllAsTouched()}),zn(500),ge(()=>this.control.valid),pt()).subscribe(e=>{if(e.category===""){this.addNewCategory();return}let[n,r]=this.parser.extractItemNameAndWeight(e.name);this.itemChanged.emit({category:e.category,name:n,weight:r})}),this.mode.asObservable().pipe(pt()).subscribe(e=>{e==="edit"?this.control.enable({emitEvent:!1}):this.control.disable({emitEvent:!1}),this.ngOnChanges()})}blockPatch=!1;ngOnChanges(){if(!this.blockPatch){let e=this.item().name;this.item().weight&&(e+=` ${this.serializer.serializeWeight(this.item().weight)}`),this.control.patchValue({category:this.item().category,name:e},{emitEvent:!1})}}focus(e){this.blockPatch=document.activeElement===e.target,this.getControl("name").value===sn.NEW_ITEM_NAME&&this.getControl("name").setValue("",{emitEvent:!1})}blur(){this.blockPatch=!1,this.ngOnChanges()}addNewCategory(){console.log("add new category");let e=window.prompt("Enter new category name");if(e){if(/[,;#]/.test(e)){alert("Category name cannot contain , ; #"),this.control.patchValue({category:""});return}this.control.patchValue({category:e})}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-editor-item"]],inputs:{item:[1,"item"],categories:[1,"categories"]},outputs:{itemChanged:"itemChanged"},standalone:!0,features:[ze,M],decls:8,vars:2,consts:[[1,"flex",3,"formGroup"],["name","categories","formControlName","category",1,"max-w-24"],[3,"value"],["value",""],["type","text","formControlName","name",1,"grow",3,"focus","blur"],[1,"m-1","text-sm","text-red-500"]],template:function(n,r){n&1&&(d(0,"form",0)(1,"select",1),qe(2,dM,2,2,"option",2,cg),d(4,"option",3),v(5,"+"),f()(),d(6,"input",4),E("focus",function(o){return r.focus(o)})("blur",function(){return r.blur()}),f()(),R(7,mM,2,1,"div",5)),n&2&&(N("formGroup",r.control),y(2),Ge(r.categories()),y(5),S(r.mode.isMode("edit")&&r.control.valid===!1&&r.control.touched?7:-1))},dependencies:[Pn,hc,Dy,by,kn,pc,Fn,dc,To,Ao],encapsulation:2})};var hi=class t{questions=[];items=[];cutQuestion(e){this.questions.push(e)}cutItem(e){this.items.push(e)}get itemsCount(){return this.items.length}get questionsCount(){return this.questions.length}paste(){let e={questions:this.questions,items:this.items};return this.questions=[],this.items=[],e}static \u0275fac=function(n){return new(n||t)};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})};var pi=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-delete"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var yc=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-cut"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M760-120 480-400l-94 94q8 15 11 32t3 34q0 66-47 113T240-80q-66 0-113-47T80-240q0-66 47-113t113-47q17 0 34 3t32 11l94-94-94-94q-15 8-32 11t-34 3q-66 0-113-47T80-720q0-66 47-113t113-47q66 0 113 47t47 113q0 17-3 34t-11 32l494 494v40H760ZM600-520l-80-80 240-240h120v40L600-520ZM240-640q33 0 56.5-23.5T320-720q0-33-23.5-56.5T240-800q-33 0-56.5 23.5T160-720q0 33 23.5 56.5T240-640Zm240 180q8 0 14-6t6-14q0-8-6-14t-14-6q-8 0-14 6t-6 14q0 8 6 14t14 6ZM240-160q33 0 56.5-23.5T320-240q0-33-23.5-56.5T240-320q-33 0-56.5 23.5T160-240q0 33 23.5 56.5T240-160Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var Cc=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-paste"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h167q11-35 43-57.5t70-22.5q40 0 71.5 22.5T594-840h166q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560h-80v120H280v-120h-80v560Zm280-560q17 0 28.5-11.5T520-800q0-17-11.5-28.5T480-840q-17 0-28.5 11.5T440-800q0 17 11.5 28.5T480-760Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var Dc=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-down"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M440-800v487L216-537l-56 57 320 320 320-320-56-57-224 224v-487h-80Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("width",r.size()+"px")("height",r.size()+"px")},encapsulation:2})};var mi=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-up"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M440-160v-487L216-423l-56-57 320-320 320 320-56 57-224-224v487h-80Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};function gM(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C();return K(i.resetCondition())}),b(1,"app-icon-delete"),f()}}function vM(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C(2).$index,o=C();return K(o.swapQuestions(i,i+1))}),b(1,"app-icon-down"),f()}}function yM(t,e){t&1&&b(0,"span",7)}function CM(t,e){if(t&1&&R(0,vM,2,0,"button",2)(1,yM,1,0,"span",7),t&2){let n=C().$index,r=C();S(n<r.rule().effects.questions.length-1?0:1)}}function DM(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C().$index,o=C();return K(o.deleteQuestion(i))}),b(1,"app-icon-delete"),f()}}function wM(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C().$index,o=C();return K(o.cutQuestion(i))}),b(1,"app-icon-cut"),f()}}function bM(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C().$index,o=C();return K(o.swapQuestions(i-1,i))}),b(1,"app-icon-up"),f()}}function _M(t,e){if(t&1){let n=te();d(0,"div",0),R(1,CM,2,1),d(2,"app-editor-question",6),E("questionChanged",function(i){let o=Y(n).$index,s=C();return K(s.updateQuestion(o,i))})("variableChanged",function(i){Y(n);let o=C();return K(o.variableChanged(i))}),f(),R(3,DM,2,0,"button",2)(4,wM,2,0,"button",2)(5,bM,2,0,"button",2),f()}if(t&2){let n=e.$implicit,r=e.$index,i=C();y(),S(i.mode.isMode("swap")?1:-1),y(),N("question",n),y(),S(i.mode.isMode("delete")?3:i.mode.isMode("cut-paste")?4:i.mode.isMode("swap")&&r>0?5:-1)}}function EM(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C(2).$index,o=C();return K(o.swapItems(i,i+1))}),b(1,"app-icon-down"),f()}}function IM(t,e){t&1&&b(0,"span",7)}function xM(t,e){if(t&1&&R(0,EM,2,0,"button",2)(1,IM,1,0,"span",7),t&2){let n=C().$index,r=C();S(n<r.rule().effects.items.length-1?0:1)}}function MM(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C().$index,o=C();return K(o.deleteItem(i))}),b(1,"app-icon-delete"),f()}}function SM(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C().$index,o=C();return K(o.cutItem(i))}),b(1,"app-icon-cut"),f()}}function TM(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C().$index,o=C();return K(o.swapItems(i-1,i))}),b(1,"app-icon-up"),f()}}function AM(t,e){if(t&1){let n=te();d(0,"div",0),R(1,xM,2,1),d(2,"app-editor-item",8),E("itemChanged",function(i){let o=Y(n).$index,s=C();return K(s.updateItem(o,i))}),f(),R(3,MM,2,0,"button",2)(4,SM,2,0,"button",2)(5,TM,2,0,"button",2),f()}if(t&2){let n=e.$implicit,r=e.$index,i=C();y(),S(i.mode.isMode("swap")?1:-1),y(),N("item",n)("categories",i.categories()),y(),S(i.mode.isMode("delete")?3:i.mode.isMode("cut-paste")?4:i.mode.isMode("swap")&&r>0?5:-1)}}function NM(t,e){if(t&1){let n=te();d(0,"div",3)(1,"button",9),E("click",function(){Y(n);let i=C();return K(i.addQuestion())}),v(2,"+ Question"),f(),d(3,"button",9),E("click",function(){Y(n);let i=C();return K(i.addItem())}),v(4,"+ Item"),f()()}}function RM(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C(2);return K(i.deleteRule())}),b(1,"app-icon-delete"),f()}}function OM(t,e){if(t&1){let n=te();d(0,"button",5),E("click",function(){Y(n);let i=C(2);return K(i.paste())}),b(1,"app-icon-paste"),f()}}function kM(t,e){if(t&1&&(d(0,"div",4),R(1,RM,2,0,"button",2)(2,OM,2,0,"button",2),f()),t&2){let n=C();y(),S(n.mode.isMode("delete")?1:-1),y(),S(n.mode.isMode("cut-paste")?2:-1)}}function FM(t,e){if(t&1&&(d(0,"pre"),v(1),f(),d(2,"pre"),v(3),f()),t&2){let n=C();y(),De(e),y(2),De(n.ruleDebugString())}}var sn=class t{static NEW_ITEM_NAME="New Item";static NEW_CATEGORY_NAME="New";static NEW_QUESTION_NAME="New Question";static NEW_VARIABLE_NAME="new_variable";rule=k.required();categories=k.required();variables=k.required();ruleChanged=ct();renameVariable=ct();ruleDebugString=ve(()=>this.serializer.serialize(this.rule()));errorMessage=de(null);mode=p(Ke);clipboard=p(hi);parser=p(Ye);serializer=p(zt);compileRule(e){try{return this.parser.parseRule(this.serializer.serialize(e)),this.errorMessage.set(null),!0}catch(n){return n instanceof Error&&this.errorMessage.set(n.message),!1}}deleteRule(){this.ruleChanged.emit(null)}resetCondition(){this.updateCondition(new Le)}updateCondition(e){let n=F(D({},this.rule()),{condition:e});this.compileRule(n)&&this.ruleChanged.emit(n)}emitNewQuestions(e){let n=F(D({},this.rule()),{effects:F(D({},this.rule().effects),{questions:e})});this.compileRule(n)&&this.ruleChanged.emit(n)}updateQuestion(e,n){let r=this.rule().effects.questions;r[e]=n,this.emitNewQuestions(r)}addQuestion(){let e={variable:t.NEW_VARIABLE_NAME,question:t.NEW_QUESTION_NAME};this.updateQuestion(this.rule().effects.questions.length,e)}deleteQuestion(e){let n=this.rule().effects.questions;n.splice(e,1),this.emitNewQuestions(n)}cutQuestion(e){let n=this.rule().effects.questions[e];this.deleteQuestion(e),this.clipboard.cutQuestion(n)}swapQuestions(e,n){let r=this.rule().effects.questions,i=r[e];r[e]=r[n],r[n]=i,this.emitNewQuestions(r)}emitNewItems(e){let n=F(D({},this.rule()),{effects:F(D({},this.rule().effects),{items:e})});this.compileRule(n)&&this.ruleChanged.emit(n)}updateItem(e,n){console.log("updateItem",e,n);let r=this.rule().effects.items;r[e]=n,this.emitNewItems(r)}addItem(){let e={category:t.NEW_CATEGORY_NAME,name:t.NEW_ITEM_NAME};this.updateItem(this.rule().effects.items.length,e)}deleteItem(e){let n=this.rule().effects.items;n.splice(e,1),this.emitNewItems(n)}cutItem(e){let n=this.rule().effects.items[e];this.deleteItem(e),this.clipboard.cutItem(n)}swapItems(e,n){let r=this.rule().effects.items,i=r[e];r[e]=r[n],r[n]=i,this.emitNewItems(r)}paste(){let e=this.clipboard.paste(),n=F(D({},this.rule()),{effects:{questions:[...this.rule().effects.questions,...e.questions],items:[...this.rule().effects.items,...e.items]}});this.ruleChanged.emit(n)}variableChanged([e,n]){this.renameVariable.emit([e,n])}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-editor-rule"]],inputs:{rule:[1,"rule"],categories:[1,"categories"],variables:[1,"variables"]},outputs:{ruleChanged:"ruleChanged",renameVariable:"renameVariable"},standalone:!0,features:[M],decls:10,vars:5,consts:[[1,"mb-1","flex","items-center"],[1,"grow",3,"conditionChanged","variables","condition"],[1,"icon"],[1,"flex","justify-end","gap-2"],[1,"flex","justify-center"],[1,"icon",3,"click"],[1,"grow",3,"questionChanged","variableChanged","question"],[1,"ml-6"],[1,"grow",3,"itemChanged","item","categories"],[3,"click"]],template:function(n,r){if(n&1&&(d(0,"div",0)(1,"app-editor-condition",1),E("conditionChanged",function(o){return r.updateCondition(o)}),f(),R(2,gM,2,0,"button",2),f(),qe(3,_M,6,3,"div",0,en),qe(5,AM,6,4,"div",0,en),R(7,NM,5,0,"div",3)(8,kM,3,2,"div",4)(9,FM,4,2)),n&2){let i;y(),N("variables",r.variables())("condition",r.rule().condition),y(),S(r.mode.isMode("edit")?2:-1),y(),Ge(r.rule().effects.questions),y(2),Ge(r.rule().effects.items),y(2),S(r.mode.isMode("edit")?7:8),y(2),S((i=r.errorMessage())?9:-1,i)}},dependencies:[ec,gc,vc,pi,yc,Cc,Dc,mi],encapsulation:2})};var wc=`# This is the rules template

:-
   Will it be sunny? $sunny,
   [Utility] Paper Tissues,
   [Utility] Backpack;

sunny :-
   [Utility] Sunglasses,
   [Utility] Sunscreen,
   [Clothes] Short Pants;

NOT sunny :-
   [Clothes] Jacket,
   [Clothes] Long Pants;
`;var qt=class t{rules=Bv("rules",wc);getRules(){return this.rules}saveRules(e){e&&(this.rules=e,_o("rules",e))}resetRules(){this.rules=wc,_o("rules",wc)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})};var bc=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-view"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M480-320q75 0 127.5-52.5T660-500q0-75-52.5-127.5T480-680q-75 0-127.5 52.5T300-500q0 75 52.5 127.5T480-320Zm0-72q-45 0-76.5-31.5T372-500q0-45 31.5-76.5T480-608q45 0 76.5 31.5T588-500q0 45-31.5 76.5T480-392Zm0 192q-146 0-266-81.5T40-500q54-137 174-218.5T480-800q146 0 266 81.5T920-500q-54 137-174 218.5T480-200Zm0-300Zm0 220q113 0 207.5-59.5T832-500q-50-101-144.5-160.5T480-720q-113 0-207.5 59.5T128-500q50 101 144.5 160.5T480-280Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var _c=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-edit"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M200-200h57l391-391-57-57-391 391v57Zm-80 80v-170l528-527q12-11 26.5-17t30.5-6q16 0 31 6t26 18l55 56q12 11 17.5 26t5.5 30q0 16-5.5 30.5T817-647L290-120H120Zm640-584-56-56 56 56Zm-141 85-28-29 57 57-29-28Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var Ec=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-reorder"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M160-501q0 71 47.5 122T326-322l-62-62 56-56 160 160-160 160-56-56 64-64q-105-6-176.5-81T80-500q0-109 75.5-184.5T340-760h140v80H340q-75 0-127.5 52T160-501Zm400 261v-80h320v80H560Zm0-220v-80h320v80H560Zm0-220v-80h320v80H560Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var gi=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-swap"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M320-440v-287L217-624l-57-56 200-200 200 200-57 56-103-103v287h-80ZM600-80 400-280l57-56 103 103v-287h80v287l103-103 57 56L600-80Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var PM=t=>({"sticky left-0 top-0 z-50 shadow-md":t}),No=t=>({"ring ring-slate-700":t});function LM(t,e){t&1&&(d(0,"span"),v(1,"empty"),f())}function VM(t,e){if(t&1&&(d(0,"span"),v(1),f()),t&2){let n=C(3);y(),We("",n.clipboard.itemsCount," Items")}}function jM(t,e){if(t&1&&(d(0,"span"),v(1),f()),t&2){let n=C(3);y(),We("",n.clipboard.questionsCount," Questions")}}function $M(t,e){if(t&1&&R(0,VM,2,1,"span")(1,jM,2,1,"span"),t&2){let n=C(2);S(n.clipboard.itemsCount?0:-1),y(),S(n.clipboard.questionsCount?1:-1)}}function BM(t,e){if(t&1&&(d(0,"div",4)(1,"span"),v(2,"Clipboard:"),f(),R(3,LM,2,0,"span")(4,$M,2,2),f()),t&2){let n=C();y(3),S(n.clipboard.itemsCount===0&&n.clipboard.questionsCount===0?3:4)}}var Ic=class t{mode=p(Ke);clipboard=p(hi);sticky=de(!1);scroller=p(Na);ngOnDestroy(){this.mode.reset()}scroll(){this.sticky.set(this.scroller.getScrollPosition()?.[1]>48)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-toolbar"]],hostBindings:function(n,r){n&1&&E("scroll",function(){return r.scroll()},!1,fa)},standalone:!0,features:[M],decls:13,vars:24,consts:[[1,"bg-white","py-2",3,"ngClass"],[1,"mb-1","grid","grid-cols-5","gap-2"],[1,"icon",3,"click","ngClass"],[1,"my-auto",3,"size"],[1,"flex","justify-center","gap-5"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"div",1)(2,"button",2),E("click",function(){return r.mode.setMode("view")}),b(3,"app-icon-view",3),f(),d(4,"button",2),E("click",function(){return r.mode.setMode("edit")}),b(5,"app-icon-edit",3),f(),d(6,"button",2),E("click",function(){return r.mode.setMode("delete")}),b(7,"app-icon-delete",3),f(),d(8,"button",2),E("click",function(){return r.mode.setMode("cut-paste")}),b(9,"app-icon-reorder",3),f(),d(10,"button",2),E("click",function(){return r.mode.setMode("swap")}),b(11,"app-icon-swap",3),f()(),R(12,BM,5,1,"div",4),f()),n&2&&(N("ngClass",tt(12,PM,r.sticky())),y(2),N("ngClass",tt(14,No,r.mode.isMode("view"))),y(),N("size",24),y(),N("ngClass",tt(16,No,r.mode.isMode("edit"))),y(),N("size",24),y(),N("ngClass",tt(18,No,r.mode.isMode("delete"))),y(),N("size",24),y(),N("ngClass",tt(20,No,r.mode.isMode("cut-paste"))),y(),N("size",24),y(),N("ngClass",tt(22,No,r.mode.isMode("swap"))),y(),N("size",24),y(),S(r.mode.isMode("cut-paste")?12:-1))},dependencies:[Sn,bc,_c,pi,Ec,gi],encapsulation:2})};var Gt=class t{answers={};checkedItems=[];constructor(){let e=localStorage.getItem("answers");e&&(this.answers=JSON.parse(e));let n=localStorage.getItem("checkedItems");n&&(this.checkedItems=JSON.parse(n))}getAnswers(){return this.answers}saveAnswers(e){e?(this.answers=e,localStorage.setItem("answers",JSON.stringify(e))):localStorage.removeItem("answers")}getCheckedItems(){return this.checkedItems}setCheckedItems(e){e?(this.checkedItems=e,localStorage.setItem("checkedItems",JSON.stringify(e))):localStorage.removeItem("checkedItems")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})};var vi=class t{error=k();static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-error"]],inputs:{error:[1,"error"]},standalone:!0,features:[M],decls:11,vars:1,consts:[[1,"flex","flex-col","items-center","gap-3","text-center"],[1,"font-mono","text-red-700"],["routerLink","/rules-raw"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"p"),v(2,"The following error occured while parsing the rules:"),f(),d(3,"p",1),v(4),f(),d(5,"p"),v(6," Unfortunately, this error can only be fixed by changing the rules manually. "),f(),d(7,"p"),v(8,"Please do that"),f(),d(9,"button",2),v(10,"here"),f()()),n&2&&(y(4),De(r.error()))},dependencies:[si],encapsulation:2})};var xc=class t{renameVariable(e,n,r){if(r instanceof Array)return r.map(i=>this.renameVariable(e,n,i));if("variable"in r&&"question"in r){let i=r;return i.variable===e?F(D({},i),{variable:n}):i}else if("condition"in r&&"effects"in r){let i=r;return{condition:this.renameVariable(e,n,i.condition),effects:{questions:i.effects.questions.map(o=>this.renameVariable(e,n,o)),items:i.effects.items}}}else{let i=r;if(i instanceof ht)return i;if(i instanceof it)return i.variable===e?new it(n):i;if(i instanceof Ze)return new Ze(this.renameVariable(e,n,i.not));if(i instanceof Ve)return new Ve(this.renameVariable(e,n,i.left),this.renameVariable(e,n,i.right));if(i instanceof je)return new je(this.renameVariable(e,n,i.left),this.renameVariable(e,n,i.right))}throw console.log("this part is unreachable",r),new Error("this part is unreachable")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"})};var UM=t=>({disabled:t});function HM(t,e){t&1&&b(0,"app-error",0),t&2&&N("error",e)}function zM(t,e){if(t&1){let n=te();d(0,"div",3)(1,"button",5),E("click",function(){Y(n);let i=C().$index,o=C(2);return K(o.swapRules(i-1,i))}),b(2,"app-icon-swap"),f()()}}function qM(t,e){if(t&1){let n=te();R(0,zM,3,0,"div",3),d(1,"div",1)(2,"app-editor-rule",4),E("ruleChanged",function(i){let o=Y(n).$index,s=C(2);return K(s.updateRule(o,i))})("renameVariable",function(i){Y(n);let o=C(2);return K(o.renameVariable(i))}),f()()}if(t&2){let n=e.$implicit,r=e.$index,i=C(2);S(r>0&&i.mode.isMode("swap")?0:-1),y(),zr("id","rule-",r,""),N("ngClass",tt(7,UM,i.showAsDisabled(n))),y(),N("rule",n)("categories",i.categories())("variables",i.variables())}}function GM(t,e){if(t&1){let n=te();d(0,"button",6),E("click",function(){Y(n);let i=C(2);return K(i.addRule())}),v(1,"+ Rule"),f()}}function WM(t,e){if(t&1&&(b(0,"app-toolbar"),qe(1,qM,3,9,"div",1,en),R(3,GM,2,0,"button",2)),t&2){let n=C();y(),Ge(n.parsedRules()),y(2),S(n.mode.isMode("edit")?3:-1)}}var Mc=class t{parsedRules=de([]);categories=de([]);variables=de([]);persistence=p(qt);mode=p(Ke);error=de(void 0);answers=p(Gt).getAnswers();config=p(Qe);parser=p(Ye);serializer=p(zt);refactor=p(xc);ngOnInit(){try{this.calculateFields(this.parser.parseRules(this.persistence.getRules())),this.error.set(void 0)}catch(e){e instanceof Error?this.error.set(e.message):this.error.set("Unknown error"),console.error(e)}}calculateFields(e){this.parsedRules.set(e),this.categories.set(this.parser.extractCategories(e)),this.variables.set(this.parser.extractVariables(e))}applyNewRules(e){let n=this.serializer.serializeRules(e);this.persistence.saveRules(n),this.calculateFields(e)}updateRule(e,n){let r=this.parsedRules();n?r[e]=n:r.splice(e,1),this.applyNewRules(r)}addRule(){let e=this.parsedRules().length,n=[];for(let o=0;o<this.parsedRules().length;o++){let s=document.querySelector(`#rule-${o}`);if(s){let a=s.getBoundingClientRect();a.top>=0&&a.bottom<=window.innerHeight&&n.push(o)}}console.log({candidates:n,insertAt:e}),n.includes(e-1)||(e=n[0]+1);let r={condition:new Le,effects:{questions:[],items:[]}},i=this.parsedRules();i.splice(e,0,r),this.applyNewRules(i)}swapRules(e,n){let r=this.parsedRules(),i=r[e];r[e]=r[n],r[n]=i,this.applyNewRules(r)}showAsDisabled(e){return this.config.isFadeOutDisabledRules()&&!e.condition.evaluate(this.answers)}renameVariable([e,n]){let r=this.refactor.renameVariable(e,n,this.parsedRules());this.applyNewRules(r)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-rules"]],standalone:!0,features:[M],decls:2,vars:1,consts:[[3,"error"],[1,"card","mb-1",3,"id","ngClass"],[1,"sticky","bottom-0","z-50"],[1,"flex","justify-center"],[3,"ruleChanged","renameVariable","rule","categories","variables"],[1,"icon",3,"click"],[1,"sticky","bottom-0","z-50",3,"click"]],template:function(n,r){if(n&1&&R(0,HM,1,1,"app-error",0)(1,WM,4,1),n&2){let i;S((i=r.error())?0:1,i)}},dependencies:[sn,Ic,gi,Sn,vi],encapsulation:2})};var yi=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-checkmark"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","300 -1000 500 800","fill","#000000"],["d","M382-240 154-468l57-57 171 171 367-367 57 57-424 424Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};function ZM(t,e){t&1&&(d(0,"span"),b(1,"app-icon-checkmark"),f())}function QM(t,e){if(t&1){let n=te();d(0,"div",1),E("click",function(){Y(n);let i=C();return K(i.click())}),d(1,"span",2),v(2),f(),R(3,ZM,2,0,"span"),f()}if(t&2){let n=C();y(2),De(e),y(),S(n.value()?3:-1)}}var Sc=class t{question=k(void 0);value=k(void 0);valueChange=ct();config=p(Qe);isLocked(){return this.config.isAnswersLocked()}click(){this.isLocked()||this.valueChange.emit(!this.value())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-display-question"]],inputs:{question:[1,"question"],value:[1,"value"]},outputs:{valueChange:"valueChange"},standalone:!0,features:[M],decls:1,vars:1,consts:[[1,"flex","flex-row","justify-between"],[1,"flex","flex-row","justify-between",3,"click"],[1,"font-bold"]],template:function(n,r){if(n&1&&R(0,QM,4,2,"div",0),n&2){let i;S((i=r.question())?0:-1,i)}},dependencies:[yi],encapsulation:2})};function YM(t,e){t&1&&b(0,"app-icon-checkmark")}function KM(t,e){if(t&1&&(v(0),d(1,"span",0),v(2,"/"),f(),v(3)),t&2){let n=C();We(" ",n.count(),""),y(3),We("",n.total(),`
`)}}var Tc=class t{count=k(0);total=k(0);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-status"]],inputs:{count:[1,"count"],total:[1,"total"]},standalone:!0,features:[M],decls:2,vars:1,consts:[[1,"px-0.5"]],template:function(n,r){n&1&&R(0,YM,1,0,"app-icon-checkmark")(1,KM,4,2),n&2&&S(r.count()===r.total()?0:1)},dependencies:[yi],encapsulation:2})};var JM=(t,e)=>e.key,XM=t=>({"text-slate-500 line-through":t});function eS(t,e){if(t&1&&(d(0,"div",1),b(1,"progress",2),f(),d(2,"div",3),v(3),f()),t&2){let n=C();y(),N("value",n.weightChecked())("max",n.weightTotal()),y(2),Ea(" ",n.serializeWeight(n.weightChecked(),"kg")||"0kg"," / ",n.serializeWeight(n.weightTotal(),"kg")||"0kg"," ")}}function tS(t,e){if(t&1&&(d(0,"div",1),b(1,"progress",2),f(),d(2,"div",3),v(3),f()),t&2){let n=C();y(),N("value",n.currentlyCheckedItems())("max",n.items().length),y(2),Ea(" ",n.currentlyCheckedItems()," / ",n.items().length," ")}}function nS(t,e){if(t&1&&(d(0,"span",9),v(1),f()),t&2){let n=C().$implicit,r=C(2);y(),De(r.serializeWeight(n.weight))}}function rS(t,e){if(t&1){let n=te();d(0,"li",8),E("click",function(){let i=Y(n).$implicit,o=C(2);return K(o.toggle(i))}),v(1),R(2,nS,2,1,"span",9),f()}if(t&2){let n=e.$implicit,r=C(2);N("ngClass",tt(3,XM,n.checked)),y(),We(" ",n.name," "),y(),S(n.weight&&r.trackWeight?2:-1)}}function iS(t,e){if(t&1&&(d(0,"div",0)(1,"div",4)(2,"span",5),v(3),f(),b(4,"app-status",6),f(),d(5,"ul"),qe(6,rS,3,5,"li",7,en),f()()),t&2){let n=e.$implicit;y(3),De(n.key),y(),N("count",n.value.checked)("total",n.value.items.length),y(2),Ge(n.value.items)}}function yf(t){return`${t.category}-${t.name}`}var Ac=class t{items=k([]);persistence=p(Gt);checkedItems=de(this.persistence.getCheckedItems());groupedItems=ve(()=>{let e=this.checkedItems();return this.items().reduce((n,r)=>{n[r.category]||(n[r.category]={items:[],checked:0});let i=e.includes(yf(r));return n[r.category].items.push(F(D({},r),{checked:i})),i&&n[r.category].checked++,n},{})});currentlyCheckedItems=ve(()=>Object.values(this.groupedItems()).reduce((e,n)=>e+n.items.filter(r=>r.checked).length,0));trackWeight=p(Qe).isTrackWeight();weightTotal=ve(()=>Math.round(this.items().reduce((e,n)=>e+(n.weight??0),0)));weightChecked=ve(()=>Math.round(this.items().reduce((e,n)=>e+(this.checkedItems().includes(yf(n))?n.weight??0:0),0)));serializer=p(zt);serializeWeight=this.serializer.serializeWeight.bind(this.serializer);toggle(e){let n=yf(e);this.checkedItems().includes(n)?this.checkedItems.update(r=>r.filter(i=>i!==n)):this.checkedItems.update(r=>[...r,n]),this.persistence.setCheckedItems(this.checkedItems())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-display-items"]],inputs:{items:[1,"items"]},standalone:!0,features:[M],decls:6,vars:3,consts:[[1,"card","mb-1"],[1,"mb-1","flex"],[1,"grow",3,"value","max"],[1,"flex","justify-center"],[1,"flex","flex-row","justify-between"],[1,"pb-1","font-bold","italic"],[3,"count","total"],[1,"flex","justify-between",3,"ngClass"],[1,"flex","justify-between",3,"click","ngClass"],[1,"italic"]],template:function(n,r){n&1&&(d(0,"div",0),R(1,eS,4,4)(2,tS,4,4),f(),qe(3,iS,8,3,"div",0,JM),hg(5,"keyvalue")),n&2&&(y(),S(r.trackWeight?1:2),y(2),Ge(pg(5,1,r.groupedItems())))},dependencies:[Pg,Tc,Sn],styles:["progress[_ngcontent-%COMP%]::-webkit-progress-bar{border:2px solid #ccc;border-radius:5px;background-color:transparent}progress[_ngcontent-%COMP%]::-webkit-progress-value{background-color:#999;border-radius:3px}"]})};var Nc=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-lock-open"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M240-160h480v-400H240v400Zm240-120q33 0 56.5-23.5T560-360q0-33-23.5-56.5T480-440q-33 0-56.5 23.5T400-360q0 33 23.5 56.5T480-280ZM240-160v-400 400Zm0 80q-33 0-56.5-23.5T160-160v-400q0-33 23.5-56.5T240-640h280v-80q0-83 58.5-141.5T720-920q83 0 141.5 58.5T920-720h-80q0-50-35-85t-85-35q-50 0-85 35t-35 85v80h120q33 0 56.5 23.5T800-560v400q0 33-23.5 56.5T720-80H240Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var Rc=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-lock"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","M240-80q-33 0-56.5-23.5T160-160v-400q0-33 23.5-56.5T240-640h40v-80q0-83 58.5-141.5T480-920q83 0 141.5 58.5T680-720v80h40q33 0 56.5 23.5T800-560v400q0 33-23.5 56.5T720-80H240Zm0-80h480v-400H240v400Zm240-120q33 0 56.5-23.5T560-360q0-33-23.5-56.5T480-440q-33 0-56.5 23.5T400-360q0 33 23.5 56.5T480-280ZM360-640h240v-80q0-50-35-85t-85-35q-50 0-85 35t-35 85v80ZM240-160v-400 400Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};var oS=(t,e)=>e.question,sS=t=>({disabled:t});function aS(t,e){t&1&&b(0,"app-error",0),t&2&&N("error",e)}function cS(t,e){if(t&1){let n=te();d(0,"div",1)(1,"app-display-question",6),E("valueChange",function(i){let o=Y(n).$implicit,s=C(2);return K(s.modelChange(o.variable,i))}),f()()}if(t&2){let n=e.$implicit,r=C(2);N("ngClass",tt(3,sS,r.isLockActive())),y(),N("question",n.question)("value",r.model()[n.variable])}}function lS(t,e){t&1&&b(0,"app-icon-lock",4),t&2&&N("size",24)}function uS(t,e){t&1&&b(0,"app-icon-lock-open",4),t&2&&N("size",24)}function dS(t,e){if(t&1){let n=te();qe(0,cS,2,5,"div",1,oS),d(2,"div",2)(3,"button",3),E("click",function(){Y(n);let i=C();return K(i.toggleLock())}),R(4,lS,1,1,"app-icon-lock",4)(5,uS,1,1,"app-icon-lock-open",4),f()(),b(6,"app-display-items",5)}if(t&2){let n=C();Ge(n.questions()),y(4),S(n.isLockActive()?4:5),y(2),N("items",n.items())}}var Oc=class t{rulesPersistence=p(qt);packlistPersistence=p(Gt);rules=de([]);model=de(this.packlistPersistence.getAnswers());activeRules=ve(()=>{let e=this.model();return this.rules().filter(n=>n.condition.evaluate(e))});questions=ve(()=>this.activeRules().flatMap(e=>e.effects.questions));items=ve(()=>this.activeRules().flatMap(e=>e.effects.items));error=de(void 0);parser=p(Ye);config=p(Qe);constructor(){Ki(()=>{let e=this.model();this.packlistPersistence.saveAnswers(e)})}ngOnInit(){let e=this.rulesPersistence.getRules();try{this.rules.set(this.parser.parseRules(e)),this.error.set(void 0)}catch(n){n instanceof Error?this.error.set(n.message):this.error.set("An unknown error occurred"),console.error(n)}}modelChange(e,n){this.model.update(r=>F(D({},r),{[e]:n}))}isLockActive(){return this.config.isAnswersLocked()}toggleLock(){this.config.setAnswersLocked(!this.config.isAnswersLocked())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-packlist"]],standalone:!0,features:[M],decls:2,vars:1,consts:[[3,"error"],[1,"card","mb-1",3,"ngClass"],[1,"flex","justify-center"],[1,"icon",3,"click"],[3,"size"],[3,"items"],[3,"valueChange","question","value"]],template:function(n,r){if(n&1&&R(0,aS,1,1,"app-error",0)(1,dS,7,2),n&2){let i;S((i=r.error())?0:1,i)}},dependencies:[Sc,Ac,vi,Nc,Rc,Sn],encapsulation:2})};var _y={version:"0.0.0",git_hash:"fd12fba5166c640c050f99b2a16143a4f3dff95d"};var Cf="travel-packlist-rules.txt",kc=class t{packlist=p(Gt);rules=p(qt);env=_y;router=p(xt);config=p(Qe);parser=p(Ye);fadeOutDisabledRulesControl=new mt(this.config.isFadeOutDisabledRules());trackWeightControl=new mt(this.config.isTrackWeight());constructor(){this.fadeOutDisabledRulesControl.valueChanges.pipe(pt()).subscribe(e=>{this.config.setFadeOutDisabledRules(!!e)}),this.trackWeightControl.valueChanges.pipe(pt()).subscribe(e=>{this.config.setTrackWeight(!!e)})}isMobile(){let e=navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(e)}resetChecklist(){window.confirm("Are you sure you want to reset the checklist?")&&(this.packlist.saveAnswers({}),this.packlist.setCheckedItems([]),this.config.setAnswersLocked(!1),this.router.navigate(["/packlist"]))}resetEverything(){window.confirm("Are you sure you want to reset the whole application?")&&(this.packlist.saveAnswers({}),this.packlist.setCheckedItems([]),this.rules.resetRules(),this.config.resetConfig(),this.router.navigate(["/packlist"]))}downloadRules(){let e=this.rules.getRules(),n=new Blob([e],{type:"text/plain"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=Cf,i.click()}shareRules(){let e=this.rules.getRules();navigator.share({title:Cf,files:[new File([e],Cf,{type:"text/plain"})]})}exportRules(){this.isMobile()&&"share"in navigator?this.shareRules():this.downloadRules()}importRules(){let e=document.createElement("input");e.type="file",e.accept=".txt",e.onchange=async()=>{let n=e.files?.[0];if(!n)return;let r=await n.text();this.rules.saveRules(r);try{this.parser.parseRules(r),this.router.navigate(["/packlist"])}catch{this.router.navigate(["/rules"])}},e.click()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-config"]],standalone:!0,features:[M],decls:59,vars:6,consts:[[1,"section"],[1,"font-bold"],[3,"click"],[1,"flex","items-center","gap-3"],["type","checkbox","id","track-weight",3,"formControl"],["for","track-weight",1,"grow"],[1,"w-1/2","text-sm","italic"],["routerLink","/rules"],["type","checkbox","id","rules-debug-mode",3,"formControl"],["for","rules-debug-mode"],["routerLink","/documentation"],["routerLink","/rules-raw"],[1,"font-mono","text-sm","text-slate-500"],[3,"href"],[1,"flex","flex-col","gap-4"],["href","https://github.com/dhhyi/travel-packlist/issues","target","_blank"],["src","https://img.shields.io/github/issues/dhhyi/travel-packlist","alt","GitHub issues",1,"inline"],["href","mailto:dhhyi@aol.com","target","_blank"],["src","https://img.shields.io/badge/email-dhhyi%40aol.com-blue","alt","Email",1,"inline"],["href","https://ko-fi.com/danilohoffmann","target","_blank"],["src","https://storage.ko-fi.com/cdn/brandasset/kofi_button_stroke.png","alt","Buy Me a Coffee at ko-fi.com",1,"inline","max-w-40"],[1,"red",3,"click"]],template:function(n,r){n&1&&(d(0,"div",0)(1,"span",1),v(2,"Answers"),f(),d(3,"button",2),E("click",function(){return r.resetChecklist()}),v(4,"Reset Checklist"),f(),d(5,"div",3),b(6,"input",4),d(7,"label",5),v(8,"Track item weight"),f(),d(9,"p",6),v(10," You can enter the item weight appended to the item name in the editor. "),f()()(),d(11,"div",0)(12,"span",1),v(13,"Rules"),f(),d(14,"button",7),v(15,"Edit Rules"),f(),d(16,"div",3),b(17,"input",8),d(18,"label",9),v(19,"Fade out disabled rules in editor"),f()(),b(20,"hr"),d(21,"button",10),v(22,"Documentation"),f(),d(23,"button",11),v(24,"Edit Rules with Code"),f(),b(25,"hr"),d(26,"button",2),E("click",function(){return r.exportRules()}),v(27,"Export Rules"),f(),d(28,"button",2),E("click",function(){return r.importRules()}),v(29,"Import Rules"),f()(),d(30,"div",0)(31,"span",1),v(32,"App Version"),f(),d(33,"span"),v(34),f(),d(35,"span",12)(36,"a",13),v(37),f()()(),d(38,"div",0)(39,"span",1),v(40,"Support"),f(),d(41,"div",14)(42,"p"),v(43," If you find any bugs or have any suggestions, please open an issue on GitHub: "),d(44,"a",15),b(45,"img",16),f()(),d(46,"p"),v(47," Alternatively, you can reach out to me by "),d(48,"a",17),b(49,"img",18),f()(),d(50,"p"),v(51," If you like this app, please consider to "),d(52,"a",19),b(53,"img",20),f()()()(),d(54,"div",0)(55,"span",1),v(56,"DANGER!"),f(),d(57,"button",21),E("click",function(){return r.resetEverything()}),v(58,"Reset Application"),f()()),n&2&&(y(6),N("formControl",r.trackWeightControl),y(11),N("formControl",r.fadeOutDisabledRulesControl),y(17),De(r.env.version),y(2),zr("href","https://github.com/dhhyi/travel-packlist/commit/",r.env.git_hash,"",Bu),y(),De(r.env.git_hash))},dependencies:[Xa,si,Pn,df,Fn,So],styles:[".section[_ngcontent-%COMP%]{margin-bottom:.75rem;display:flex;flex-direction:column;gap:.5rem;border-bottom-width:1px;padding-bottom:.5rem}"]})};var Fc=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-documentation"]],standalone:!0,features:[M],decls:81,vars:0,consts:[["id","howtodefinerules"],["id","comments"],["id","rules"],["id","effects"],["id","questions"],["id","items"],["id","conditions"],["id","conclusion"]],template:function(n,r){n&1&&(d(0,"h1",0),v(1,"How to define rules"),f(),d(2,"h2",1),v(3,"Comments"),f(),d(4,"p"),v(5,"start with the "),d(6,"code"),v(7,"#"),f(),v(8," character and can be placed anywhere in the file. Code after a "),d(9,"code"),v(10,"#"),f(),v(11," will be ignored."),f(),d(12,"pre")(13,"code"),v(14,`# This is a comment
`),f()(),d(15,"h2",2),v(16,"Rules"),f(),d(17,"p"),v(18,"are defined with the following syntax:"),f(),d(19,"pre")(20,"code"),v(21,`Condition :- Effects ;
`),f()(),d(22,"p"),v(23,"Rules have to be separated by a semicolon character."),f(),d(24,"p"),v(25,"One example for a rule could be:"),f(),d(26,"pre")(27,"code"),v(28,`cold_weather :- [Clothing] Coat,
  Do you expect snow? $snow ;
`),f()(),d(29,"p"),v(30,'Means something like "If it is cold weather, you should bring a coat. Also, you should answer the question if you expect snow."'),f(),d(31,"h3",3),v(32,"Effects"),f(),d(33,"p"),v(34,"can be either "),d(35,"strong"),v(36,"questions"),f(),v(37," or "),d(38,"strong"),v(39,"items"),f(),v(40,` as seen above.
Separate multiple effects with a comma.`),f(),d(41,"h3",4),v(42,"Questions"),f(),d(43,"p"),v(44,"are defined with the following syntax:"),f(),d(45,"pre")(46,"code"),v(47,`Question? $variable
`),f()(),d(48,"p"),v(49,`A question will be displayed on top of the list.
You can toggle the answer by clicking on it.`),f(),d(50,"h3",5),v(51,"Items"),f(),d(52,"p"),v(53,"are defined with the following syntax:"),f(),d(54,"pre")(55,"code"),v(56,`[Category] Name
`),f()(),d(57,"p"),v(58,"An item will be displayed in the list under its category."),f(),d(59,"h3",6),v(60,"Conditions"),f(),d(61,"p"),v(62,`can be empty, in which case they are always true.
You can use variables for defining logic with AND, OR, and NOT.
Variables are defined in questions.
Conditions trigger the effects of the rule if they are true. So if the condition is not met, then you will neither see any addition questons nor items of that specific rule.`),f(),d(63,"p"),v(64,"Some examples for conditions:"),f(),d(65,"pre")(66,"code"),v(67,`cold_weather AND NOT snow
`),f()(),d(68,"p"),v(69,'Means something like "It is cold weather and it is not snowing".'),f(),d(70,"pre")(71,"code"),v(72,`washer OR laundromat
`),f()(),d(73,"p"),v(74,'Means something like "You have a washer in your AirBnB or you have a laundromat nearby".'),f(),d(75,"h2",7),v(76,"Conclusion"),f(),d(77,"p"),v(78,"With all of this you can define a conditional checklist very flexible."),f(),d(79,"p"),v(80,`One advice:
Don't trigger too many effects in one rule. It can get confusing.`),f())},styles:["h1[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;font-size:1.25rem;line-height:1.75rem;font-weight:700}h2[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;font-size:1.125rem;line-height:1.75rem;font-weight:700}h3[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;font-size:1rem;line-height:1.5rem;font-weight:700}p[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:.5rem;padding-top:.25rem;padding-bottom:.25rem;font-size:1rem;line-height:1.5rem}pre[_ngcontent-%COMP%]{margin-left:.5rem;margin-right:.5rem;border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity));padding:.5rem;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}"]})};function hS(t,e){t&1&&(d(0,"div",2),v(1,"Waiting for input."),f())}function pS(t,e){if(t&1&&(d(0,"div",3),v(1),f()),t&2){let n=C();y(),We(" Parsed ",n.noOfRules()," rules successfully! ")}}function mS(t,e){if(t&1&&(d(0,"div",4),v(1),f()),t&2){let n=C();y(),De(n.state())}}var Pc=class t{rules=new mt("");state=de("pending");parsedRules=de([]);noOfRules=ve(()=>this.parsedRules().length);persistence=p(qt);parser=p(Ye);constructor(){this.rules.valueChanges.pipe(le(()=>{this.state.set("pending")}),zn(500),pt()).subscribe({complete:()=>{this.persistence.saveRules(this.rules.value)},next:e=>{if(this.persistence.saveRules(e),e)try{let n=this.parser.parseRules(e);this.parsedRules.set(n),this.state.set("success")}catch(n){n instanceof Error?this.state.set(n.message):console.error(n)}}}),this.rules.setValue(this.persistence.getRules())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-edit-rules-raw"]],standalone:!0,features:[M],decls:5,vars:2,consts:[[1,"mb-8","w-full","grow","resize-none","rounded","border","border-gray-300","bg-gray-100","px-1","py-0","pb-10","font-mono","leading-tight","text-gray-700","focus:bg-white","focus:outline-none",3,"formControl"],[1,"absolute","bottom-0","left-0","w-full","bg-white","p-2","font-mono"],[1,"text-yellow-600"],[1,"text-green-700"],[1,"text-red-700"]],template:function(n,r){if(n&1&&(b(0,"textarea",0),d(1,"div",1),R(2,hS,2,0,"div",2)(3,pS,2,1,"div",3)(4,mS,2,1,"div",4),f()),n&2){let i;N("formControl",r.rules),y(2),S((i=r.state())==="pending"?2:i==="success"?3:4)}},dependencies:[Pn,kn,Fn,So],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}"]})};var Ey=[{path:"",redirectTo:"/packlist",pathMatch:"full"},{path:"packlist",component:Oc},{path:"config",component:kc},{path:"rules",component:Mc},{path:"rules-raw",component:Pc},{path:"documentation",component:Fc},{path:"**",redirectTo:"/packlist"}];var Oo="Service workers are disabled or not supported by this browser";function gS(t){return Bn(()=>cn(new Error(t)))}var Ci=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=gS(Oo);else{let r=br(e,"controllerchange").pipe(j(()=>e.controller)),i=Bn(()=>O(e.controller)),o=Tt(i,r);this.worker=o.pipe(ge(u=>!!u)),this.registration=this.worker.pipe(xe(()=>e.getRegistration()));let l=br(e,"message").pipe(j(u=>u.data)).pipe(ge(u=>u&&u.type)).pipe(ol());l.connect(),this.events=l}}postMessage(e,n){return this.worker.pipe(be(1),le(r=>{r.postMessage(D({action:e},n))})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,n);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let n;return typeof e=="string"?n=r=>r.type===e:n=r=>e.includes(r.type),this.events.pipe(ge(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(be(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(ge(n=>n.nonce===e),be(1),j(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},vS=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,this.pushManager=null,this.subscriptionChanges=new ce,!r.isEnabled){this.messages=Un,this.notificationClicks=Un,this.subscription=Un;return}this.messages=this.sw.eventsOfType("PUSH").pipe(j(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(j(o=>o.data)),this.pushManager=this.sw.registration.pipe(j(o=>o.pushManager));let i=this.pushManager.pipe(xe(o=>o.getSubscription()));this.subscription=fs(i,this.subscriptionChanges)}requestSubscription(r){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Oo));let i={userVisibleOnly:!0},o=this.decodeBase64(r.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(o.length));for(let a=0;a<o.length;a++)s[a]=o.charCodeAt(a);return i.applicationServerKey=s,this.pushManager.pipe(xe(a=>a.subscribe(i)),be(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Oo));let r=i=>{if(i===null)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(be(1),xe(r)).toPromise()}decodeBase64(r){return atob(r)}};e.\u0275fac=function(i){return new(i||e)(P(Ci))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})(),Df=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(r){if(this.sw=r,!r.isEnabled){this.versionUpdates=Un,this.unrecoverable=Un;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Oo));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:r},r)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Oo));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:r},r)}};e.\u0275fac=function(i){return new(i||e)(P(Ci))},e.\u0275prov=_({token:e,factory:e.\u0275fac});let t=e;return t})();var Iy=new A("");function yS(t,e,n,r){return()=>{if(!(Aa(r)&&"serviceWorker"in navigator&&n.enabled!==!1))return;let i=t.get(he),o=t.get(jt);i.runOutsideAngular(()=>{let a=navigator.serviceWorker,c=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",c),o.onDestroy(()=>{a.removeEventListener("controllerchange",c)})});let s;if(typeof n.registrationStrategy=="function")s=n.registrationStrategy();else{let[a,...c]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=O(null);break;case"registerWithDelay":s=xy(+c[0]||0);break;case"registerWhenStable":let l=oe(t.get(jt).whenStable());s=c[0]?fs(l,xy(+c[0])):l;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}i.runOutsideAngular(()=>s.pipe(be(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function xy(t){return O(null).pipe(rl(t))}function CS(t,e){return new Ci(Aa(e)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var Ro=class{};function My(t,e={}){return Ur([vS,Df,{provide:Iy,useValue:t},{provide:Ro,useValue:e},{provide:Ci,useFactory:CS,deps:[Ro,Et]},{provide:Gr,useFactory:yS,deps:[Se,Iy,Ro,Et],multi:!0}])}var Sy={providers:[Dg(),kv(Ey,jv()),My("ngsw-worker.js",{enabled:!bg(),registrationStrategy:"registerWhenStable:30000"})]};var Lc=class t{size=k(18);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-icon-cog"]],inputs:{size:[1,"size"]},standalone:!0,features:[M],decls:2,vars:2,consts:[["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","fill","#000000"],["d","m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z"]],template:function(n,r){n&1&&(ue(),d(0,"svg",0),b(1,"path",1),f()),n&2&&ne("height",r.size()+"px")("width",r.size()+"px")},encapsulation:2})};function DS(t,e){if(t&1){let n=te();d(0,"div",7)(1,"button",8),E("click",function(){Y(n);let i=C();return K(i.scrollTop())}),b(2,"app-icon-up",5),f()()}t&2&&(y(2),N("size",32))}var Vc=class t{swUpdate=p(Df);constructor(){this.swUpdate.versionUpdates.subscribe(e=>{e.type==="VERSION_READY"&&this.swUpdate.activateUpdate().then(()=>{window.location.reload()})})}scrollTop(){window.scrollTo({top:0,behavior:"smooth"})}onScroll(){this.scrollTopVisible=window.scrollY>100}scrollTopVisible=!1;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-root"]],hostBindings:function(n,r){n&1&&E("scroll",function(){return r.onScroll()},!1,fa)},standalone:!0,features:[M],decls:10,vars:2,consts:[[1,"flex","h-12","flex-row","items-center","p-2"],["routerLink","/",1,"flex","grow"],["src","icon.png","alt","icon","width","32px","height","32px"],[1,"text-2xl","font-bold"],["routerLink","/config",1,"pr-2"],[3,"size"],[1,"grow-children","flex","grow","flex-col","px-2","pb-2"],[1,"sticky","bottom-2","flex","justify-center"],[1,"rounded-3xl","border","border-slate-300","bg-white","shadow-xl",3,"click"]],template:function(n,r){n&1&&(d(0,"nav",0)(1,"a",1),b(2,"img",2),d(3,"span",3),v(4,"Travel Packlist"),f()(),d(5,"a",4),b(6,"app-icon-cog",5),f()(),d(7,"div",6),b(8,"router-outlet"),R(9,DS,3,1,"div",7),f()),n&2&&(y(6),N("size",24),y(3),S(r.scrollTopVisible?9:-1))},dependencies:[Xa,Xd,si,Lc,mi],encapsulation:2})};zg(Vc,Sy).catch(t=>console.error(t));
