import{b as v,d as b,i as x,o as V,q as F}from"./chunk-640402e6.js";import{a as K}from"./chunk-384b19a2.js";import{s as h}from"./chunk-83fa9341.js";import"./chunk-3547fb00.js";import{l as T}from"./chunk-4116a9c8.js";import{Bb as l,Cb as r,Db as N,E as p,Kb as u,Lb as O,Mb as $,Nb as I,P as f,Pb as P,Ta as R,Wb as U,Yb as W,ba as A,bc as G,eb as M,jb as S,rb as m,tc as d,uc as C,vc as y,wb as E}from"./chunk-ed797429.js";import"./chunk-3500bcc6.js";function X(e,s){e&1&&(l(0,"div",4),u(1,0),r());}function w(e,s){if(e&1&&(G(0),l(1,"div",5),u(2,1),r()),e&2){let _=P().rules;R(2),O(_)(_),$(2);}}function D(e,s){if(e&1&&(l(0,"div",6),U(1),r()),e&2){let t=P();R(),W(" ",t.error," ");}}function z(e,s){if(e&1&&S(0,X,2,0,"div",4)(1,w,3,2,"div",5)(2,D,2,1,"div",6),e&2){let t;E((t=s.type)==="pending"?0:t==="success"?1:2);}}var _e=(()=>{class e{state=A(h);fb=A(V).nonNullable;rulesControl=this.fb.control(this.state.rules.raw.value());rulesText=T(this.rulesControl.valueChanges.pipe(f(this.rulesControl.value)));rulesPending=d(()=>this.rulesText()!==this.state.rules.raw.value());parserState=d(()=>this.rulesPending()?{type:"pending"}:this.state.rules.parsed.status()===y.Error?{type:"error",error:K(this.state.rules.parsed.error())}:{type:"success",rules:this.state.rules.parsed.value().length});constructor(){let t=T(this.rulesControl.valueChanges.pipe(p(500)));C(()=>{let _=t();typeof _=="string"&&_!==this.state.rules.raw.value()&&this.state.localRules.updateRules(_);}),C(()=>{this.state.rules.mode()==="local"?this.rulesControl.enable():this.rulesControl.disable();});}static ɵfac=function(_){return new(_||e)();};static ɵcmp=M({type:e,selectors:[["app-edit-rules-raw"]],decls:3,vars:2,consts:()=>{let t;t="Regeln als Code";let _;_="Parser-Zustand";let o;o="ausstehend";let i;i="Erfolg";let L;L="Fehler";let c;c="Warten auf Eingabe.";let a;a="{VAR_PLURAL, plural, one {Eine Regel} other {{INTERPOLATION} Regeln}}",a=I(a,{INTERPOLATION:"\uFFFD1\uFFFD",VAR_PLURAL:"\uFFFD0\uFFFD"});let g;return g=""+a+" erfolgreich geparst!",[c,g,["aria-label",t,1,"grow","resize-none","rounded","border","border-gray-300","bg-gray-100","px-1","py-0","pb-8","font-mono","leading-tight","text-gray-700","focus:outline-none","dark:bg-gray-900","dark:text-gray-300",3,"formControl"],["aria-label",_,"aria-live","polite",1,"bg-active","bottom-0","p-2","font-mono"],["aria-label",o,1,"text-yellow-normal"],["aria-label",i,1,"text-green"],["aria-label",L,1,"text-red"]];},template:function(_,o){if(_&1&&(N(0,"textarea",2),l(1,"div",3),S(2,z,3,1),r()),_&2){let i;m("formControl",o.rulesControl),R(2),E((i=o.parserState())?2:-1,i);}},dependencies:[F,v,b,x],styles:["[_nghost-%COMP%]{display:flex;flex-grow:1;flex-direction:column}"],changeDetection:0});}return e;})();export{_e as EditRulesRawComponent};/**i18n:e46b0899b8a70e325374c271d32fbb927f955365ba6c424ec8a1c5b1d8e80e46*/