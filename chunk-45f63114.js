import{b as O,c as B}from"./chunk-a7c28a49.js";import{r as X}from"./chunk-0176966d.js";import{u as j}from"./chunk-c3bc517f.js";import{c as D,e as z,g as K}from"./chunk-d424d774.js";import"./chunk-32f3b8a5.js";import{Bc as V,Db as T,Fb as x,Lb as d,Mb as F,Nb as b,Oa as c,Pb as A,Rb as _,Xb as N,Za as y,Zb as h,ac as P,ba as I,bc as $,cb as C,ga as E,ha as u,lc as g,oc as w,pb as M,qb as p,qc as k,rb as m,rc as G,sb as L,ub as R,vb as v,wb as f,xb as l,yb as s}from"./chunk-df17556f.js";import"./chunk-bdc09bad.js";var U=t=>({$implicit:t});function q(t,o){if(t&1&&(l(0,"span"),P(1),s()),t&2){let e=_(2).$implicit;c(),$(e.sessionName);}}function H(t,o){t&1&&(l(0,"span"),d(1,1),s());}function J(t,o){if(t&1){let e=x();l(0,"h3",11),p(1,q,2,1,"span")(2,H,2,0,"span"),s(),l(3,"button",12),A("click",function(i){E(e);let a=_(),S=a.$implicit,r=a.$index;return _().clearSlot(S,r+1),u(i.stopPropagation());}),s();}if(t&2){let e=_().$implicit;c(),m(e.sessionName?1:2);}}function Q(t,o){t&1&&(l(0,"h3",8),d(1,2),s());}function W(t,o){t&1&&T(0);}function Y(t,o){if(t&1&&(l(0,"div",9)(1,"span"),d(2,3),w(3,"date"),s(),C(4,W,1,0,"ng-container",13),s()),t&2){let e=_(),n=e.$implicit,i=e.$index;_();let a=N(4);c(3),F(k(3,3,n.modifiedAt,"medium")),b(2),c(),f("ngTemplateOutlet",a)("ngTemplateOutletContext",g(6,U,i+1));}}function Z(t,o){t&1&&T(0);}function ee(t,o){if(t&1&&(l(0,"div",10),C(1,Z,1,0,"ng-container",13),s()),t&2){let e=_().$index;_();let n=N(4);c(),f("ngTemplateOutlet",n)("ngTemplateOutletContext",g(2,U,e+1));}}function te(t,o){if(t&1){let e=x();l(0,"div",6),A("keyup",function(){let i=E(e),a=i.$implicit,S=i.$index,r=_();return u(r.clickSlot(a,S+1));})("click",function(){let i=E(e),a=i.$implicit,S=i.$index,r=_();return u(r.clickSlot(a,S+1));}),l(1,"div",7),p(2,J,4,1)(3,Q,2,0,"h3",8),s(),p(4,Y,5,8,"div",9)(5,ee,2,4,"div",10),s();}if(t&2){let e=o.$implicit,n=o.$index,i=_();h("disabled",!e),M("aria-label",i.slotLabel(e,n)),c(2),m(e?2:3),c(2),m(e?4:5);}}function ne(t,o){t&1&&(l(0,"p",14),d(1,4),s());}function ie(t,o){if(t&1&&p(0,ne,2,0,"p",14),t&2){let e=_();m(e.type()==="restore"?0:-1);}}function oe(t,o){if(t&1&&(l(0,"span",15),P(1),s()),t&2){let e=o.$implicit;c(),$(e);}}var Ee=(()=>{class t{type=V.required();state=I(j);savedSessions=this.state.packlist.sessions;slotLabel(e,n){if(!e)return"Leerer Slot "+(n+1)+"";let i=new Date(e.modifiedAt);return this.type()==="restore"?"Lade Sitzung \""+e.sessionName+"\" vom "+i.toLocaleString()+"":this.type()==="new"?"\xDCberschreibe Sitzung \""+e.sessionName+"\" vom "+i.toLocaleString()+"":`Unknown session type: ${this.type()}`;}async clickSlot(e,n){if(this.type()==="restore")e&&(this.state.packlist.currentSlot.set(n),this.state.router.go("packlist"));else if(this.type()==="new"&&(!e||(await O("Bist du dir sicher, dass du die Sitzung \""+e.sessionName+"\" \xFCberschreiben willst?")))){this.state.packlist.copySessionToSlot(n),this.state.packlist.currentSlot.set(n);let i=await B("Gib dieser Sitzung einen Namen:",e?.sessionName??void 0);i&&this.state.packlist.setSessionName(i),this.state.router.go("packlist");}}async clearSlot(e,n){(await O("Bist du dir sicher, dass du die Sitzung mit dem Namen \""+e.sessionName+"\" l\xF6schen willst?"))&&this.state.packlist.clearSlot(n);}static ɵfac=function(n){return new(n||t)();};static ɵcmp=y({type:t,selectors:[["app-session"]],hostAttrs:[1,"flex","flex-col","h-full","w-full","gap-y-4","*:min-h-[100px]"],inputs:{type:[1,"type"]},decls:5,vars:1,consts:()=>{let e;e="Sitzung l\xF6schen";let n;n="Unbenannte Sitzung";let i;i="Leerer Slot";let a;a="gespeichert "+"\uFFFD0\uFFFD"+"";let S;return S="Keine gespeicherten Sitzungen gefunden.",[["slotNumberLabel",""],n,i,a,S,["tabindex","0","role","button",1,"card",3,"disabled"],["tabindex","0","role","button",1,"card",3,"keyup","click"],[1,"flex","justify-between"],[1,"text-lg","font-bold","italic"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","justify-end"],[1,"text-lg","font-bold"],["iconDelete","","iconClass","h-6 w-6","type","button","aria-label",e,1,"link",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"flex","justify-center","pt-8"],[1,"mx-2","mb-2","flex","h-8","w-8","items-center","justify-center","rounded-full","border-2","font-bold"]];},template:function(n,i){n&1&&(R(0,te,6,5,"div",5,L,!1,ie,1,1),C(3,oe,2,1,"ng-template",null,0,G)),n&2&&v(i.savedSessions());},dependencies:[K,D,X,z],encapsulation:2,changeDetection:0});}return t;})();export{Ee as SessionComponent};/**i18n:1e46c8204f38df38d095c36b85005d70b26c53f2afa257bd2af7cc57ec9b3308*/